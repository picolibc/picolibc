2000-09-05  Jeff Johnston <jjohnstn@redhat.com>

	* libc/include/fcntl.h (_FNDELAY): Changed to be _FNONBLOCK to
	make O_NDELAY and O_NONBLOCK have the same value.

2000-08-30  Kazu Hirata  <kazu@hxi.com>

        * libc/sys/h8300hms/crt0.S: Optimize for both speed and code size.

2000-08-30  Werner Almesberger  <Werner.Almesberger@epfl.ch>

        * libc/posix/execve.c: included unistd.h for "_execve" prototype.
        * libc/misc/unctrl.c libc/sys/sysvi386/crt0.c (sccsid): changed
        "#ifndef lint" to "#if defined(LIBC_SCCS) && !defined(lint)" like
        everywhere else.

2000-08-30  Geoffrey Keating  <geoffk@cygnus.com>

	* libc/string/swab.c: Specify that it's defined in <unistd.h>.
	* libc/include/string.h: Don't include <sys/types.h>,
	as it causes really bad namespace pollution.  Don't declare
	swab(), it is properly declared in unistd.h.

2000-08-29  Werner Almesberger  <Werner.Almesberger@epfl.ch>

        * libc/unix/getpwent.c (getpwnam, getpwuid, getpwent): removed
        (broken) support for non-existent /etc/passwd field "comment".

2000-08-27  Werner Almesberger  <Werner.Almesberger@epfl.ch>

        * libc/posix/scandir.c (DIRSIZ, scandir): use struct dirent.d_namlen
        only if _DIRENT_HAVE_D_NAMLEN is defined.
        (alphasort): aligned prototype with
        libc/sys/cygwin/sys/dirent.h and simplified function body.
        * libc/posix/telldir.c (telldir): changed "telldir" prototype to
        long telldir (DIR *) as mentioned in annex B of POSIX.1

2000-08-27  Werner Almesberger  <Werner.Almesberger@epfl.ch>

        * libc/machine/i386/i386mach.h: added SOTYPE_FUNCTION to set type
        of global entry points if _I386MACH_NEED_SOTYPE_FUNCTION is defined;
        Added __CLI and __STI macros (controlled via
        _I386MACH_ALLOW_HW_INTERRUPTS macro).
        * libc/machine/i386/f_atan2.S libc/machine/i386/f_atan2f.S
        libc/machine/i386/f_frexp.S libc/machine/i386/f_frexpf.S
        libc/machine/i386/f_ldexp.S libc/machine/i386/f_ldexpf.S
        libc/machine/i386/f_log.S libc/machine/i386/f_log10.S
        libc/machine/i386/f_log10f.S libc/machine/i386/f_logf.S
        libc/machine/i386/f_tan.S libc/machine/i386/f_tanf.S
        libc/machine/i386/memchr.S libc/machine/i386/memcmp.S
        libc/machine/i386/memcpy.S libc/machine/i386/memmove.S
        libc/machine/i386/memset.S libc/machine/i386/setjmp.S
        libc/machine/i386/strchr.S libc/machine/i386/strlen.S:
        (that's libc/machine/i386/*.S) added SOTYPE_FUNCTION(symbol)
        for all global entry points.
        * libc/machine/i386/setjmp.S: removed code replicated in
        libc/machine/i386/i386mach.h and included i386mach.h instead;
        Use __CLI and __STI instead of cli and sti.

2000-08-25  DJ Delorie  <dj@redhat.com>

	* libc/include/sys/unistd.h (environ): this one isn't from the
	DLL, no __IMPORT

Fri Aug 25 13:37:11 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/stdlib/system.c (do_system): Eliminate explicit declaration of
	environ when compiling under cygwin since it is already declared in
	unistd.h.

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/stdlib/mprec.c (ulp, b2d, d2b): changed a few expressions
	like  x << y-z  to the equivalent  x << (y-z).
	(d2b): changed if statements with assignment to perform the
	assignment prior to the if check.
	* libc/reent/reent.c: included stdlib.h for "_free_r" prototype.
	* libc/unix/getpass.c (getpass): moved "echo" assignment out of if.
	* libc/unix/ttyname.c: included string.h for "strcpy" prototype.
	* libc/unix/getcwd.c (ISDOT): added parentheses to clarify && and ||
	precedence.
	* libc/include/sys/unistd.h: added "vfork" prototype (for popen.c).
	Added "_execve" prototype (for execl.c, execle.c, execv.c, and 
	execve.c).
	* libc/posix/popen.c (popen): added parentheses to clarify && and ||
	precedence.
	* libm/math/e_cosh.c (__ieee754_cosh): changed parentheses to
	clarify && and || precendence (and to remove pascalism).
	* libm/math/e_sinh.c (__ieee754_sinh): Ditto.
	* libm/math/s_infconst.c: added another pair of braces to all
	initializers for __infinity (need three: for __infinity[1] array,
	for union __dmath, and for i[2]).

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/stdlib/abort.c: changed description: uses "raise" instead of
	"getpid" and "kill"; added: uses "write" and "_exit".
	Also included unistd.h for "_exit" prototype.
	* libc/stdlib/system.c: included unistd.h for "execve" prototype,
	reent.h for "_fork_r" and "_wait_r" prototypes.
	(do_system): changed  extern char *environ[] to POSIX-friendly 
	extern char **environ.
	* libc/stdlib/wctomb_r.c: included string.h for "strlen" and "strcmp"
	prototypes.
	* libc/stdlib/remove.c: included reent.h for "_unlink_r" prototype.
	* libc/reent/execr.c: included sys/wait.h for "wait" prototype.
	* libc/reent/fstatr.c: included sys/stat.h for "fstat" prototype.
	* libc/reent/openr.c: included fcntl.h for "open" prototype.
	* libc/reent/signalr.c: included signal.h for "kill" prototype,
	unistd.h for "getpid" prototype.
	* libc/reent/statr.c: included sys/stat.h for "stat" prototype.
	* libc/reent/timer.c: included sys/time.h for "gettimeofday" prototype.
	* libc/unix/getut.c (utmpname): removed local, incorrect "strdup"
	prototype.  Also included stdlib.h for "abort", string.h for
	"strdup" and "strncmp" prototypes.
	* libc/unix/getlogin.c: included string.h for "strncmp", "memset", and
	"strncpy", unistd.h for "read" and "close" prototypes.
	* libc/posix/execvp.c: included string.h for "strchr", "strlen", and
	"strcat" prototypes.

2000-08-23  Werner Almesberger  <Wernen Almesberger@epfl.ch>

	* libc/stdio/stdio.c (__swrite): declare "oldmode" only if it's
	used later (ifdef __SCLE)
	* libc/stdio/vfscanf.c (__svfscanf): declare "state" only if it's
	used later (ifdef MB_CAPABLE)
	* libc/string/memset.c (memset): removed unused variables "count"
	and "unaligned_addr"
	* libc/locale/locale.c (_setlocale_r): declare "lc_ctype" and
	"last_lc_ctype" only of they're used later (ifdef MB_CAPABLE)
	* libc/unix/getpwent.c (getpwnam): removed unused variables "uid"
	and "gid"

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

        * libc/stdlib/envlock.c: changed documented "__env_lock" and
        "__env_unlock" prototype from "void *" or "char *" to
        "struct _reent *" to match real function.  Also added include
	of envlock.h.
        * libc/stdlib/mlock.c: changed documented "__malloc_lock" and
        "__malloc_unlock" prototype from "void *" or "char *" to
        "struct _reent *" to match real function.
        * libc/stdlib/envlock.h: added "__env_lock" and "__env_unlock"
        prototypes (for getenv_r.c and setenv_r.c).

2000-08-22  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/unix/getut.c (utmpname): added _CONST to reflect common use
	and prototype in cygwin's utmp.h

2000-08-16  Eric Fifer  <efifer@sanwaint.com>

        * libc/stdio/vfprintf.c (_vfprintf_r): suppress . with "%.0f", 0.1

2000-08-09  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Recode to clean up function prologues and
	epilogue and to allow the functions to be used in a Thumb based
	toolchain.

2000-08-08  Jeff Johnston <jjohnstn@redhat.com>

	* libc/stdio/snprintf.c (snprintf, _snprintf_r): Fixed code
	so size of 0 results in nothing being written to string.
	Also fixed code so that when size is non-zero, there is only
	a maximum of size - 1 characters written to the array and
	a nul terminator is appended at the end.
	* libc/stdio/vsnprintf.c (vsnprintf, _vsnprintf_r): Ditto.

2000-08-01  DJ Delorie  <dj@redhat.com>

	* libc/include/sys/config.h: define __IMPORT appropriately
	* libc/include/ctype.h (_ctype_): use __IMPORT
	* libc/include/math.h (__infinity, signam, _LIB_VERSION): ditto
	* libc/include/math.h (__mb_cur_max): ditto
	* libc/include/time.h (_timezone, _daylight, _tzname): ditto
	* libc/include/unctrl.h (__unctrl, __unctrllen): ditto
	* libc/include/errno.h (_sys_errlist, _sys_nerr): ditto
	* libc/include/unistd.h (environ): ditto

2000-07-28  Michael Meissner  <meissner@redhat.com>

	* libc/include/math.h (__infinity): Declare as an array without
	bounds to get around small data support.  Rewrite Cygwin support
	to be more general.
	* libm/math/s_infconst.c (__infinity): Ditto.
	* libm/mathfp/s_infconst.c (__infinity): Ditto.

Thu Jul 27 10:46:01 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/math.h: Use appropriate dll import linkage for
	__infinity under Cygwin.

2000-07-13  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/vfprintf.c: pad 0.0 correctly with %e

Wed Jun 28 14:08:00 2000  Keith Walker  <keith.walker@arm.com>

	* libc/sys/arm/crt0.S (.LC30): Added missing length parameter
	to argument list for AngelSWI_Reason_GetCmdLine.

Tue Jun 27 15:49:00 2000  Marek Michalkiewicz  <marekm@linux.org.pl>

	* configure.host: Add support for AVR target.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/sys/config.h: Likewise.

Thu Jun 22 18:35:00 2000  Ranjith Kumaran  <ranjith@cygnus.com>

	* README: Newlib 1.8.2 must be built in a separate directory
	than the sources.

Tue Jun 20 14:30:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

        * libc/include/sys/reent.h (_rand_next): Added __extension__
        qualifier as long long type is not strict ANSI.
        * libc/stdlib/rand.c (rand): Added __extension__ qualifier
        to long long constant.

Fri Jun 16 23:02:00 2000  Corinna Vinschen <corinna@vinschen.de>

        * libc/include/sys/unistd.h: Add prototypes for `seteuid' and
        `setegid' provided by Cygwin.

Thu Jun 15  0:21:00 2000  Corinna Vinschen <corinna@vinschen.de>

        * libc/stdio/fdopen.c: Take explicit given bin/textmode into
        account for Cygwin.

Fri Jun  9 14:28:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

        * libc/include/sys/reent.h (_rand_next): Changed to
        unsigned long long and moved to end of _reent struct in _new union.
        (_REENT_INIT): Changed to move _rand_next initialization.
        * libc/stdlib/rand.c (rand): Changed to use unsigned long long
        linear congruential algorithm that is used by DJGPP.

Thu Jun  8 21:18:00 2000  Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/include/stdlib.h: Set RAND_MAX to __RAND_MAX.
	* libc/include/sys/config.h: Define __RAND_MAX.

Thu Jun  8 17:54:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

        * libc/stdlib/rand_r.c: New algorithm that meets minimal
        standard.

Fri Jun  2 23:02:11 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/string.h: Work around problem with strsignal and gdb.

Tue May 30 13:13:01 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/ctype.h: __CYGWIN32__ -> __CYGWIN__
	* libc/include/malloc.h: Ditto.
	* libc/include/process.h: Ditto.
	* libc/include/stdio.h: Ditto.
	* libc/include/stdlib.h: Ditto.
	* libc/include/time.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/include/sys/errno.h: Ditto.
	* libc/include/sys/signal.h: Ditto.
	* libc/include/sys/stat.h: Ditto.
	* libc/include/sys/time.h: Ditto.
	* libc/include/sys/unistd.h: Ditto.
	* libc/include/string.h: Ditto.  strsignal should return a const char *.

2000-05-26  Marek Michalkiewicz  <marekm@linux.org.pl>

	* libm/common/s_expm1.c (expm1): Add curly braces, avoid warnings.
	* libm/common/s_log1p.c (log1p): Likewise.
	* libm/common/s_scalbn.c (scalbn): Likewise.
	* libm/math/e_log.c: Likewise.
	* libm/math/e_asin.c: Likewise.
	* libm/math/ef_asin.c: Likewise.
	* libm/math/e_j0.c (pzero, qzero): Remove redundant test.
	* libm/math/e_j1.c (pone, qone): Likewise.
	* libm/math/ef_j0.c (pzerof, qzerof): Likewise.
	* libm/math/ef_j1.c (ponef, qonef): Likewise.
	* libm/mathfp/e_j0.c (pzero, qzero): Likewise.
	* libm/mathfp/e_j1.c (pone, qone): Likewise.
	* libm/mathfp/ef_j0.c (pzerof, qzerof): Likewise.
	* libm/mathfp/ef_j1.c (ponef, qonef): Likewise.

2000-05-19  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/stdio.c (__stextmode): new, see if file is text mode
	(__sread): always read in binary mode
	(__swrite): always write in binary mode
	* libc/include/stdio.h: no getc/putc macros for cygwin; causes
	compatibility issues with different dll versions
	* libc/stdio/fopen.c: use __stextmode
	* libc/stdio/fdopen.c: ditto
	* libc/stdio/freopen.c: ditto
	* libc/stdio/findfp.c: set up __SCLE for std{in,out,err}
	* libc/stdio/local.h: declare __stextmode
	
2000-05-18  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/fgets.c (fgets): perform CRLF conversions if __SCLE
	
Mon May 15 18:54:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/ctype.h: Changed tolower and toupper macros
	to use __extension__ to prevent pedantic warnings.

Mon May 15 14:26:00 2000  Joel Sherrill  <joel@oarcorp.com>

	* libc/sys/rtems/sys/time.h: Add macros for manipulating timeval
	structures.

Wed May 10 19:24:53 2000  Jim Wilson  <wilson@cygnus.com>

	* libc/include/machine/ieeefp.h: Add ia64 support.
	* configure.host: Likewise.

Wed May 10 13:52:24 2000  Egor Duda <deo@logos-m.ru>

        * libc/time/asctime_r.c (asctime_r): Change output format. Day of
        month is now padded with space, not zero.  This now conforms to
	ANSI standard.

Wed May 03 17:57:00 2000  Corinna Vinschen <corinna@vinschen.de>

        * libc/include/sys/errno.h: Add define for ENOSHARE ("No such
        host or network path") used by cygwin. Add some comments.

Tue May 02 23:45:48 2000  DJ Delorie  <dj@cygnus.com>

	* libc/include/stdio.h (FILE): define __SCLE for "convert line
	endings" for Cygwin.
	(__sgetc): convert line endings if needed
	(__sputc): ditto
	* libc/stdio/fdopen.c (_fdopen_r): Remember if we opened in text mode
	* libc/stdio/fopen.c (_fopen_r): ditto
	* libc/stdio/freopen.c (freopen): ditto
	* libc/stdio/fread.c (fread): perform CRLF conversions if __SCLE
	* libc/stdio/fvwrite.c (__sfvwrite): ditto

Thu Apr 27 07:45:48 2000  Alexandre Oliva  <aoliva@cygnus.com>

	* libc/machine/mn10300/setjmp.S (setjmp, longjmp): Use
	post-increment when it is worth it, spacewise.

Mon Apr 17 12:46:00 2000  Marek Michalkiewicz <marekm@linux.org.pl>

	* libc/signal/signal.c (_signal_r) : Removed unused local variable temp.
	* libc/stdio/findfp.c (std): Added declaration of flags and file.
	* libc/stdio/mktemp.c (_gettemp, _mkstemp_r, mkstemp): Added int 
	return type.
	* libc/stdio/putchar.c (putchar): Added return statement.
	* libc/stdio/refill.c (lflush): Added correct parentheses.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Ditto.
	* libc/stdio/vfscanf.c (__svfscanf): Changed sprintf call which 
	prints long value to use l qualifier.
	* libc/stdlib/dtoa.c (_dtoa_r): Added parentheses to remove warning
	messages and initialized local values: ilim, ilim1, and spec_case.
	* libc/stdlib/ecvtbuf.c (print_e): Removed unused variable dp.
	* libc/stdlib/mbctype.h (_issjis1, _issjis2): Added parentheses.
	* libc/stdlib/mprec.c: Ditto.
	* libc/stdlib/setenv_r.c: Ditto.
	* libc/stdlib/strtod.c: Ditto.
	* libc/stdlib/strtol.c: Ditto.
	* libc/stdlib/strtoul.c: Ditto.
	* libm/common/sf_expm1.c: Added curly braces to if else clauses.
	* libm/common/sf_log1p.c: Ditto.
	* libm/common/sf_scalbn.c: Ditto.
	* libm/math/ef_log.c: Ditto.

Sun Apr 16 12:45:00 2000  Corinna Vinschen <corinna@vinschen.de>

        * libc/posix/execvp.c (execvp): Check path for
        trailing slash.

Fri Mar 31 20:39:00 2000  Corinna Vinschen <corinna@vinschen.de>

        * libc/include/sys/unistd.h: Add prototypes for
        fchmod, fchown, lchown.

Fri Mar 24 15:34:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* acinclude.m4: Changed release to 1.8.2.
	* aclocal.m4 configure doc/aclocal.m4 doc/configure
	  libc/aclocal.m4 libc/configure libc/machine/aclocal.m4
	  libc/machine/configure libc/machine/a29k/aclocal.m4
	  libc/machine/a29k/configure libc/machine/arm/aclocal.m4
	  libc/machine/arm/configure libc/machine/d10v/aclocal.m4
	  libc/machine/d10v/configure libc/machine/d30v/aclocal.m4
	  libc/machine/d30v/configure libc/machine/fr30/aclocal.m4
	  libc/machine/fr30/configure libc/machine/h8300/aclocal.m4
	  libc/machine/h8300/configure libc/machine/h8500/aclocal.m4
	  libc/machine/h8500/configure libc/machine/hppa/aclocal.m4
	  libc/machine/hppa/configure libc/machine/i386/aclocal.m4
	  libc/machine/i386/configure libc/machine/i960/aclocal.m4
	  libc/machine/i960/configure libc/machine/m32r/aclocal.m4
	  libc/machine/m32r/configure libc/machine/m68k/aclocal.m4
	  libc/machine/m68k/configure libc/machine/m88k/aclocal.m4
	  libc/machine/m88k/configure libc/machine/mips/aclocal.m4
	  libc/machine/mips/configure libc/machine/mn10200/aclocal.m4
	  libc/machine/mn10200/configure libc/machine/mn10300/aclocal.m4
	  libc/machine/mn10300/configure libc/machine/necv70/aclocal.m4
	  libc/machine/necv70/configure libc/machine/powerpc/aclocal.m4
	  libc/machine/powerpc/configure libc/machine/sh/aclocal.m4
	  libc/machine/sh/configure libc/machine/sparc/aclocal.m4
	  libc/machine/sparc/configure libc/machine/tic80/aclocal.m4
	  libc/machine/tic80/configure libc/machine/v850/aclocal.m4
	  libc/machine/v850/configure libc/machine/w65/aclocal.m4
	  libc/machine/w65/configure libc/machine/z8k/aclocal.m4
	  libc/machine/z8k/configure libc/sys/aclocal.m4
	  libc/sys/aclocal.m4 libc/sys/configure
	  libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
	  libc/sys/arm/aclocal.m4 libc/sys/arm/configure
	  libc/sys/cygwin/aclocal.m4 libc/sys/cygwin/configure
	  libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
	  libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
	  libc/sys/go32/aclocal.m4 libc/sys/go32/configure
	  libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
	  libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/aclocal.m4 libc/sys/sh/configure
	  libc/sys/sparc64/aclocal.m4 libc/sys/sparc64/configure
	  libc/sys/sun4/aclocal.m4 libc/sys/sun4/configure
	  libc/sys/sysmec/aclocal.m4 libc/sys/sysmec/configure
	  libc/sys/sysnec810/aclocal.m4 libc/sys/sysnec810/configure
	  libc/sys/sysnecv850/aclocal.m4 libc/sys/sysnecv850/configure
	  libc/sys/sysvi386/aclocal.m4 libc/sys/sysvi386/configure
	  libc/sys/sysvnecv70/aclocal.m4 libc/sys/sysvnecv70/configure
	  libc/sys/tic80/aclocal.m4 libc/sys/tic80/configure
	  libc/sys/w65/aclocal.m4 libc/sys/w65/configure
	  libc/sys/z8ksim/aclocal.m4 libc/sys/z8ksim/configure
	  libm/aclocal.m4 libm/configure: Regenerated.

2000-03-24  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Fix compile time warnings.
	(do_AngelSWI): Add "cc" to list o registers clobbered.

Thu Mar 22 14:57:00 2000  Fernando Nasser <fnasser@redhat.com>

	* libc/sys/arm/syscalls.c (do_AngelSWI): Prevent registers with valid
	information to be clobbered by an Angel C library support syscall. 

Tue Mar 21 19:08:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdlib/envlock.c: Fixed comment typo.

Fri Mar 17 15:37:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/vfscanf.c (__svfscanf): Fixed floating point
	code to update nread as each character is processed instead
	of using buffer contents which throw away leading zeroes.

Mon Mar 13 15:22:00 2000  Sergei Organov <osv@javad.ru>

        * libm/mathfp/sf_sqrt.c: Change _DOUBLE_IS_32BITS sqrt call to sqrtf.

Fri Mar 10 16:09:20 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/include/string.h: Include <sys/types.h>.

Fri Mar 10 14:53:50 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/stdio/putw.c (putw): Return 0 on success, to be compliant
	with XSH5, not SVID.

Thu Mar  9 17:20:41 2000  Jeff Johnston <jjohnstn@cygnus.com>

        * libc/include/string.h: Changed last argument back to ssize_t
	to make it compatible with XPG4 definition which is 
	defined in <unistd.h>.  There is a conflict in the SVID 3
	and XPG4 definitions and newlib will settle with XPG4.
        * libc/string/swab.c: Ditto.

Wed Mar  8 17:11:41 2000  Jeff Johnston <jjohnstn@cygnus.com>

        * libc/include/string.h: Changed last argument to size_t.
        * libc/string/swab.c: Changed last argument to size_t.

Wed Mar  8 00:46:41 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/reent/Makefile.am (lib_a_SOURCES): Added unlinkr.c.
	(CHEWOUT_FILES): Added unlinkr.def.
	* libc/reent/Makefile.in: Rebuilt.
	* libc/sys.tex: Include unlinkr.def.
	* libc/reent/linkr.c (_unlink_r): Moved to...
	* libc/reent/unlinkr.c: ... new file.

Wed Mar  8 00:43:07 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/string/Makefile.am (lib_a_SOURCES): Added swab.c.
	(CHEWOUT_FILES): Added swab.def.
	* libc/string/Makefile.in: Rebuilt.
	* libc/string/string.tex: Include swab.def.
	* libc/include/string.h (swab): Declare.
	* libc/string/swab.c: New file.

Wed Mar  8 00:38:35 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/stdio/Makefile.am (lib_a_SOURCES): Added getw.c and putw.c.
	(CHEWOUT_FILES): Added getw.def and putw.def.
	* libc/stdio/Makefile.in: Rebuilt.
	* libc/stdio/stdio.tex: Include getw.def and putw.def.
	* libc/stdio/getw.c: New file.
	* libc/stdio/putw.c: New file.

Fri Feb 25 14:50:50 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/flags.c (__sflags): Added check that mode[1]
	is non-null before looking at mode[2].

Thu Feb 24 11:43:00 2000  Ran Cabell <rcabell@norfolk.infi.net>

	* libm/mathfp/sf_atan2.c: Fix atan2 typo for _DOUBLE_IS_32_BITS.
	* libm/mathfp/sf_atan.c: Ditto.

Thu Feb 24 11:39:00 2000  Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/stat.h: Add RTEMS prototype for lstat.

Tue Feb 22 14:37:00 2000  Ran Cabell <rcabell@norfolk.infi.net>

	* libm/mathfp/sf_exp.c: Corrected _DOUBLE_IS_32_BITS to be
	_DOUBLE_IS_32BITS.

Mon Feb 21 11:43:50 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/vfprintf.c (VFPRINTF): Added CHECK_INIT
	call prior to calling _VFPRINTF_R so reentrant data area is set.
	(_VFPRINTF_R): Removed now extraneous CHECK_INIT call.

Thu Feb 17 01:42:50 2000  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/stdio/vfscanf.c (limits.h): #include.
	(MAX_LONG_LEN): #define.
	(__svfscanf): Handle floating point numbers with arbitrary amounts
	of leading zeroes.

2000-02-15  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_fstat): Initialise all fields to
	zero.  Set the blocksize to 1024/

Thu Jan 20 18:57:00 2000  Fernando Nasser <fnasser@redhat.com>

	* setvbuf.c (setvbuf):  Set size to BUFSIZ when passed a zero size
	with line buffering.

Mon Jan 10 18:43:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* acinclude.m4: Changed include directory for winsup headers. 
	* aclocal.m4 configure libc/aclocal.m4
	  libc/configure libc/ctype/Makefile.in libc/errno/Makefile.in
	  libc/locale/Makefile.in libc/machine/aclocal.m4
	  libc/machine/configure libc/machine/a29k/aclocal.m4
	  libc/machine/a29k/configure libc/machine/arm/aclocal.m4
	  libc/machine/arm/configure libc/machine/d10v/aclocal.m4
	  libc/machine/d10v/configure libc/machine/d30v/aclocal.m4
	  libc/machine/d30v/configure libc/machine/fr30/aclocal.m4
	  libc/machine/fr30/configure
	  libc/machine/h8300/aclocal.m4
	  libc/machine/h8300/configure libc/machine/h8500/aclocal.m4
	  libc/machine/h8500/configure libc/machine/hppa/aclocal.m4
	  libc/machine/hppa/configure libc/machine/i386/aclocal.m4
	  libc/machine/i386/configure libc/machine/i960/aclocal.m4
	  libc/machine/i960/configure libc/machine/m32r/aclocal.m4
	  libc/machine/m32r/configure libc/machine/m68k/aclocal.m4
	  libc/machine/m68k/configure libc/machine/m88k/aclocal.m4
	  libc/machine/m88k/configure libc/machine/mips/aclocal.m4
	  libc/machine/mips/configure libc/machine/mn10200/aclocal.m4
	  libc/machine/mn10200/configure libc/machine/mn10300/aclocal.m4
	  libc/machine/mn10300/configure libc/machine/necv70/aclocal.m4
	  libc/machine/necv70/configure libc/machine/powerpc/aclocal.m4
	  libc/machine/powerpc/configure 
	  libc/machine/sh/aclocal.m4
	  libc/machine/sh/configure libc/machine/sparc/aclocal.m4
	  libc/machine/sparc/configure
	  libc/machine/tic80/aclocal.m4 libc/machine/tic80/configure
	  libc/machine/v850/aclocal.m4 libc/machine/v850/configure
	  libc/machine/w65/aclocal.m4 libc/machine/w65/configure
	  libc/machine/z8k/aclocal.m4 libc/machine/z8k/configure
	  libc/misc/Makefile.in libc/posix/Makefile.in
	  libc/reent/Makefile.in 
	  libc/signal/Makefile.in
	  libc/string/Makefile.in libc/sys/aclocal.m4 libc/sys/configure
	  libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
	  libc/sys/arm/Makefile.in libc/sys/arm/aclocal.m4
	  libc/sys/arm/configure libc/sys/cygwin/aclocal.m4
	  libc/sys/cygwin/configure libc/sys/d10v/Makefile.in
	  libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
	  libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
	  libc/sys/go32/aclocal.m4 libc/sys/go32/configure
	  libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
	  libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/Makefile.in libc/sys/sh/aclocal.m4
	  libc/sys/sh/configure libc/sys/sparc64/aclocal.m4
	  libc/sys/sparc64/configure libc/sys/sun4/aclocal.m4
	  libc/sys/sun4/configure libc/sys/sysmec/aclocal.m4
	  libc/sys/sysmec/configure libc/sys/sysnec810/aclocal.m4
	  libc/sys/sysnec810/configure libc/sys/sysnecv850/aclocal.m4
	  libc/sys/sysnecv850/configure libc/sys/sysvi386/aclocal.m4
	  libc/sys/sysvi386/configure libc/sys/sysvnecv70/aclocal.m4
	  libc/sys/sysvnecv70/configure libc/sys/tic80/aclocal.m4
	  libc/sys/tic80/configure libc/sys/w65/aclocal.m4
	  libc/sys/w65/configure libc/sys/z8ksim/aclocal.m4
	  libc/sys/z8ksim/configure libc/syscalls/Makefile.in
	  libc/time/Makefile.in libc/unix/Makefile.in libm/aclocal.m4
	  libm/configure: Regenerated.

Mon Jan 10 18:43:46 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdlib/putenv_r.c (_putenv_r): New file.
	* libc/stdlib/strdup_r.c (_strdup_r): New file.
	* libc/include/string.h: Added _strdup_r.
	* libc/stdlib/putenv.c: Added call to reentrant version. 
	* libc/stdlib/strdup.c: Ditto.
	* libc/stdlib/Makefile.am: Added _putenv_r and _unsetenv_r.
	* libc/include/stdlib.h: Ditto.
	* libc/stdlib/Makefile.in: Regenerated. 
	* libc/string/Makefile.in: Regenerated.
	* libc/stdlib/setenv.c: Added reentrant version of unsetenv.
	* libc/stdlib/setenv_r.c: Added unsetenv_r and changed memory
	management calls to reentrant versions.
	* libc/stdlib/wcstombs.c: Added #ifndef _REENT_ONLY wrapper.
	* libc/stdlib/wctomb.c: Ditto.
	* libc/stdlib/mblen.c: Ditto.
	* libc/stdlib/mbstowcs.c: Ditto.
	* libc/stdlib/mbtowc.c: Ditto. 
	* libc/stdlib/getenv.c: Ditto.
	* libc/reent/reent.tex: Added references to _putenv_r, _setenv_r,
	and _strdup_r.

Thu Jan  6 15:33:46 2000  Christopher Faylor <cgf@cygnus.com>

	patch from Corinna Vinschen <corinna@vinschen.de>
	* libc/sys/cygwin/sys/param.h: Define NGROUP_MAX as 16.

Mon Jan 03 14:36:00 2000  Sergei Organov <osv@javad.ru>

	* libm/mathfp/s_atangent.c: Fix exponent calculation.
	* libm/mathfp/s_ldexp.c: Ditto.
	* libm/mathfp/sf_atangent.c: Ditto.
	* libm/mathfp/sf_ldexp.c: Ditto.

Tue Dec 14 5:42:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/machine/i960/setjmp.S: fix typo leaving .link_pix uncommented
	* libc/include/locale.h: define NULL to be 0.

Tue Dec  7 15:41:45 1999  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sh/syscalls.c (stack_ptr): Move definition before first
	function.

Wed Dec  1 17:39:29 1999  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/mn10300/setjmp.S: Handle am33.

1999-11-26  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Add function prototypes.
	(stack_ptr): Move declaration before function definitions.

Sat Nov 20 17:13:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* NEWS: Updated version information.
	* README: Ditto.

Tue Nov 09 12:19:21 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/machine/i386/strchr.S: Fixed alignment test.

Thu Oct 28 05:30:46 1999  Andrew Cagney  <cagney@makita.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Construct a real stack frame.

Thu Oct 28 15:29:11 1999  Andrew Cagney  <cagney@b1.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Initialize both SPI and SPU
 	ensuring that there is space between the two.

Thu Oct 14 13:39:21 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/stdio/flags.c: Conditionalize check for 't' for cygwin case
	only.

1999-10-08  Vadim Egorov  <egorovv@1c.ru>

	* libc/include/stdlib.h: add ptsname, grantpt, unlockpt to cygwin
	section

Sat Oct  2 02:02:00 MEST 1999  Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/machine/sh/asm.h: Added __SH4_SINGLE__ to DELAYED_BRANCHES
	* libc/machine/sh/memcpy.S: Fix line wrapping in SL macro

Fri Oct  1 13:17:59 CDT 1999  <joel@OARcorp.com>
	* libc/include/grp.h: Added getgrnam_r and getgrgid_r prototypes
	  per POSIX 1003.1b.
	* libc/include/pwd.h: Added getpwnam_r and getpwuid_r prototypes
	  per POSIX 1003.1b.

1999-09-13  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/mktemp.c (_gettemp): on cygwin, check for EACCESS
	also.

Thu Sep  9 15:31:00 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* setvbuf.c (setvbuf):  When mallocing a buffer of size BUFSIZ,
	also note BUFSIZ as its size.

Tue Sep  7 17:15:00 1999  Joel Sherrill <joel@OARcorp.com>

	* configure.host: Corrected feature defines for RTEMS.
	* libc/include/sys/stat.h: Added protototype for RTEMS mknod.
	* libc/include/sys/stat.h: mkfifo() should take const path arg.
	* libc/include/sys/unistd.h: pathconf() should take const path arg.
	  Enabled usleep(), ftruncate(), and truncate() prototypes for RTEMS.
	  Added defines for _POSIX_JOB_CONTROL, _POSIX_SAVED_IDS, and
	  _POSIX_VERSION for RTEMS.  Added defines for _PC_ASYNC_IO,
	  _PC_PRIO_IO, and _PC_SYNC_IO.
	* libc/machine/m68k/Makefile.am: Added strcpy.c and strlen.c.
	* libc/machine/m68k/Makefile.in: Regenerated.
	* libc/machine/m68k/strcpy.c: New file.
	* libc/machine/m68k/strlen.c: New file.
	* libc/stdio/tmpnam.c: Always make the returned name usable.
	* libc/sys/rtems/crt0.c: New version that passes all autoconf tests.
	* libc/sys/rtems/sys/dirent.h: New file.
	* libc/sys/rtems/sys/types.h: Added dev_t.

Tue Sep  7 17:15:00 1999   Jay Kulpinski <jskulpin@eng01.gdds.com>

	* libc/stdlib/mprec.c: Fixed unitialized variable problem.

Fri Sep  3 12:35:20 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/ftell.c (ftell): Backing off Joern's fix and
	my patch.

Thu Sep  2 22:05:20 1999  Christopher Faylor <cgf@cygnus.com>

	patch from Jeff Johnston <jjohnstn@cygnus.com>
	* libc/stdio/ftell.c (ftell): Avoid using buffer position when the
	buffer is not in a useful state.

1999-09-01  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_link): Add stub.

Fri Aug 27 23:09:09 1999  J"orn Rennecke <amylaar@cygnus.co.uk>

	* ftell.c (ftell): Use actual position within buffer for text mode.
	* findfp.c (std): Initialize ptr->_bf._size.

Wed Aug 18 18:48:02 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Add nice() declaration.

1999-08-09  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S (change_mode): Rename to __change_mode and
	declare as a thumb function so that the disassembler will see the
	mode change.

Thu Aug  5 17:37:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/reent/reent.tex: Updated list of reentrant functions.

1999-07-09  Michael Meissner  <meissner@cygnus.com>

	* libc/include/stdlib.h (_findenv{,_r}): Add prototypes.
	
Tue Jul  6 10:46:24 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/sprintf.c: Moved snprintf and _snprintf_r to
	separate file.
	* libc/stdio/snprintf.c: New file.
	* libc/stdio/vsprintf.c: Moved vsnprintf and _vsnprintf_r to
	separate file.
	* libc/stdio/vsnprintf.c: New file.
	* libc/stdio/Makefile.am: Added snprintf.c and vsnprintf.c.
	* libc/stdio/Makefile.in: Regenerated.

Mon Jul  5 14:43:24 1999  Christopher Faylor <cgf@cygnus.com>

	Patch submitted by Egor Duda <deo@logos-m.ru>:
	* libc/include/stdio.h: Add declarations for *nprintf.
	* libc/stdio/sprintf.c (snprintf): New function.
	(_snprintf_r): New function.
	* libc/stdio/vsprintf.c (vsnprintf): New function.
	(_vnsprintf_r): New function.

Wed Jun 30 16:36:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/Makefile.am (stmp-targetdep): Remove extraneous blank.
	* libm/Makefile.am (stmp-targetdep): Ditto.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.in: Ditto.

Fri Jun 25 10:49:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/Makefile.am (stmp-targetdep): Ignore "." in SUBDIRS.
	* libm/Makefile.am (stmp-targetdep): Ditto.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.in: Ditto.

Thu June 03 16:25:00 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* Makefile.am: Removed dependencies on all-recursive and added "."
	to the SUBDIRS list to prevent infinite recursion from occurring.
	Also removed any references to EXTRA_DATA.
	* libc/Makefile.am: Ditto.
	* libc/machine/Makefile.am: Ditto.
	* libc/machine/i386/Makefile.am: Ditto.
	* libm/Makefile.am: Ditto.
	* libc/sys/Makefile.am: Ditto.
	* Makefile.in: Regenerated.
	* aclocal.m4: Ditto.
	* configure: Ditto.
	* doc/Makefile.in: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/Makefile.in: Ditto.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/machine/Makefile.in: Ditto.
	* libc/machine/aclocal.m4: Ditto.
	* libc/machine/configure: Ditto.
	* libc/machine/mn10300/Makefile.in: Ditto.
	* libc/machine/mn10300/aclocal.m4: Ditto.
	* libc/machine/mn10300/configure: Ditto.
	* libc/sys/Makefile.in: Ditto.
	* libc/sys/aclocal.m4: Ditto.
	* libc/sys/configure: Ditto.
	* libm/Makefile.in: Ditto.
	* libm/aclocal.m4: Ditto.
	* libm/configure: Ditto.

Thu June 03 16:20:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/include/stdlib/stdlib.tex: Add link to env_lock.

Fri May 28 17:09:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/include/stdlib.h: Add reentrant routines.
	* libc/stdlib/Makefile.am: Add reentrant routines.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/stdlib/envlock.c: New file.
	* libc/stdlib/envlock.h: New file.
	* libc/stdlib/getenv.c: Modify to call reentrant routine.
	* libc/stdlib/getenv_r.c: New file.
	* libc/stdlib/mblen.c: Modify to call reentrant routine.
	* libc/stdlib/mblen_r.c: New file.
	* libc/stdlib/setenv.c: Modify to call reentrant routine.
	* libc/stdlib/setenv_r.c: New file.
	* libc/stdlib/stdlib.tex: Add reentrant routines.

Mon May 17 22:01:38 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/types.h: Define __MS_types__ whenever
	cygwin or win32.

Sun May 16 16:02:41 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/machine/ieeefp.h: Always default to little
	endian if Windows, regardless of architecture.
	* libc/include/machine/sethmp.h: Define JBLEN if CYGWIN
	regardless of architecture.

Mon May  3 11:49:18 1999  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/machine/setjmp.h: Accept CYGWIN define, even if
	_WIN32 isn't defined.

Mon May  3 11:41:51 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/common/s_rint.c (rint): Add volatile qualifier for
	intermediate value w.
	* libm/common/sf_rint.c (rintf): Ditto.

Thu Apr 29 20:34:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/sys/arm/syscalls.c (remap_handle): Added check to
	ensure that std streams are initialized before being referenced.

1999-04-27  Jason Molenda  (jsm@bugshack.cygnus.com)

	* README: Update reference to newlib@cygnus.com new
	newlib@sourceware.cygnus.com address.

Mon Apr 26 18:17:33 1999  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/types.h: Define MS_types if CYGWIN is defined.
	* libc/include/sys/fcntl.h: Define _O_BINARY et al if CYGWIN is
	defined, even if _WIN32 isn't defined.

Sat Apr 24 19:59:55 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/fcntl.h: Correct _O_CREATE to _O_CREAT.

Wed Apr 21 18:01:00 1999  Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/include/sys/reent.h: Change Long and ULong to __Long and
	__ULong.
	* libc/stdlib/dtoa.c: Ditto.
	* libc/stdlib/mprec.c: Ditto.
	* libc/stdlib/mprec.h: Ditto.
	* libc/stdlib/strtod.c: Ditto.

1999-04-21  Nick Clifton  <nickc@cygnus.com>

	* configure.host (mcore): Remove mcore machine directory.

1999-04-18  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/ieeefp.h: Add support for mcore target.
	* libc/include/machine/setjmp.h: Add support for mcore target.
	* configure.host: Add support for mcore target.

1999-04-13  Mark Salter  <msalter@cygnus.com>

	* libc/sys/arm/libcfunc.c: Moved isatty to syscall.c
	* libc/sys/arm/syscalls.c: Added isatty.

Wed Apr 07 16:06:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/ecvtbuf.c (fcvtbuf): Fixed code to properly
	insert zeroes after significant digits.

Wed Mar 17 22:06:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>
	
	* libc/stdio/vfprintf.c (cvt): Changed floating point
	cvt routine to use union used by dtoa to properly determine
	if the sign bit is on or not.
	* libc/stdio/vfieeefp.h: New file
	
Wed Mar 17 17:35:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* aclocal.m4: Regenerated.
	* configure: Regenerated.

Wed Mar 17 16:35:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/Makefile.am (lib_a_SOURCES): Added missing
	f_tanf reference.
	* libc/machine/i386/Makefile.in: Regenerated.

Tue Mar 16 14:56:36 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* acinclude.m4: Changed to work with new automake.
	* configure: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/configure: Regenerated.

Tue Mar 16 13:55:36 1999  Corinna Vinschen  <corinna.vinschen@cityweb.de>

	* libc/sys/cygwin/sys/dirent.h: Add additional prototypes
	for telldir() and seekdir().  Rename unused structure element
	for use with these two routines.

Fri Mar 12 19:11:58 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/time/mktime.c (validate_structure): Multiple fixes to
	code to handle cases where input fields are outside valid ranges.
	* libc/stdlib/div.c (div): Modified invalid rounding check.
	* libc/stdlib/ldiv.c (ldiv): Ditto.

Thu Mar 11 21:32:13 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/memcpy.S: Performance rewrite.
	* libc/machine/i386/memmove.S: Ditto.
	* libc/machine/i386/i386mach.h: Added more register definitions.
	* libc/include/math.h: Include <machine/fastmath.h> if -ffast-math
	option used.
	* libc/include/machine/fastmath.h: Add definitions for x86
	fast-math routines.

Wed Mar 10 17:56:00 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/stdlib/strtod.c: Change from unsigned long to ULong.

Tue Mar  9 14:31:58 1999  Geoffrey Noer  <noer@cygnus.com>

	Adjust newlib headers for new Cygwin Win32 API header files:
	* libc/include/sys/time.h: Check _WINSOCK_H rather than
	_GNU_H_WINDOWS32_SOCKETS.
	* libc/include/sys/types.h: Ditto.

Tue Mar 09 15:55:00 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	*include/sys/reent.h: Add checks for size of Bigint element Long.
	*libc/dtoa.c: Change routines to use generic Long type.
	*libc/mprec.c: Change routines to use generic Long type.
	*libc/mprec.h: Change routines to use generic Long type.

Tue Mar 02 18:07:49 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/Makefile.am: Add .def files.
	* libc/Makefile.in: Regenerate.
	* libc/e_acosh.c: Documentation update.
	* libc/e_atanh.c: Documentation update.
	* libc/e_hypot.c: Documentation update.
	* libc/e_remainder.c: Documentation update.
	* libc/er_lgamma.c: Documentation update.
	* libc/mathfp.tex: Documentation update.
	* libc/s_acos.c: Documentation update.
	* libc/s_atan.c: Documentation update.
	* libc/s_atan2.c: Documentation update.
	* libc/s_cosh.c: Documentation update.
	* libc/s_fmod.c: Documentation update.
	* libc/s_isnan.c: Documentation update.
	* libc/s_log10.c: Documentation update.
	* libc/s_pow.c: Documentation update.
	* libc/w_jn.c: Documentation update.

Sun Feb 28 23:18:49 1999  Geoffrey Noer  <noer@cygnus.com>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

Tue Feb 23 13:57:26 1999  Jeff Johnston  <jjohnstn@cygnus.com>

        * libc/machine/mn10300/setjmp.S (_longjmp): Fixed longjmp
        to return 1 if user specified return code is 0.
        * libc/machine/mn10200/setjmp.S (_longjmp): Ditto.

Thu Feb 18 11:13:28 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10200/setjmp.S (_setjmp/_longjmp): Fixed setjmp
	to save the return address.  Fixed longjmp to return to the original
	calling address of setjmp and to return the user specified return code
	rather than default to 1.
	* libc/machine/mn10300/setjmp.S (_setjmp/_longjmp): Ditto.

Mon Feb 15 17:48:17 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mprec.h (mult): Define mult to be _multiply instead of _mult.

1999-02-10  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (initialise_monitor_handles): Make block
	volatile so that its assignments will not be discarded.

Wed Feb 10 17:19:40 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/_ansi.h: Corrected _STRICT_ANSI reference to
	be __STRICT_ANSI__ which is generated by compiler.
	* libc/include/ctype.h: Ditto.
	* libc/include/math.h: Ditto.
	* libc/include/stdio.h: Ditto.
	* libc/include/stdlib.h: Ditto.
	* libc/include/string.h: Ditto.
	* libc/include/sys/signal.h: Ditto.

1999-02-08  Nick Clifton  <nickc@cygnus.com>

	* configure.host: Add support for StrongARM target.

Fri Feb  5 11:13:14 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/strncpy.c (strncpy): Removed redundant code
	that was copying bytes if data unaligned.

1999-02-02  Brendan Kehoe  <brendan@cygnus.com>

	* libc/stdlib/Makefile.{am,in} (CHEWOUT_FILES): Add mblen.def,
	mbstowcs.def, and wcstombs.def.

Sat Jan 30 02:36:33 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/errno.h: Add Cygwin errno.
	* libc/stdio/flags.c: Don't default to O_TEXT if no other flag
	is specified.

1999-01-29  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Move C library functions into seperate
	file.
	
	* libc/sys/arm/libcfunc.c: New file containing C library functions
	from syscalls.c

	* libc/sys/arm/Makefile.am (lib_a_SOURCES): Add libcfuncs.c
	* libc/sys/arm/Makefile.in (lib_a_SOURCES): Regenerate.


1999-01-27  Michael Meissner  <meissner@cygnus.com>

	* libc/include/machine/setjmp.h (D30V _JBLEN/_JBTYPE): Use double
	type, and cut size in half so that the jmp_buf array is guaranteed
	to be aligned on a 64-bit boundary.

Mon Jan 25 12:05:38 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/strings.tex: Added information about
	strcasecmp and strncasecmp.
	* libc/stdlib/stdlib.tex: Added missing information
	about mblen, mbstowcs, and wcstombs.
	* libc/string/strchr.c: Changed how mask is built to use
	shift operators so register will be used instead of storage.

1999-01-22  DJ Delorie  <dj@cygnus.com>

	* libc/include/stdlib.h: don't use dllimport if we're building
	newlib, since it's inside cygwin.dll

Fri Jan 22 14:57:18 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/ctype/ctype_.c: Need to use __declspec(dllexport) for
	_ctype_ under cygwin.

Fri Jan 22 09:50:19 1999  Christopher Faylor <cgf@cygnus.com>

	* include/stdlib.h: Fix typo from previous checkin.

Thu Jan 21 22:42:21 1999  Christopher Faylor <cgf@cygnus.com>

	* include/ctype.h: Use __declspec(dllimport) method for exporting
	variable from cygwin DLL.
	* include/time.h: Ditto.
	* sys/errno.h: Ditto.
	* include/stdlib.h: Export __mb_cur_max from cygwin DLL.
	* libc/locale/locale.c: Use __declspec(dllexport) method for
	exporting variable from cygwin DLL.

Sat Jan 16 13:29:54 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/stdio/setvbuf.c: Always clean up when _IONBF or possible
	access of bogus pointer will result in SIGSEGV.

1999-01-07  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Use C macros to cope with the possibility
	of an underscore prefix to function names.

Fri Jan  8 19:00:07 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/i386mach.h (__REG_PREFIX__): Create new
	define __REG_PREFIX__ instead of using __REGISTER_PREFIX__.

1998-12-31  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/i386/i386mach.h (__REGISTER_PREFIX__): Only define
	to `%' if not already defined.

1998-12-30  Michael Meissner  <meissner@cygnus.com>

	* libc/stdio/tmpnam.c (_tempnam_r): Make directory and prefix
	arguments const char *, not char *.
	* libc/include/stdio.h (_tempnam_r): Ditto.

	* libc/include/sys/reent.h (struct _reent): The _sig_func type
	points to a function taking an integer, not void.

Tue Dec 29 14:35:53 1998  Christopher Faylor <cgf@cygnus.com>

	* configure.host: Add a define for Cygwin builds.
	* libc/include/ctype.h: Don't use dll imported variables in newlib.

Mon Dec 28 09:19:56 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/ctype.h: Define _ctype_ as dll imported variable
	for use with Cygwin.
	* libc/include/sys/errno.h: Define _sys_errlist and _sys_nerr as
	dll imported variables for use with Cygwin.
	* libc/ctype/ctype_.c: Undefine _ctype_ in case it has been defined
	as a dll imported variable for Cygwin.

Sat Dec 26 00:13:53 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Add proto for getpass.

Fri Dec 18 19:28:19 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin/sys/dirent.h: add protos for scandir and
	alphasort.

Fri Dec 18 16:33:25 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/posix/execvp.c (execvp): call cygwin_posix_path_list_p,
	not posix_path_list_p.

1998-12-15  Nick Clifton  <nickc@cygnus.com>

	* libc/string/memchr.c: Treat 'c' argument as an unsigned byte not
	a signed int.

1998-12-13  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/setjmp.h (_JBLEN): Set to 10.

1998-12-12  Nick Clifton  <nickc@cygnus.com>

	* libc/machine/fr30/setjmp.S: New file, supplied by Mark Slater
	<msalter@cygnus.com>
	* libc/machine/fr30/Makefile.am: Add build of setjmp.S
	* libc/machine/fr30/Makefile.in: Regenerated.

1998-12-11  Nick Clifton  <nickc@cygnus.com>

	* configure.host: Remove use of libc/sys for FR30 port.
	* libc/sys/fr30: Remove directory (replaced by libgloss).

1998-12-10  Ken Raeburn  <raeburn@cygnus.com>

	* libc/string/strcat.c (ALIGNED): Sense of result was reversed.
	* libc/string/strncat.c (ALIGNED): Ditto.

Wed Dec  9 14:37:57 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/time.h: include sys/types.h

Tue Dec  8 15:53:18 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/memcmp.S (memcmp): Fix for unequal
	comparison found when checking word at a time.

1998-12-04  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Initialise frame pointer.

1998-12-03  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/syscalls.c (_times): New function stub.

Thu Dec  3 15:59:19 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.host (mach_add_setjmp): Replaced mach_add_objs
	with mach_add_setjmp flag which indicates if setjmp should
	be added to the machine directory objects.
	* acinclude.m4: Removed reference to mach_add_objs.
	* aclocal.m4: Regenerated.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* libc/aclocal.m4: Regenerated.
	* libc/Makefile.in: Regenerated.
	* libc/configure: Regenerated.
	* libc/machine/aclocal.m4: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/machine/configure: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/Makefile.am: Altered to selectively add
	setjmp.S to the src files list.
	* libc/machine/i386/Makefile.in: Regenerated.
	* libc/machine/i386/configure.in: Altered to test mach_add_setjmp.
	* libc/machine/i386/configure: Regenerated.

1998-12-02  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Fix function names.

	* libc/machine/fr30: New directory
	* libc/machine/fr30/Makefile.am: New file.
	* libc/machine/fr30/Makefile.in: New generated file.
	* libc/machine/fr30/configure.in: New file.
	* libc/machine/fr30/configure: New generated file.
	* libc/machine/fr30/aclocal.m4: New generated file.
	* libc/sys/fr30/Makefile.am: New file.
	* libc/sys/fr30/Makefile.in: New generated file.
	* libc/sys/fr30/configure.in: New file.
	* libc/sys/fr30/configure: New generated file.
	* libc/sys/fr30/syscalls.c: New file.

Tue Dec  1 16:28:56 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin/sys/utmp.h: new file, moved from winsup/include.

1998-12-01  Ken Raeburn  <raeburn@cygnus.com>

	* libc/time/strftime.c (strftime): Also handle %y for years before
	1900.

Tue Dec  1 13:26:07 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/string/strcasecmp.c (strcasecmp): Adhere to standard
	UNIX convention.  Perform tolower on characters before comparing
	them rather than use toupper.
	* libc/string/strncasecmp.c (strncasecmp): Ditto.

Mon Nov 30 16:24:19 1998  Jeff Johnston  <jjohnstn@cygnus.com>
	
	* configure.host: Added using i386 machine directory
	for all x86 cross-compiler and configuring
	which added object files to use via new "mach_add_objs" variable.
	* configure: Regenerated.
	* libc/configure: Regenerated.
	* libc/Makefile.in: Regenerated.
	* libc/aclocal.m4: Regenerated.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/errno/Makefile.in: Regenerated.
	* libc/locale/Makefile.in: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/machine/aclocal.m4: Regenerated.
	* libc/machine/configure: Regenerated.
	* libc/posix/Makefile.in: Regenerated.
	* libc/reent/Makefile.in: Regenerated.
	* libc/signal/Makefile.in: Regenerated.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/memmove.c: Optimized code to use memcpy
	logic when performing a non-destructive copy.
	* libc/string/strncmp.c: Altered code to allow building
	optimized for size or speed.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/time/Makefile.in: Regenerated.
	* libc/unix/Makefile.in: Regenerated.
	* libc/machine/i386/Makefile.am: Added new files and reference
	to "mach_add_objs" to indicate optional object files.
	* libc/machine/i386/Makefile.in: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/configure: Regenerated.
	* libc/machine/i386/memchr.S: New file that implements
	function in Intel assembler.
	* libc/machine/i386/memcmp.S: ditto.
	* libc/machine/i386/memcpy.S: ditto.
	* libc/machine/i386/memmove.S: ditto.
	* libc/machine/i386/memset.S: ditto.
	* libc/machine/i386/strchr.S: ditto.
	* libc/machine/i386/strlen.S: ditto.
	* libc/machine/i386/f_atan2.S: New file that implements
	fast version of math function to be used by compiler when
	--ffast_math compile option is used.
	* libc/machine/i386/f_atan2f.S: ditto.
	* libc/machine/i386/f_exp.c: ditto.
	* libc/machine/i386/f_expf.c: ditto.
	* libc/machine/i386/f_frexp.S: ditto.
	* libc/machine/i386/f_frexpf.S: ditto.
	* libc/machine/i386/f_ldexp.S: ditto.
	* libc/machine/i386/f_ldexpf.S: ditto.
	* libc/machine/i386/f_log.S: ditto.
	* libc/machine/i386/f_logf.S: ditto.
	* libc/machine/i386/f_log10.S: ditto.
	* libc/machine/i386/f_log10f.S: ditto.
	* libc/machine/i386/f_math.h: New file.
	* libc/machine/i386/f_pow.c: ditto.
	* libc/machine/i386/f_powf.S: ditto.
	* libc/machine/i386/f_tan.S: ditto.
	* libc/machine/i386/f_tan.S: ditto.
	* libc/machine/i386/i386mach.h: New file.

Mon Nov 30 13:02:17 1998  Christopher Faylor <cgf@cygnus.com>

	patch from Mumit Khan <khan@xraylith.wisc.edu>
	* libc/include/stdio.h (tempnam): Add prototype.
	* libc/stdio/tmpnam.c (_tempnam_r): Handle NULL prefix.
	(tempnam): Adhere to prototype.

Thu Nov 26 00:21:32 1998  Christopher Faylor <cgf@cygnus.com>

	* Makefile.am: Add default for AR_FLAGS.
	* Makefile.in: Regenerate.

Tue Nov 24 18:48:56 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/time.h: move __cplusplus wrapper after includes
	* libc/include/sys/time.h: ditto.  If Cygwin, include
	sys/select.h.
	* libc/include/sys/types.h: lose "32" in comment about Cygwin.

1998-11-23  Ken Raeburn  <raeburn@cygnus.com>

	* libc/time/strftime.c (strftime): Handle %y after year 2000.

Wed Nov 18 12:22:41 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Switch over to using int #9 as
	abnormnal end-of-crt0 marker.

Tue Nov 17 16:27:58 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s: New file/directory.
	* libc/include/machine/setjmp.h: Add FR30 target.
	* libc/include/machine/ieeefp.h: Add FR30 target.
	* configure.host: Add FR30 target.

Mon Nov  16 23:15:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

        * libm/math: Files that are duplicated in common directory removed.
        * libm/math/fdlibm.h: Removed.
        * libm/math/s_cbrt.c: Removed.
        * libm/math/s_copysign.c: Removed.
        * libm/math/s_expm1.c: Removed.
        * libm/math/s_finite.c: Removed.
        * libm/math/s_ilogb.c: Removed.
        * libm/math/s_infinity.c: Removed.
        * libm/math/s_lib_ver.c: Removed.
        * libm/math/s_log1p.c: Removed.
        * libm/math/s_logb.c: Removed.
        * libm/math/s_matherr.c: Removed.
        * libm/math/s_modf.c: Removed.
        * libm/math/s_nan.c: Removed.
        * libm/math/s_nextafter.c: Removed.
        * libm/math/s_rint.c: Removed.
        * libm/math/s_scalbn.c: Removed.
        * libm/math/sf_cbrt.c: Removed.
        * libm/math/sf_copysign.c: Removed.
        * libm/math/sf_expm1.c: Removed.
        * libm/math/sf_finite.c: Removed.
        * libm/math/sf_ilogb.c: Removed.
        * libm/math/sf_infinity.c: Removed.
        * libm/math/sf_log1p.c: Removed.
        * libm/math/sf_logb.c: Removed.
        * libm/math/sf_modf.c: Removed.
        * libm/math/sf_nan.c: Removed.
        * libm/math/sf_nextafter.c: Removed.
        * libm/math/sf_rint.c: Removed.
        * libm/math/sf_scalbn.c: Removed.
        * libm/math/Makefile.am: Removed references to deleted files (above).
        * libm/math/Makefile.in: Regenerated.
        * libm/Makefile.am: Added common directory to math.
        * libm/Makefile.in: Regenerated.

Mon Nov  2 23:12:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

        * libm/mathfp: Add non-ANSI functions.
        * libm/mathfp/e_acosh.c acosh(): New file.
        * libm/mathfp/e_atanh.c atanh(): New file.
        * libm/mathfp/e_hypot.c hypot(): New file.
        * libm/mathfp/e_j0.c j0(): New file.
        * libm/mathfp/e_j1.c j1(): New file.
        * libm/mathfp/e_remainder.c remainder(): New file.
        * libm/mathfp/e_scalb.c scalb(): New file.
        * libm/mathfp/ef_acosh.c acoshf(): New file.
        * libm/mathfp/ef_atanh.c atanhf(): New file.
        * libm/mathfp/ef_hypot.c hypotf(): New file.
        * libm/mathfp/ef_j0.c j0f(): New file.
        * libm/mathfp/ef_j1.c j1f(): New file.
        * libm/mathfp/ef_remainder.c remainderf(): New file.
        * libm/mathfp/ef_scalb.c scalbf(): New file.
        * libm/mathfp/er_gamma.c gamma_r: New file.
        * libm/mathfp/er_lgamma.c lgamma_r(): New file.
        * libm/mathfp/erf_gamma.c gamma_rf(): New file.
        * libm/mathfp/erf_lgamma.c lgamma_rf(): New file.
        * libm/mathfp/w_cabs.c cabs(): New file.
        * libm/mathfp/w_drem.c drem(): New file.
        * libm/mathfp/w_jn.c jn(): New file.
        * libm/mathfp/wf_cabs.c cabsf(): New file.
        * libm/mathfp/wf_drem.c dremf(): New file.
        * libm/mathfp/wf_jn.c jnf(): New file.

Mon Nov  2 16:43:18 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32: remove directory and contents
	* libc/sys/cygwin: and add back, losing the "32".
	* configure.host: check for cygwin* instead of cygwin32.
	* acinclude.m4: ditto.
	* aclocal.m4: regenerate with aclocal
	* configure: regenerate with autoconf

Tue Oct 20 17:28:28 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/tmpnam.c (_tempnam_r): not enough memory allocated
	for length

Tue Oct 20 18:49:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (struct _reent): Added variables _rand_next, _strtok_last,
	_asctime_buf, _localtime_buf and _gamma_signgam to struct reent
	to make rand/srand, strtok, asctime, localtime, w_gamma,
	w_lgamma, wf_gamma, and wf_lgamma reentrant.  Included
	time.h to bring in struct tm definition.
	* libc/stdlib/rand.c (rand, srand): Don't emit functions 'rand' and 'srand' if
	'_REENT_ONLY' is set. Used variable '_rand_next' from struct reent.
	* libc/stdlib/strtok.c (strtok): Used variable '_strtok_last' from struct reent
	instead of static variable.
	* libc/stdlib/asctime.c (asctime): Used variable '_asctime_buf' from
	struct reent instead of static variable.
	* libc/stdlib/lcltime.c (localtime): Used variable '_localtime_buf' from
	struct reent instead of static variable.
	* libm/math/Makefile.am: Removed s_signgam.o.
	* libm/math/Makefile.in: Regenerated.
	* libm/math/w_gamma.c (gamma): Used variable '_gamma_signgam' from
	struct reent instead of global variable 'signgam'.
	* libm/math/w_lgamma.c (lgamma): Likewise.
	* libm/math/wf_gamma.c (gammaf): Likewise.
	* libm/math/wf_lgamma.c (lgammaf): Likewise.
	* libm/math/s_signgam.c: Removed.
	* libc/include/unctrl.h: Defined arrays __unctrl and __unctrllen
	to be const.
	* libc/misc/unctrl.c: Defined arrays __unctrl and __unctrllen
	to be const.
	* libc/reent/Makefile.am: Added dependence for impure.o on impure.c and
	libc/include/reent.h.
	* libc/reent/Makefile.in: Regenerated.
	* libc/stdio/vfprintf.c (_vfprintf_r): Defined arrays 'blanks' and 'zeroes'
	to be const.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Defined arrays 'JIS_state_table' and
	'JIS_action_table' to be const.
	* libm/math/s_lib_ver.c: define variable _LIB_VERSION to be const.

Mon Oct 12 00:26:33 1998  Christopher Faylor <cgf@cygnus.com>

	* acinclude.m4:  $with_target_subdir should default to '.'
	or confusion results when configuring in same directory as sources.
	* Regenerate all aclocal.m4 and configure files.

Fri Oct  9 16:27:36 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mallocr.c: Added 16 byte alignment support which
	can be set by defining MALLOC_ALIGNMENT=16.  Also added support
	for platforms where sizeof(size_t) < sizeof(long) via
	SIZE_T_SMALLER_THAN_LONG macro.
	
Wed Oct  7 14:02:40 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/time.h (CLOCKS_PER_SEC): Change CLOCKS_PER_SEC
	to refer to _CLOCKS_PER_SEC_ and added including <machine/time.h>
	which sets _CLOCKS_PER_SEC_ for selected machines.
	* libc/include/machine/time.h: New file.

Tue Oct  6 16:08:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/syscalls/sysexecve.c: New file.
	* libc/syscalls/sysgettod.c: New file.
	* libc/syscalls/systimes.c: New file.
	* libc/syscalls/Makefile.am: Added new objects.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/include/_syslist.h (_execve): Moved define in file.
	* libc/include/reent.h:  Added _execve_r declaration.
	* libc/Makefile.in: Regenerated.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/errno/Makefile.in: Regenerated.
	* libc/locale/Makefile.in: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/misc/Makefile.in: Regenerated.
	* libc/posix/Makefile.in: Regenerated.
	* libc/reent/Makefile.in: Regenerated.
	* libc/reent/execr.c (_execve_r): Added _execve_r function.
	* libc/signal/Makefile.in: Regenerated.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/time/Makefile.in: Regenerated.
	* libc/unix/Makefile.in: Regenerated.
	* libm/mathfp/Makefile.in: Regenerated.

Tue Oct  6 14:14:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/Makefile.in: Regenerated.
	* libc/string/memchr.c (memchr): Moved code to reduce object size.
	* libc/string/memcpy.c (memcpy): Ditto.
	* libc/string/memcmp.c (memcmp): Ditto.
	* libc/string/memset.c (memset): Ditto.
	* libc/string/strchr.c (strchr): Ditto.
	* libc/string/strcmp.c (strcmp): Ditto.
	* libc/string/strcpy.c (strcpy): Ditto.
	* libc/string/strlen.c (strlen): Ditto.

Tue Oct  6 13:58:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/acinclude.m4: Removed since newlib/acinclude.m4 can be used
	to generate aclocal.m4.
	* libm/Makefile.in: Regenerated.
	* libm/aclocal.m4: Regenerated.
	* libm/configure: Regenerated.
	* libm/math/Makefile.in: Regenerated.
	* libm/mathfp/Makefile.in: Regenerated.

1998-09-25  Mark Salter  <msalter@cygnus.com>

	* libc/include/machine/setjmp.h: Fixed test for mn10300 and mn10200
	by adding leading and trailing underscores to symbol names.

Tue Sep 22 15:33:41 1998  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in: Add default for AR_FLAGS.

Tue Sep 22 15:02:49 1998  Christopher Faylor <cgf@cygnus.com>

	patch from ian@airs.com (Ian Taylor):
	* acinclude.m4: Run AC_CANONICAL_BUILD explicitly before
	NEWLIB_CONFIGURE so AC_CANONICAL_HOST will be run before it
	is needed for detecting the build machine.  Required for
	cygwin native builds.

	* Regenerate all aclocal.m4 and configure files.

Mon Sep 21 14:44:16 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S: Prepend a period to all local labels that
	used to start with LC.

Thu Sep 17 18:18:11 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/setjmp.S (setjmp): Handle __SH4* like __SH3E__ .
	(longjmp): Likewise.

Thu Sep 17 16:25:33 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memset.S (memset): Move copy from r4 to r4 before
	the test for small number of bytes.

Thu Sep 10 11:40:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* Makefile.am: Add --enable-newlib-hw-fp check.  This builds the new
	math library that uses floating point algorithms instead of the old
	libm.
	* Makefile.in: Regenerate with automake version 1.3b.
	* configure: Rebuild.
	* libm/Makefile.in: Regenerate with automake version 1.3b.
	* libm/aclocal.m4: Regenerate.
	* libm/configure: Rebuild.
	* libm/configure.in: Add newlib_hw_fp definition and mathfp directory.
	* libm/acinclude.m4: Define macros for configure.in.
	* libm/config.h.in: Generate.
	* libm/mathfp/Makefile.am: New file.
	* libm/mathfp/Makefile.in: Generate.
	* libm/mathfp/s_acos.c (acos): New file.
	* libm/mathfp/s_asin.c (asin): New file.
	* libm/mathfp/s_asine.c (asine): New file.
	* libm/mathfp/s_atan.c (atan): New file.
	* libm/mathfp/s_atan2.c (atan2): New file.
	* libm/mathfp/s_atangent.c (atangent): New file.
	* libm/mathfp/s_ceil.c (ceil): New file.
	* libm/mathfp/s_copysign.c (copysign): New file.
	* libm/mathfp/s_cos.c (cos): New file.
	* libm/mathfp/s_cosh.c (cosh): New file.
	* libm/mathfp/s_exp.c (exp): New file.
	* libm/mathfp/s_fabs.c (fabs): New file.
	* libm/mathfp/s_finite.c (finite): New file.
	* libm/mathfp/s_floor.c (floor): New file.
	* libm/mathfp/s_fmod.c (fmod): New file.
	* libm/mathfp/s_frexp.c (frexp): New file.
	* libm/mathfp/s_infconst.c: New file.
	* libm/mathfp/s_isinf (isinf).c: New file.
	* libm/mathfp/s_isnan.c (isnan): New file.
	* libm/mathfp/s_ispos.c (ispos): New file.
	* libm/mathfp/s_ldexp.c (ldexp): New file.
	* libm/mathfp/s_log.c (log): New file.
	* libm/mathfp/s_log10.c (log10): New file.
	* libm/mathfp/s_logarithm.c (logarithm): New file.
	* libm/mathfp/s_mathcnst.c: New file.
	* libm/mathfp/s_modf (modf).c: New file.
	* libm/mathfp/s_numtest.c (numtest): New file.
	* libm/mathfp/s_pow.c (pow): New file.
	* libm/mathfp/s_scalbn.c (scalbn): New file.
	* libm/mathfp/s_sin (sin).c: New file.
	* libm/mathfp/s_sine.c (sine): New file.
	* libm/mathfp/s_sineh.c (sineh): New file.
	* libm/mathfp/s_sinf.c (sinf): New file.
	* libm/mathfp/s_sinh.c (sinh): New file.
	* libm/mathfp/s_sqrt.c (sqrt): New file.
	* libm/mathfp/s_tan.c (tan): New file.
	* libm/mathfp/s_tanh.c (tanh): New file.
	* libm/mathfp/sf_acos.c (acosf): New file.
	* libm/mathfp/sf_asin.c (asinf): New file.
	* libm/mathfp/sf_asine.c (asinef): New file.
	* libm/mathfp/sf_atan.c (atanf): New file.
	* libm/mathfp/sf_atan2.c (atan2f): New file.
	* libm/mathfp/sf_atangent.c (atangent): New file.
	* libm/mathfp/sf_ceil.c (ceilf): New file.
	* libm/mathfp/sf_copysign.c (copysignf): New file.
	* libm/mathfp/sf_cos.c (cosf): New file.
	* libm/mathfp/sf_cosh.c (coshf): New file.
	* libm/mathfp/sf_exp.c (expf): New file.
	* libm/mathfp/sf_fabs.c (fabsf): New file.
	* libm/mathfp/sf_finite.c (finitef): New file.
	* libm/mathfp/sf_floor.c (floorf): New file.
	* libm/mathfp/sf_fmod.c (fmodf): New file.
	* libm/mathfp/sf_frexp.c (frexpf): New file.
	* libm/mathfp/sf_isinf.c (isinff): New file.
	* libm/mathfp/sf_isnan.c (isnanf): New file.
	* libm/mathfp/sf_ispos.c (isposf): New file.
	* libm/mathfp/sf_ldexp.c (ldexpf): New file.
	* libm/mathfp/sf_log.c (logf): New file.
	* libm/mathfp/sf_log10.c (log10f): New file.
	* libm/mathfp/sf_logarithm.c (logarithmf): New file.
	* libm/mathfp/sf_modf.c (modff): New file.
	* libm/mathfp/sf_numtest.c (numtestf): New file.
	* libm/mathfp/sf_pow.c (powf): New file.
	* libm/mathfp/sf_scalbn.c (scalbnf): New file.
	* libm/mathfp/sf_sin.c (sinf): New file.
	* libm/mathfp/sf_sine.c (sinef): New file.
	* libm/mathfp/sf_sineh.c (sinehf): New file.
	* libm/mathfp/sf_sinh.c (sinhf): New file.
	* libm/mathfp/sf_sqrt.c (sqrtf): New file.
	* libm/mathfp/sf_tan.c (tanf): New file.
	* libm/mathfp/sf_tanh.c (tanhf): New file.
	* libm/mathfp/zmath.h: New file.

Wed Sep  2 02:49:03 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/strcmp.S (L_char_loop): Re-load r0 at loop
	exit if it has been overwritten by pre-fetching in delay slot.

1998-09-01  Michael Meissner  <meissner@cygnus.com>

	* Makefile.am (tooldir): Add in host_alias, so that multilib
	libraries are installed in the directory the compiler looks in.
	* Makefile.in: Regenerate.

	* libc/stdlib/Makefile.in: Regenerate with automake version 1.3b.

Mon Aug 31 11:39:31 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10300/memcpy.S (_memcpy): Move alignment test
	ahead of test for number of bytes being moved.

Thu Aug 27 14:07:53 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Nothing special needed for
	_exit under cygwin.

Wed Aug 26 15:05:21 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_sbrk): Rename '_end' to 'end' to
	conform to user label naming conventions. 

Mon Aug 24 14:46:19 1998  Geoffrey Noer <noer@cygnus.com>

	* libc/sys/cygwin32/sys/utime.h: variable names in
	protos should start with two leading underscores
	* libc/include/string.h: ditto
	* libc/include/sys/signal.h: ditto
	* libc/include/sys/stat.h: ditto
	* libc/include/sys/time.h: ditto
	* libc/include/sys/unistd.h: ditto
	* libc/include/ctype.h: ditto
	* libc/include/stdlib.h: ditto
	* libc/include/sys/reent.h: struct _atexit function ptr takes a
	void, same with _sig_func.

Fri Aug 21 14:44:14 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Added preprocessor checks
	for MB_CAPABLE to reduce code size when newlib is not configured
	with --enable-newlib-mb.
	* libc/stdlib/Makefile.am: Specified -fshort-enums when building
 	mbtowc_r.o to minimize size.
	* libc/stdlib/Makefile.in: Rebuild.
	
Wed Aug 19 16:20:13 1998  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sparc64/Makefile.am (.S_r.o, .c_r.o): Change -DREENTRANT
	to -DREENT.
	* libc/sys/sparc64/Makefile.in: Rebuild.
	
Tue Aug 18 22:38:29 1998  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.am (MAKEOVERRIDES): Define.
	* Makefile.in: Rebuild.

Tue Aug 18 12:38:47 1998  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sparc64/sys/stat.h (stat): Add const.

Mon Aug 17 22:27:06 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acinclude.m4 (NEWLIB_CONFIGURE): Use top_builddir in
	newlib_cflags when looking for targ-include.
	* */aclocal.m4, */configure: Rebuild.

Fri Jul 31 10:57:42 1998  Catherine Moore  <clm@cygnus.com>

        * libc/sys/arm/syscalls.c (_sbrk): Change "__end__"
        to "_end".

Wed Jul 29 00:02:01 1998  Mark Alexander  <marka@cygnus.com>

	* libc/include/sys/config.h: Define __IEEE_LITTLE_ENDIAN
	on SPARCs with little-endian data.
	* libc/include/machine/ieeefp.h: Ditto.

Wed Jul 22 18:00:10 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acinclude.m4: Handle a relative srcdir correctly when setting
	newlib_cflags.
	* */aclocal.m4, */configure: Rebuild.

Wed Jul 22 17:11:33 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/math/wrf_lgamma.c (lgammaf_r): Initialize exc.err to 0 and
 	also set exc.arg1, exc.arg2 appropriately in case matherr is supplied.
	* libm/math/wrf_gamma.c (gammaf_r): ditto 
	* libm/math/wr_lgamma.c (lgamma_r): ditto 
	* libm/math/wr_gamma.c (gamma_r): ditto 
	* libm/math/wf_sqrt.c (sqrtf): ditto 
	* libm/math/wf_sinh.c (sinhf): ditto 
	* libm/math/wf_scalb.c (scalbf): ditto 
	* libm/math/wf_remainder.c (remainderf): ditto 
	* libm/math/wf_pow.c (powf): ditto 
	* libm/math/wf_log10.c (log10f): ditto 
	* libm/math/wf_log.c (logf): ditto 
	* libm/math/wf_lgamma.c (lgammaf): ditto 
	* libm/math/wf_jn.c (jnf, ynf): ditto 
	* libm/math/wf_j1.c (j1f, y1f): ditto 
	* libm/math/wf_j0.c (j0f, y0f): ditto 
	* libm/math/wf_hypot.c (hypotf): ditto 
	* libm/math/wf_gamma.c (gammaf): ditto 
	* libm/math/wf_fmod.c (fmodf): ditto 
	* libm/math/wf_exp.c (expf): ditto 
	* libm/math/wf_cosh.c (coshf): ditto 
	* libm/math/wf_atanh.c (atanhf): ditto 
	* libm/math/wf_atan2f.c (atan2f): ditto 
	* libm/math/wf_asin.c (asinf): ditto 
	* libm/math/wf_acosh.c (acoshf): ditto 
	* libm/math/wf_acos.c (acosf): ditto 
	* libm/math/w_sqrt.c (sqrt): ditto 
	* libm/math/w_sinh.c (sinh): ditto 
	* libm/math/w_scalb.c (scalb): ditto 
	* libm/math/w_remainder.c (remainder): ditto 
	* libm/math/w_pow.c (pow): ditto 
	* libm/math/w_log10.c (log10): ditto 
	* libm/math/w_log.c (log): ditto 
	* libm/math/w_lgamma.c (lgamma): ditto 
	* libm/math/w_jn.c (jn, yn): ditto 
	* libm/math/w_j1.c (j1, y1): ditto 
	* libm/math/w_j0.c (j0, y0): ditto 
	* libm/math/w_hypot.c (hypot): ditto 
	* libm/math/w_gamma.c (gamma): ditto 
	* libm/math/w_fmod.c (fmod): ditto 
	* libm/math/w_exp.c (exp): ditto 
	* libm/math/w_cosh.c (cosh): ditto 
	* libm/math/w_atanh.c (atanh): ditto 
	* libm/math/w_atan2f.c (atan2): ditto 
	* libm/math/w_asin.c (asin): ditto 
	* libm/math/w_acosh.c (acosh): ditto 
	* libm/math/w_acos.c (acos): ditto 

Tue Jul 21 12:34:54 1998  Ian Lance Taylor  <ian@cygnus.com>

	* libm/math/Makefile.am (src): Add w_cabs.c and w_drem.c.
	(fsrc): Add wf_cabs.c and wf_drem.c.
	* libm/math/Makefile.in: Rebuild.

	* Makefile.am (AM_MAKEFLAGS): Add CFLAGS_FOR_BUILD.  Remove some
	unused directory variables.  Remove duplicate CFLAGS.
	* Makefile.in: Rebuild.

	* doc/Makefile.am ($(MKDOC)): Don't use $(CFLAGS) when building
	with $(CC_FOR_BUILD).
	(makedoc.o): Likewise.
	* doc/Makefile.in: Rebuild.

	* libc/sys/cygwin32/Makefile.am (EXTRA_LIBRARIES): Define, to
	force a definition of COMPILE.
	(libfoo_a_SOURCES): Define.
	* libc/sys/cygwin32/Makefile.in: Rebuild.
	* libc/sys/tic80/Makefile.am (EXTRA_LIBRARIES): Define, to
	force a definition of COMPILE.
	(libfoo_a_SOURCES): Define.
	* libc/sys/tic80/Makefile.in: Rebuild.

Mon Jul 20 20:49:24 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/fcntl.h: Add O_NOINHERIT, Win32-specific
	flag.

Fri Jul 17 16:13:16 1998  Ian Lance Taylor  <ian@cygnus.com>

	* Build using autoconf and automake.  Added many Makefile.am and
	configure.in files, plus generated files.  Old configure.in files
	and all old Makefile.in files completely replaced.  Removed
	host/any.  Added acinclude.m4 and configure.host.

Sat Jul 11 18:14:49 1998  Felix Lee  <flee@cygnus.com>

	* libc/stdio/vfprintf.c: enable long long support, sometimes.
	* configure.in (*-*-cygwin32): add -DWANT_PRINTF_LONG_LONG.

Tue Jul  7 01:51:55 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/strcmp.S, libc/machine/sh/strcpy.S: New files.
	* libc/machine/sh/Makefile.in: Add rules for new files.

Tue Jul  7 01:40:55 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/asm.h (SL, DELAYED_BRANCHES): Define.
	* libc/machine/sh/memset.S (memset): Remove uses of dt; shorten code.
	* libc/machine/sh/memcpy.S (SL, DELAYED_BRANCHES): Don't define.

Thu Jul  2 10:33:16 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_exit): Add comment, noting that exit
	code is ignored.

Wed Jun 24 13:56:54 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/tmpnam.c (_tmpnam_r): Changed routine to use
	internal static buffer when s is NULL, as prescribed by ANSI.

1998-06-22  Vladimir N. Makarov  <vmakarov@cygnus.com>

	* libc/sys/h8300hms/Makefile.in (OFILES): malloc.o has been
	removed.
	* libc/sys/h8300hms/malloc.c: has been removed.  Now malloc.c from
	libc/stdlib will be used for h8300hms.
	
Thu Jun 18 16:56:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10300/strlen.S (_strlen): New optimized assembler
	version that can be built either for speed or size.
	* libc/machine/mn10300/memset.S (_memset): ditto
	* libc/machine/mn10300/memchr.S (_memchr): ditto
	* libc/machine/mn10300/memcpy.S (_memcpy): ditto
	* libc/machine/mn10300/memcmp.S (_memcmp): ditto
	* libc/machine/mn10300/strchr.S (_strchr): ditto
	* libc/machine/mn10300/strcmp.S (_strcmp): ditto
	* libc/machine/mn10300/strcpy.S (_strcpy): ditto
	* libc/machine/mn10300/Makefile.in: Added entries for
 	memchr.o, memcmp.o, memcpy.o, memset.o, strchr.o, 
	strcmp.o, strcpy.o, and strlen.o.

Wed Jun 17 12:50:26 1998  Mark Alexander  <marka@cygnus.com>

	* configure.in: Don't use libc/sys/sysmec for MN10200; it's
	been replaced with libgloss/mn10200.

Fri Jun 12 14:34:39 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/strchr.c (strchr): Make s a constant pointer to
	avoid warning.

Tue Jun  9 16:29:30 1998  Jason Molenda  (crash@bugshack.cygnus.com)

	* configure.in (target == arm* or thumb*): Define ARM_RDI_MONITOR
	instead of ARM_RDP_MONITOR (sys/libc/arm/crt0.S to assume Angel
	board SWIs instead of Demon board SWIs).

Thu Jun  4 12:16:46 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/strncat.c (strncat):  Make -Os act the same as
	PREFER_SIZE_OVER_SPEED being defined.

Wed Jun  3 17:52:33 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/memchr.c (memchr): Make -Os act the same as
	PREFER_SIZE_OVER_SPEED being defined.
	* libc/string/memcmp.c (memcmp): Ditto.
	* libc/string/memcpy.c (memcpy): Ditto.
	* libc/string/memset.c (memset): Ditto.
	* libc/string/strcat.c (strcat): Ditto.
	* libc/string/strchr.c (strchr): Ditto.
	* libc/string/strcmp.c (strcmp): Ditto.
	* libc/string/strcpy.c (strcpy): Ditto.
	* libc/string/strlen.c (strlen): Ditto.
	* libc/string/strncat.c (strncat): Ditto.
	* libc/string/strncmp.c (strncmp): Ditto.
	* libc/string/strncpy.c (strncpy): Ditto.

Mon Jun  1 15:25:07 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/itimer.h: remove
	* libc/include/sys/time.h: itimer stuff should be here

Mon Jun  1 16:31:29 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/vfprintf.c (cvt): Changed code to look at sign
	bit instead of comparing to 0 so -0.0 can be printed correctly.

Sat May 30 09:33:51 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/stdlib/mprec.c (b2d): Inilialize d in non-VAX case too.

Fri May 29 22:25:10 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/unistd.h: fix sync() proto
	* libc/include/sys/fcntl.h: remove _close which is already
	defined in unistd.h.
	* libc/include/sys/time.h: add getitimer proto

Fri May 29 16:10:28 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/string/strchr.c: convert arg to unsigned char
	* libc/include/stdlib.h: add protos for random, srandom
	* libc/include/sys/stat.h: add lstat proto
	* libc/include/sys/time.h: add setitimer proto
	* libc/include/sys/unistd.h: add readlink, symlink protos
	* libc/include/process.h: instead of including windows.h and using
	HANDLEs in sexec protos, just use void *s.  Need to include
	sys/types.h.

Fri May 29 03:04:29 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/fcntl.h: add _close proto for Cygwin32

Thu May 28 16:34:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/process.h: add secure exec protos

Wed May 27 13:54:51 1998  Jeffrey A Law  (law@cygnus.com)

	* libc/stdlib/dtoa.c (_dtoa_r): Use "double_union" for variables
	which are accessed as both doubles and integers.
	* libc/stdlib/mprec.c (ulp, b2d, ratio): Likewise.
	* libc/stdlib/strtod.c (_strtod_r): Likewise.
	* libc/stdlib/mprec.h: Add "union double_union" and change
	word0/word1 macros to use it.

Tue May 26 18:04:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: add __cplusplus wrapper

Tue May 26 15:10:22 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/utime.h: new generic file that gets replaced by
	libc/sys/SYSDIR/sys/utime.h on systems that support the utime
	function.
	* sys/cygwin32/sys/utime.h: use _EXFUN in utime proto
	* libc/include/time.h: remove duplicate utime proto
	* libc/include/utime.h: add comment

Sun May 24 23:56:20 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/time.h: Add missing include to
	allow use of _EXFUN.  Remove times function that is
	already defined in times.h.

Sun May 24 01:32:14 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/time.h: Fix typo in tzset.

Fri May 22 17:00:48 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/time.h: add missing Cygwin32 function protos
	* libc/include/sys/unistd.h: ditto
	* libc/include/time.h: ditto

Wed May 20 20:35:11 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/param.h: add protected NULL def, remove
	FIXME.
	* libc/include/sys/types.h: add a new __MS_types__ section
	to define vm_offset_t, vm_size_t, int32_t et al, register_t,
	__BIT_TYPES_DEFINED__.

Wed May 20 18:49:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/param.h: move here from winsup/include/sys
	since it overrides the one in libc/include/sys.  Also, start
	including types.h.

Wed May 20 14:45:40 1998  Geoffrey Noer  <noer@cygnus.com>

	* libm/math/Makefile.in: add s_signgam.o to obj list

Tue May 19 11:57:11 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (_REENT_INIT): Initialize current locale to "C".

Mon May 18 22:36:12 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/signal.h: cygwin32 exports sig{empty,add}set,
	so don't use defines.

Mon May 18 19:01:02 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/d10v/crt0.S: Use correct stab for 16-bit ints.

Sun May 17 18:40:32 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Accept a NULL
 	_current_locale as default locale.

Sat May 16 21:59:59 1998  Bob Manson  <manson@charmed.cygnus.com>

	* libc/stdlib/mallocr.c (mALLOc): Add explicit tests for
 	insufficient space in a chunk.

Tue May 12 14:41:01 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.in (links): Added check for --enable-newlib-mb configure
	option which defines the MB_CAPABLE macro.
	* libc/locale/locale.c (_setlocale_r): Added support for setting
	LC_CTYPE to "C-JIS", "C-SJIS" or "C-EUCJP", when MB_CAPABLE is
	defined.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): New function _mbtowc_r that
	implements mbtowc() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/wctomb_r.c (_wctomb_r): New function _wctomb_r that
	implements wctomb() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/mbstowcs_r.c (_mbstowcs_r): New function _mbstowcs_r that
 	implements mbstowcs() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/wcstombs_r.c (_wcstombs_r): New function _wcstomb_r that implements
	wcstombs() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/Makefile.in: Added new multibyte
	routines: _mbtowc_r(), _wctomb_r(), _mbstowcs_r(), and _wcstombs_r().
	* libc/include/stdlib.h: Added declarations of _mbtowc_r(), _wctomb_r(),
	_mbstowcs_r(), and _wcstombs_r().
	* libc/stdlib/mbctype.h: New internal header file that contains macros to test
	for JIS, SJIS, and EUC-JP characters.
	* libc/stdlib/mblen.c (mblen): Added code to call _mbtowc_r() if
 	MB_CAPABLE defined.
	* libc/stdlib/mbtowc.c (mbtowc): Added code to call _mbtowc_r() if
	MB_CAPABLE defined.
	* libc/stdlib/wctomb.c (wctomb): Added code to call _wctomb_r() if
	MB_CAPABLE defined.
	* libc/stdlib/mbstowcs.c (mbstowcs): Added code to call _mbstowcs_r()
	if MB_CAPABLE defined.
	* libc/stdlib/wcstombs.c (wcstombs): Added code to call _wcstombs_r()
	if MB_CAPABLE defined.
	* libc/stdio/vfscanf.c (__svfscanf): Added multibyte tolerance
	to the format string processing when MB_CAPABLE.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Changed mbtowc() call to
	call _mbtowc_r().

Tue May  5 16:07:23 1998  Nick Clifton  <nickc@cygnus.com>

	The following modifications are courtesy of Anthony Thompson,
	athompson@cambridge.arm.com:
	* libc/sys/arm/syscalls.c: Initialise and track stdin/out/err for
	boith RDI and RDP monitors.
	* libc/sys/arm/crt0.S: Call initialise_monitor_handles() for both
	RDI and RDP monitors.

Wed Apr 29 15:22:15 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.in (links): Added -DHAVE_GETTIMEOFDAY for arm and thumb.
	* libc/sys/arm/syscalls.c (_gettimeofday _times): Added functions.
	(_swiopen): Fixed open flags to treat write with append as just append.
	(_swilseek): Fixed lseek support to properly handle offsets from SEEK_END.
	* libc/sys/arm/sys/param.h: New file to override param.h for ARM.

Fri Apr 24 18:00:09 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memcpy.S (L_odddst, big endian version):
	When needing to transfer an initial 2-byte-word, store as
	two single bytes.

Wed Apr 22 17:56:03 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/sys/sh/crt0.S (start): Handle __SH4_SINGLE_ONLY__ like
	__SH3E__ .
	* libc/machine/sh/memcpy.S (DELAYED_BRANCHES, SL): Likewise.
	* libc/include/machine/ieeefp.h (_DOUBLE_IS_32BITS): Likewise.

Wed Apr 22 12:28:03 1998  Michael Meissner  <meissner@cygnus.com>

	* configure.in (target_cflags): If --enable-target-optspace, use
	-Os to compile newlib rather than -O2.  Default to using -Os for
	d10v, d30v and m32r if --{enable,disable}-target-optspace is not
	used.

Tue Apr 21 23:13:34 1998  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/machine/setjmp.h: change sigsetjmp and
        siglongjmp definitions to use an array instead of a struct
        for __CYGWIN32__

Tue Apr 14 11:47:47 1998  Doug Evans  <devans@canuck.cygnus.com>

	* libc/reent/impure.c (__ATTRIBUTE_IMPURE_DATA__): Fix spelling.

Mon Apr  6 15:05:08 1998  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* libc/string/strxfrm.c: fix to get correct return value

Wed Apr  1 16:09:05 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S: Set top of RAM to be 0x800000 for PE
	builds.  Make mode change labels global so that they will be seen
	by the debugger.

Wed Mar 18 09:45:10 1998  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Do not use ARM debiugging protocols for PE
	builds.

	* libc/sys/arm/syscalls.c (_sbrk): Add "_sbrk: " to error
	message. 

Fri Mar 13 11:24:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/findfp.c (__sinit): Made stdout default to
	line buffered mode as defined by ANSI.

Tue Mar 10 11:41:26 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libc/include/sys/itimer.h: New file.

	* libc/signal/signal.c (__sigtramp_r,__sigtramp): New functions.

Mon Mar  9 14:19:26 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memcpy.S: (_memcpy): Fix for execute/memcpy-1.c
	failure.

Fri Feb 27 13:56:10 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d30v/setjmp.S (longjmp): Fix order of parallel
	insns.

Wed Feb 25 09:29:54 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_open): Add varags to conform to prototype.

Tue Feb 24 18:00:13 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d30v/{setjmp.S,Makefile.in}: New files for D30V
	support.

	* libc/include/machine/setjmp.h: Add D30V support.

	* configure.in (d30v-*): Add d30v machine directory.

Mon Feb 23 09:32:58 1998  Mark Alexander  <marka@cygnus.com>

	* configure.in: Don't use libc/sys/sysmec for MN10300; it's
	been replaced with libgloss/mn10300.

Sat Feb 21 17:44:43 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/mallocr.c: remove __malloc_copy routine now that
	it is no longer needed.

Thu Feb 19 16:15:10 1998  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/sys/signal.h: add sigpause proto for Cygwin32

Wed Feb 18 23:51:08 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/fdopen.c (fdopen): Make all writes go to the end of
        the file when O_APPEND is set, wherever the EOF happens to be at
	that time. 

Wed Feb 18 23:25:02 1998  Geoffrey Noer  <noer@cygnus.com>
	
	patch from cgf@bbc.com (Christopher Faylor):
	* libc/stdio/freopen.c (freopen): Conform to standard UNIX
	convention of closing fp prior to attempting to open the file
	argument.  This allows correct operation when reopening
	stdin/stdout/stderr.  Replaces last freopen.c patch.

Wed Feb 18 16:27:40 1998  Geoffrey Noer  <noer@cygnus.com>

        patch from cgf@bbc.com (Christopher Faylor):
        * libc/stdio/freopen.c: freopen was not preserving the fd
        of the stream being operated on.  This confuses programs that
        expect that the handles for stdout and stderr will be 1 and 2.

Mon Feb 16 23:34:07 1998  Andrew Cagney  <cagney@b1.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Set PSW{SW} - select SPU.

Thu Feb 12 15:09:20 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/sys/go32/longjmp.S: Fix longjmp to not return 0.

Wed Feb 11 17:50:45 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/powerpc/setjmp.S (setjmp, longjmp): Alignment code
	altered to not use a branch.  Also added hint that last
	bclr in longjmp will likely result in branch.
	

Mon Feb  9 03:44:02 1998  Geoffrey Noer  <noer@cygnus.com>

        * libc/sys/cygwin32/crt0.c: add missing args to main() extern

Fri Feb  6 16:32:32 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S (_start): Initialise _ctbp even for
	v850 builds.

	* configure.in: Add -msmall-sld to target_cflags for v850 builds. 

Wed Feb  4 16:56:20 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/powerpc/setjmp.S (longjmp): Fixed code
	that loads FR14 to specify offset of 8 rather than 4
	so it loads from offset 96 (where setjmp stored it).

Tue Feb  3 18:08:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/sh/memcpy.S: (_memcpy): Update to
	latest version supplied by customer.
	* libc/machine/sh/memset.S (_memset): Ditto.

Mon Feb  2 16:20:39 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add link.o (for
	PR14730). 

Mon Feb  2 15:13:26 1998  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/string.h: remove redefinition of ffs

Wed Jan 28 13:30:14 1998  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/sys/signal.h: include _ansi.h so _EXFUN is
	defined

Wed Jan 28 10:38:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/tic80/setjmp.S: Adding _setjmp to allow
 	TI Libraries to link to libc.a
	
Sat Jan 24 10:15:56 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/fcntl.h (_open,_fcntl): Add prototypes.
	* libc/include/sys/stat.h (_{,f}stat): Ditto.
	* libc/include/sys/wait.h (_wait): Ditto.
	* libc/include/sys/unistd.h (_close,_fork,_getpid): Ditto.
	(_link,_lseek,_read,_sbrk,_unlink,_write): Ditto.

Fri Jan 23 11:32:10 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d10v/setjmp.S: Change to new ABI.  Add simple
	minded stabs so function name shows up when running the simulator
	with -t.
	* libc/sys/d10v/{crt0,trap}.S: Ditto.

Thu Jan 22 15:57:14 1998  Fred Fish  <fnf@cygnus.com>

	* libc/sys/d10v/trap.S: Change syscalls to use trap 15. 
	* libc/sys/d10v/crt0.S: Use R6 where we used to use R2.
	Use R5 where we used to use R3.
	
Wed Jan 21 14:22:23 1998  Bill Moyer <billm@cygnus.com>

	* libc/stdlib/getopt.c (getopt): replaced __progname
	with nargv[0] to improve portability to imbedded systems.

Thu Jan 15 12:32:38 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (initialise_angel_handles): Applied
	patch supplied by Tont.Thompson@arm.com to fix the creation of the
	stdout file.

Wed Jan 14 13:00:19 1998  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdio/tmpnam.c (worker): Generate a different file name
	each time.

	* libc/posix/popen.c (popen): If __CYGWIN32__, and execing /bin/sh
	fails, try an execlp for sh.

	* host/any (INCLUDES): If target_os is cygwin32, then add a -I
	option for the winsup include directory.

Wed Jan  7 17:02:58 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Applied patches for Angel based remote
	debugging interface from Tony.Thompson@arm.com.
	
	* libc/sys/arm/crt0.S (_mainCRTStartup): ditto.
	* libc/sys/arm/swi.h: ditto.

Tue Jan  6 14:15:10 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/dirent.h: add __d_dirhash field to
	DIR struct used for readdir hashes.

Thu Jan  1 11:22:22 1998  Jeffrey A Law  (law@cygnus.com)

	* libc/string/strchr.c: Use "unsigned chars" as necessary.

Wed Dec 31 04:25:30 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/stdlib/mallocr.c (idx2binblock): Don't lose on 16bit
	integer targets.

Sat Dec 13 15:11:06 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c (__malloc_copy): New function, compiled if
	INTERNAL_NEWLIB and __CYGWIN32__ and DEFINE_MALLOC.
	* libc/include/malloc.h: Add extern "C" if __cplusplus.
	(__malloc_copy): Declare.

Wed Dec 10 12:15:54 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c: If INTERNAL_NEWLIB, include
	<sys/config.h>.
	(POINTER_UINT): Define.
	(DEFAULT_TRIM_THRESHOLD): Mark constants as long.
	(MALLOC_ALIGNMENT): Don't define if already defined.
	(malloc_extend_top): Cast pointers to POINTER_UINT, not unsigned
	long.

Tue Dec  9 19:23:42 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/string/memset.c (memset): Fiddle with code so that the long
	value being stored is not a stack value.  Unroll storing longs 4
	times.

Tue Dec  9 14:13:18 1997  Jeff Johnston  <jjohnstn@cygnus.com>

	* Reduce code size for libm modules.
	* libm/math/w_sqrt.c (sqrt): Remove call to kernel_standard
	and simply move code into sqrt.
	* libm/math/wrf_lgamma.c (lgammaf_r): Likewise.
	* libm/math/wr_lgamma.c (lgamma_r): Likewise.
	* libm/math/wrf_gamma.c (gammaf_r): Likewise.
	* libm/math/wr_gamma.c (gamma_r): Likewise.
	* libm/math/wf_sinh.c (sinfh): Likewise.
	* libm/math/w_sinh.c (sinh): Likewise.
	* libm/math/wf_scalb.c (scalbf): Likewise.
	* libm/math/w_scalb.c (scalb): Likewise.
	* libm/math/wf_remainder.c (remainderf): Likewise.
	* libm/math/w_remainder.c (remainder): Likewise.
	* libm/math/wf_pow.c (powf): Likewise.
	* libm/math/w_pow.c (pow): Likewise.
	* libm/math/wf_log10.c (log10f): Likewise.
	* libm/math/w_log10.c (log10): Likewise.
	* libm/math/wf_log.c (logf): Likewise.
	* libm/math/w_log.c (log): Likewise.
	* libm/math/w_lgamma.c (lgamma): Likewise.
	* libm/math/wf_lgamma.c (lgammaf): Likewise.
	* libm/math/wf_jn.c (jnf): Likewise.
	* libm/math/w_jn.c (jn): Likewise.
	* libm/math/wf_j1.c (j1f): Likewise.
	* libm/math/w_j1.c (j1): Likewise.
	* libm/math/wf_j0.c (j0f): Likewise.
	* libm/math/w_j0.c (j0): Likewise.
	* libm/math/wf_hypot.c (hypotf): Likewise.
	* libm/math/w_hypot.c (hypot): Likewise.
	* libm/math/wf_gamma.c (gammaf): Likewise.
	* libm/math/w_gamma.c (gamma): Likewise.
	* libm/math/wf_fmod.c (fmodf): Likewise.
	* libm/math/w_fmod.c (fmod): Likewise.
	* libm/math/wf_exp.c (expf): Likewise.
	* libm/math/w_exp.c (exp): Likewise.
	* libm/math/wf_cosh.c (coshf): Likewise.
	* libm/math/w_cosh.c (cosh): Likewise.
	* libm/math/wf_atanh.c (atanhf): Likewise.
	* libm/math/w_atanh.c (atanh): Likewise.
	* libm/math/wf_atan2.c (atan2f): Likewise.
	* libm/math/w_atan2.c (atan2): Likewise.
	* libm/math/wf_asin.c (asinf): Likewise.
	* libm/math/w_asin.c (asin): Likewise.
	* libm/math/wf_acosh.c (acoshf): Likewise.
	* libm/math/w_acosh.c (acosh): Likewise.
	* libm/math/wf_acos.c (asocf): Likewise.
	* libm/math/w_acos.c (acos): Likewise.
	* libm/math/wf_sqrt.c (sqrtf): Likewise.
	* libm/math/k_standard.c (_k_standard): Don't require SVID behavior
	for embedded systems.

Mon Dec  8 12:12:58 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): Add patch from Doug
	Lea in case of a foreign sbrk.

Fri Dec  5 23:27:28 1997  Ian Lance Taylor  <ian@cygnus.com>

	Incorporate Doug Lea's malloc:
	* libc/stdlib/mallocr.c: Completely replaced.
	* libc/stdlib/malloc.c: Document malloc_usable_size and memalign.
	(realloc): Remove.
	* libc/stdlib/calloc.c (calloc): Just call _calloc_r.
	* libc/stdlib/mstats.c: Document mallinfo, malloc_stats, and
	mallopt.
	(mallinfo, malloc_stats, mallopt): New functions.
	(_mstats_r): Just call _malloc_stats_r.
	* libc/stdlib/malign.c: New file.
	* libc/stdlib/mlock.c: New file.
	* libc/stdlib/msize.c: New file.
	* libc/stdlib/mtrim.c: New file.
	* libc/stdlib/realloc.c: New file.
	* libc/stdlib/valloc.c: New file.
	* libc/stdlib/malloc.h: Remove.
	* libc/stdlib/callocr.c: Remove.
	* libc/stdlib/Makefile.in (OFILES): Add cfreer.o, freer.o,
	malign.o, malignr.o, mallinfor.o, malloptr.o, mallstatsr.o,
	mlock.o, msize.o, msizer.o, mtrim.o, pvallocr.o, realloc.o,
	reallocr.o, valloc.o, vallocr.o.
	(CHEWOUT_FILES): Add mlock.def, mstats.def.
	(MALLOC_CFLAGS): New variable.
	(mallocr.o): New target, build from mallocr.c.
	(freer.o, reallocr.o, callocr.o, cfreer.o, malignr.o): Likewise.
	(vallocr.o, pvallocr.o, mallinfor.o, mallstatsr.o): Likewise.
	(msizer.o, malloptr.o): Likewise.
	(malign.o, mlock.o, msize.o, mtrim.o, realloc.o): New targets.
	(valloc.o): New target.
	* libc/stdlib/stdlib.tex: Include mlock.def and mstats.def.
	* libc/include/malloc.h: Declare struct mallinfo, and new
	routines.
	* libc/include/stdlib.h (cfree): Correct declaration.

Tue Dec  2 10:12:16 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/setjmp.h: Add support for Thumb target.

	* libc/include/machine/ieeefp.h: Add support for Thumb target.

	* configure.in (links): Add support for Thumb target.

Wed Nov 26 09:56:17 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Updated with version from branch.

Thu Nov 20 01:21:43 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdio.h: add POSIX-required define L_ctermid
	for ctermid

Wed Nov 19 16:11:40 1997  Michael Meissner  <meissner@cygnus.com>

	* configure.in (d30v-*-*): Define ABORT_MESSAGE, SMALL_MEMORY, in
	addition to MISSING_SYSCALL_NAMES.

Mon Nov 17 20:05:05 1997  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/include/sys/config.h: (UINT_MAX, for D10V):  Make unsigned.

Mon Nov 10 22:26:55 1997  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/string.h: change strsignal proto to return
        a char *.  This eliminates compile problems in gdb resulting
        from gdb's definition of strsignal in defs.h.

Mon Nov 10 17:11:08 1997  Geoffrey Noer  <noer@cygnus.com>

        * libc/sys/cygwin32/sys/utime.h: new (moved here from
        winsup/include) so as not to conflict with the one in
        libc/include.
	* libc/include/string.h: add protos for strsignal, strtosigno

Mon Nov 10 13:49:54 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/config.h: Define __IEEE_BIG_ENDIAN if d30v.

	* configure.in (d30v-*-*): Add configuration.

Thu Oct 30 14:01:23 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add -DARM_RD[P|I]_MONITOR to target_cflags
	to select which kind of debug monitor is in use for an ARM target.

	* libc/sys/arm/crt0.S: New version: Supports Thumb startups and
	Angel and Demon debug monitors.  Part of this code was supplied by
	Tony Thompson at ARM: athompso@arm.com.

Fri Oct 24 18:57:05 1997  Jeffrey A Law  (law@cygnus.com)

	* strncat.c (strncat): Don't call strncpy; strncay has the wrong
	semantics when the count is greater than the length of the second
	source string.

Thu Oct 23 01:37:41 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: reorder CYGWIN32 signal numbers
	* libc/include/sys/unistd.h: add protos for usleep, truncate,
	truncate and ftruncate take off_t, not size_t

Tue Oct 21 18:42:00 1997  Jim Wilson  <wilson@cygnus.com>

	* libc/string/strcat.c (strcat): Add missing comment end.
	* libc/string/strncat.c (strncat): Likewise.

Tue Oct 21 17:23:34 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Define PREFER_SIZE_OVER_SPEED for v850
	targets. 
	* libc/string/{memchr.c, memcmp.c, memcpy.c}: 	Add space
	optimised version which is selected if PREFER_SIZE_OVER_SPEED is
	defined.  
	* libc/string/{memset.c, strcat.c, strchr.c}: Likewise.
	* libc/string/{strcmp.c, strcpy.c, strlen.c}: Likewise.
	* libc/string/{strncat.c, strncmp.c, strncpy.c}: Likewise.

Mon Oct 13 15:12:35 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/param.h (BIG_ENDIAN): Define if __i386__.
	(LITTLE_ENDIAN, BYTE_ORDER): Likewise.

Thu Oct  9 13:54:44 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/i386/setjmp.S: New file.
	* libc/machine/i386/Makefile.in: Delete COPYOFILES.
	(OFILES): Add setjmp.o.
	(setjmp.o): Add rule for.
	* configure.in: Don't set machine_dir for *-*-{go32,sco*,cygwin32}.

Tue Oct  7 14:01:29 1997 Bill Moyer     (billm@cygnus.com)
			 Jeffrey A Law  (law@cygnus.com)

	* libc/string/{memchr.c, memcmp.c, memcpy.c}: Reimplement to run faster.
	* libc/string/{memset.c, strcat.c, strchr.c}: Likewise.
	* libc/string/{strcmp.c, strcpy.c, strlen.c}: Likewise.
	* libc/string/{strncat.c, strncmp.c, strncpy.c}: Likewise.

Mon Oct  6 14:07:59 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (crt0.o trap.o): Explicit
	rules. 

	* libc/include/sys/config.h: Use __v850 to select v850
	endianness. 

	* libc/include/machine/setjmp.h: Use __v850 to select v850 jump
	buffer size.

	* libc/include/machine/ieeefp.h: Use __v850 to select v850
	endianness. 

Thu Sep 25 14:11:37 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/setenv.c: change unsetenv definition to match
	style of setenv (with _DEFUN).  The string should be a const.
	* libc/include/stdlib.h: unsetenv proto should return void.

Tue Sep 23 18:17:20 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdlib.h: define unsetenv proto for __CYGWIN32__

Thu Sep 18 12:50:15 1997  Angela Marie Thomas (angela@cygnus.com)

	* libc/stdio/glue.h: remove.
	* libc/stdio/findfp.c, libc/stdio/fwalk.c: remove #include "glue.h"
	* libc/stdio/Makefile.in: remove glue.h dependencies

Wed Sep 17 17:42:27 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S: Created V850e version.
	
Tue Sep  9 10:40:57 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (target_cpu): Add `arc'.

Tue Sep  9 10:40:42 1997  Joel Sherrill  <joel@OARcorp.com>

	* newlib/configure.in (*-*-rtems*): Add -DSIGNAL_PROVIDED and 
	  -DREENTRANT_SYSCALLS_PROVIDED to the target_cflags.
	* newlib/libc/include/sys/errno.h: Add ENOTSUP.
	* newlib/libc/reent/reent.c: Add _wrapup_reent.
	* newlib/libc/sys/rtems/sys/types.h: Avoid redefinitions for go32.

Sun Sep  7 16:41:41 1997  Gavin Koch  <gavin@cygnus.com>

	* libc/machine/mips/setjmp.S: Handle mips16 builds.

Thu Aug 21 20:05:38 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/stdio.h (siprintf): Declare.

Mon Aug 18 11:19:13 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (.c.o): Add rule that includes
	TARGET_CFLAGS and NEWLIB_FLAGS.

Mon Aug 18 11:15:43 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add support for v850ea target.

Mon Aug 18 11:15:43 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add support for v850e target.

Wed Aug 13 19:16:54 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S: Remove initial setting of r0 to 0.

Mon Aug 11 15:49:54 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (arc-*-*): Add support for.
	* libc/include/machine/ieeefp.h (__arc__): Add support for the ARC.

Fri Jul 25 17:37:41 1997  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/sys/sh/crt0.S (start): Add fpscr initialization for SH4.

Thu Jul 24 18:32:17 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/bsearch.c (bsearch): remove last unneeded
	comparison which accesses invalid memory when the key is
	larger than the last member of the array.
	* libc/include/machine/setjmp.h: add sigsetjmp, siglongjmp
	for CYGWIN32
	* libc/include/sys/unistd.h: add _POSIX defines for CYGWIN32

Tue Jul 22 16:03:06 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/stdlib.h (realpath): Declare if __CYGWIN32__ and
	not _STRICT_ANSI.

Thu Jul 10 15:11:52 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libm/math/k_standard.c (__kernel_standard): Call fflush(stdout)
	ifndef _USE_WRITE, instead of ifdef _USE_WRITE.

Thu Jul 10 16:00:09 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/machine/tic80/setjmp.S (setjmp,longjmp): Use ld.d and st.d
	to load/store memory.

Mon Jul  7 17:38:17 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/fcntl.h: Define _O_* symbols with leading
	underscores if _WIN32.

Wed Jul  2 10:07:20 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libm/math/k_standard.c (__kernel_standard): Delete reentrancy
	support ifdef _USE_WRITE missed in last change.
	From Anders Blomdell <anders.blomdell@control.lth.se>.

Wed Jun 25 10:18:49 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdio/tmpnam.c (worker): Handle _open_r being stubbed out.
	(_tmpnam_r, _tempnam_r): Update.

Wed Jun 25 00:16:55 1997  Mark Alexander  <marka@cygnus.com>

	* libc/machine/sparc/setjmp.S: New file.
	* libc/machine/sparc/Makefile.in: Add setjmp.
	* libc/include/machine/setjmp.h: Increase jmpbuf size for sparc.

Tue Jun 24 23:27:38 1997  Mark Alexander  <marka@cygnus.com>

	* libc/include/machine/setjmp.h: Use __TIC80__ instead of __tic80__.

Tue Jun 24 14:53:40 1997  Doug Evans  <dje@canuck.cygnus.com>

	From Joel Sherrill <joel@oarcorp.com>.
	* libc/stdlib/getenv.c (_findenv): Avoid dereferencing null `environ'.

	Add rtems support.  From Joel Sherrill <joel@oarcorp.com>.
	* configure.in: Recognize *-*-rtems*.
	* libc/sys/rtems/{Makefile.in,crt0.c,dummysys.c}: New files.
	* libc/sys/rtems/sys/{features.h,sched.h,siginfo.h,signal.h,
	time.h,times.h,types.h}: New files.
	* libc/sys/rtems/include/{limits.h,signal.h,time.h}. New files.

Fri Jun 20 11:13:16 1997  Geoffrey Noer  <noer@cygnus.com>

	patch from sos@prospect.com.ru (Sergey Okhapkin):
        * include/sys/wait.h: correct operator precidence bug
        in WIFSIGNALED

Wed Jun 18 22:08:27 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdlib.h: remove unsetenv proto since it conflicts
	with newlib's unsetenv function
	* libc/sys/cygwin32/sys: new directory for includes
	* libc/sys/cygwin32/sys/dirent.h: move cygwin32's dirent.h
	here from winsup/include/sys

Mon Jun 16 21:02:22 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/unistd.h: _exit should only be
	labelled noreturn when not __CYGWIN32__
	* libc/include/stdlib.h: for __CYGWIN32__, add proto for unsetenv
	* libc/include/sys/signal.h: add SIGIO to _WIN32 list and
	increment NSIG

Thu Jun 12 18:52:41 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/time.h: Only define timeval and timezone if
	_GNU_H_WINDOWS32_SOCKETS is not defined.
	* libc/include/sys/stat.h: If _WIN32, define _S_IFMT, etc.

Wed Jun 11 09:46:26 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/mn10200/setjmp.S: Implement setjmp/longjmp
	* libc/machine/mn10300/setjmp.S: Likewise.

	* libc/sys/sysmec/crt0.S: Use "call" instead of "calls" for
	the mn10300 (more relaxing opportunities).

Tue Jun 10 17:24:45 1997  Mike Meissner  <meissner@cygnus.com>

	* configure.in (powerpc*-*-{eabi,elf,linux,rtems,sysv,solaris}):
	Build libraries with -mstrict-align.

Fri Jun  6 14:07:59 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/string/strlwr.c: New file.
	* libc/string/strupr.c: New file.
	* libc/include/string.h: Declare strlwr and strupr.
	* libc/string/Makefile.in (OFILES): Add strlwr.o and strupr.o.
	(CHEWOUT_FILES): Add strlwr.def and strupr.def.
	(strlwr.o, strupr.o): New targets.
	* libc/string/strings.tex: Include strlwr and strupr docs.

	* libc/include/sys/types.h: Don't define u_char, et. al., if
	_GNU_H_WINDOWS32_SOCKETS is defined.  Likewise for fd_set,
	et. al.  Make FD_SETSIZE default 64 rather than 60.  Define
	_types_fd_set rather than fd_set, and define fd_set as a macro.

	* libc/include/malloc.h: New file.

	* libc/include/string.h: Define strcmpi, stricmp, strncmpi, and
	strnicmp if they are not already defined.

	* libc/include/time.h: If __CYGWIN32__, declare tzset and define
	_timezone, _daylight, and _tzname.

Wed Jun  4 12:51:16 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in: Sort all configuration tables.

	From Joel Sherrill <joel@oarcorp.com>
	* Makefile.in (stmp-targ-include): Copy $(sys_dir)/include/*.h.

Tue Jun  3 14:47:46 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/signal.h: Don't include <sys/types.h>.  Just
	use int when declaring kill.

	* libc/include/sys/timeb.h: New file.

Mon Jun  2 12:06:58 1997  Geoffrey Noer  <noer@cirdan.cygnus.com>

	* libc/include/sys/time.h: add itimer support for Cygwin32

Mon May 19 11:56:46 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/stdlib/abort.c (abort): If ABORT_MESSAGE is defined, write
	out a message that abort was called to stderr.

Fri May 16 15:02:59 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libc/sys/sysmec/fstat.c (_fstat): Set st_blksize to 4096
	so that libio doesn't freak.

	* libc/sys/sysmec/sbrk.c (_sbrk): The argument is a size_t, not
	int.

	* libc/stdlib/mallocr.c (_morecore_r): Use size_t for
	memory sizes, not int.

Wed May 14 21:16:58 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libm/math/ef_hypot.c: Use long constants where
 	appropriate.
	* libm/math/ef_sqrt.c: Ditto.

	* libc/sys/sysmec/times.c(_times): Change to times.

	* libc/sys/sysmec/read.c(_read): The third argument is
	size_t.
	* libc/sys/sysmec/write.c (_write): Ditto.

	* libc/sys/sysmec/lseek.c: Include unistd.h for off_t.
	(_lseek): It's off_t for the second argument.

Wed May 14 15:23:36 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/include/sys/config.h (__IEEE_LITTLE_ENDIAN): Define here,
	as well as machine/ieeefp.h.

Thu May  8 15:47:25 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: add signal protos for winsup
	functions (when __CYGWIN32__), include types.h
	* libc/include/sys/types.h: Change __go32_types__ internal
	define to __MS_types__ since it's used for more than just
	GO32 configs.  Define this if GO32, __MSDOS__, or _WIN32 are
	defined.
	* libc/include/sys/unistd.h: add ftruncate proto for
	winsup functions (when __CYGWIN32__)

Fri Apr 25 10:10:16 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/h8300hms/sbrk.c (stack_ptr): Add definition.

Thu Apr 24 15:46:51 1997  Mike Stump  <mrs@cygnus.com>

	* libc/include/machine/setjmp.h: Add tic80 support.
	* libc/machine/tic80/setjmp.S: Likewise.

Tue Apr 22 16:54:40 1997  Geoffrey Noer  <noer@pizza.cygnus.com>

        * libc/sys/cygwin32/crt0.c: Add reference to main() so we can
        link programs from libraries only (such as in the X11
        distribution)

Mon Apr 21 15:02:12 1997  Fred Fish  <fnf@cygnus.com>

	* libc/sys/arm/syscalls.c (signal): Remove stub, signal()
	supplied elsewhere in newlib.

Mon Apr 14 16:25:55 1997  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (INSTALL): Change install.sh to install-sh.

Fri Apr 11 17:04:02 1997  Jason Molenda  (crash@godzilla.cygnus.co.jp)

	* README: update WWW address for on-line documentation.

Wed Apr  9 00:38:13 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: for _WIN32, define SIGCONT and
	increment NSIG

Mon Apr  7 23:54:00 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Update for new calling conventions on the
	mn10300.
	* libc/sys/sysmec/trap.S: Don't compare a register to itself.

Tue Mar 25 08:47:43 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/arm/syscalls.c: Fix/add stack/heap collision detection.
	* libc/sys/d10v/syscalls.c: Likewise.
	* libc/sys/h8300hms/sbrk.c: Likewise.
	* libc/sys/h8500hms/syscalls.c: Likewise.
	* libc/sys/m88kbug/syscalls.c: Likewise.
	* libc/sys/sh/syscalls.c: Likewise.
	* libc/sys/sysmec/sbrk.c: Likewise.
	* libc/sys/sysnecv850/sbrk.c: Likewise.
	* libc/sys/w65/syscalls.c: Likewise.
	* libc/sys.tex: Update sbrk sample code to include stack/heap collision.

Tue Mar 18 14:14:34 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/trap.S: Use "syscall" to trigger an
	emulated syscall instead of "trap".

Fri Mar 14 11:26:13 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/d10v/trap.S (__trap0): Use trap 15 for system calls,
	not trap 0.

Sun Mar  9 23:27:04 1997  Doug Evans  <dje@seba.cygnus.com>

	* configure.in (m32r-*-*): Add -msdata=sdata to target_cflags.

Sat Mar  8 09:05:01 1997  Fred Fish  <fnf@cygnus.com>

	* libc/machine/arm/Makefile.in: Fix comment, is for "arm"
	not "sh".
	* libc/machine/m32r/Makefile.in: Fix comment, is for "m32r"
	not "d10v".
	* libc/sys/tic80/crt0.c: New file for TIc80.
	* libc/sys/tic80/Makefile.in: New file for TIc80.
	* libc/machine/tic80/Makefile.in: New file for TIc80.

Wed Mar  5 11:32:12 1997  J.T. Conklin  <jtc@cygnus.com>

	* libc/machine/sh/memcpy.S: New file.
	* libc/machine/sh/memset.S: New file.
	* libc/machine/sh/Makefile.in (OFILES): Add memcpy.o and memset.o

Thu Feb 27 16:27:55 1997  Fred Fish  <fnf@cygnus.com>

	* libc/include/machine/ieeefp.h (_IEEE_LITTLE_ENDIAN): Define
	for TIc80.

Wed Feb 26 13:43:39 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle new calling conventions for
	the mn10200.

Wed Feb 26 07:11:03 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/powerpc/setjmp.S (longjmp): Correct return status
	(patch from andrew@pogo.WV.TEK.COM).

Fri Feb 14 11:49:28 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/m32r/setjmp.S (setjmp): Save r12.
	(longjmp): Restore r12. Fix code that handles returning 1 if passed 0.

Mon Feb 10 10:02:34 1997  Fred Fish  <fnf@cygnus.com>

	* configure.in:  Add cases for "tic80" to set machine_dir,
	sys_dir, and syscall_dir.

Sun Feb  2 17:57:15 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/crt0.c: initialize floating pt registers

Wed Jan 29 15:57:38 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/math.h: avoid conflicts with ANSI C++ <exception>

Mon Jan 27 12:50:01 1997  Doug Evans  <dje@seba.cygnus.com>

	* libc/machine/m32r/setjmp.S: Use proper comment delimiter.
	Use proper constant prefix.

Fri Jan 24 10:59:04 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/*.c: Don't cast args to syscall to integers,
	that loses on the mn10200 where ints and pointers are different
	sizes.

Tue Jan 14 13:29:55 PST 1997  Jeremy Allison <jra@cygnus.com>

	* configure.in: Added -DSIGNAL_PROVIDED to cygwin32
	target as signal is provided in winsup.

Tue Jan 14 11:10:13 1997  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/process.h: Corrected const definitions
	in spawn functions. Added cwait.

Thu Jan  2 12:22:41 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: mn10200 uses 16bit ints and 32bit
	doubles.
	* libc/include/sys/config.h: Similarly.

Tue Dec 31 18:36:14 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (sparc-sun-sunos*): Add -DSIGNAL_PROVIDED to the
	target_cflags.
	(i[3456]86-*-sco*): Ditto.

	* libc/signal/Makefile.in (OFILES): Add signal.o.
	(CFILES): Add signal.c.

	* libc/signal/raise.c (_raise_r): Only compile code if
	SIGNAL_PROVIDED is defined.

	* libc/signal/signal.c: Redo whole file so that it works with
	current newlib.  Use _kill_r if no signal handler provided.

	* libc/sys/{go32,sparc64,sysmec}/Makefile.in: Delete raise and
	signal stubs.
	* libc/sys/sysvnecv70/Makefile.in: Ditto.
	* libc/sys/sysnecv850/Makefile.in: Ditto.

	* libc/sys/{go32,sparc64}/signal.c: Delete, stub no longer used.
	* libc/sys/sysmec/{raise,signal}.c: Ditto.
	* libc/sys/sysvnecv70/signal.s: Ditto.
	* libc/sys/sysnecv850/raise.c: Ditto.

	* libc/sys/sysnecv850/kill.c (_kill): Encode signal # so that
	simulator and debugger can tell the difference between a signal
	being raised and an exit system call.

	* NEWS: Document software signals being provided.

Mon Dec 23 11:54:19 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/reent/impure.c (_REENT_ATTR): Delete in favor of
	__ATTRIBUTE_IMPURE_PTR__.  Move PowerPC definition to
	include/sys/config.h.
	(impure_data): Use __ATTRIBUTE_IMPURE_DATA__ for attributes.
	Change from 'inpure_data'.
	(_impure_ptr): Use __ATTRIBUTE_IMPURE_PTR__ for attributes.  Use
	&impure_data, not &inpure_data.

	* libc/include/sys/config.h (__ATTRIBUTE_IMPURE_PTR__): If PowerPC
	and and System V ABI, define so that _impure_ptr lives in the
	.sdata section.

Sun Dec 22 23:33:05 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/reent.h (__ATTRIBUTE_IMPURE_PTR__): Define as
	nothing if not defined.
	(_impure_ptr): Use __ATTRIBUTRE_IMPURE_PTR__, so a machine can set
	its attributes.

	* libc/include/sys/config.h (__ATTRIBUTE_IMPURE_PTR__): 

Wed Dec 18 10:12:04 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Fix mn10200 stuff.
	* libc/sys/sysmec/trap.s: Handle mn10200 too.
	* libc/machine/mn10200/setjmp.S: Fix mn10200 stuff.

Mon Dec 16 10:05:36 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle mn10200 too.

Fri Dec 13 11:05:20 1996  Jeremy Allison <jra@cygnus.com>

        * libc/include/sys/errno.h: Added net errno's.

Wed Dec 11 16:24:25 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/misc/ffs.c: New file to support ffs function for GCC test
	gcc.c-torture/execute/960909-1.c.

	* libc/misc/Makefile.in ({O,CHEWOUT_}FILES): Add ffs.

Sat Dec  7 10:12:37 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle underscore prefix.
	* libc/sys/sysmec/trap.S: Likewise.

Fri Dec  6 15:08:49 1996  Jim Wilson  <wilson@cygnus.com>

	* configure.in (mips*vr4300*-*-*): Delete use of sys/vr4300.
	* libc/sys/vr4300/{Makefile.in,crt0.S,syscalls.c}: Delete.

Wed Dec  4 16:25:27 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/signal.c: Dummy file.
	* libc/sys/sysmec/Makefile.in: Build it.

Wed Nov 27 13:10:18 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/machine/mips/machine/regdef.h: Define pc as $pc for
	mips16.

Mon Nov 25 09:58:28 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/{crt0.S,trap0.S}: Actually try to implement
	c-startup and simulator traps.


	* libc/sys/sysmec/crt0.S: Remove bogus '_' symbol prefixing
	* libc/sys/sysmec/trap0.S: Likewise.

Sat Nov 23 09:01:03 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/mallocr.c (ROUND_TO): If SMALL_MEMORY, set to 0x7 to
	round to double word alignment.
	(_morecore_r): Combine rounding up pointers to both ROUND_TO and 8
	byte alignment.

	* libc/include/sys/config.h (__IEEE_BIG_ENDIAN): Define if d10v.

	* libc/sys/d10v/syscalls.c (_sbrk): Add better checks for running
	out of memory.

Mon Nov 18 13:08:26 1996  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Handle mn10200 and mn10300.
	* libc/include/machine/{ieeefp.h,setjmp.h}: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/sys/sysmec: New directory for mec stuff.
	* libc/machine/mn10300: New directory for mn10300 stuff.
	* libc/machine/mn10200: Similarly for mn10200 stuff.

Fri Nov 15 16:41:41 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Use .text, not .section .text.
	* libc/sys/arm/syscalls.c: Rewrite to set errno properly.

	* libc/include/sys/types.h (_ST_INT32): New macro, local to file.
	(nlink_t): Change type from unsigned int to unsigned short.
	(mode_t): Ensure size is 32 bits even if int is 16.
	* libc/include/sys/stat.h (st_nlink): Change type to nlink_t.
	(st_spare[123]): Change type from int to long.

Fri Nov 15 11:41:50 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/d10v/syscalls.c (_sbrk): Align initial heap_end to 8
	byte boundary.

	* configure.in (d10v*): Define SMALL_MEMORY.

Mon Nov 11 10:30:44 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc*-{eabi,elf,linux,rtem,sysv,solaris}*): Add
	-mrelocatable-lib and -mno-eabi flags.

Mon Nov 11 09:01:39 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/memcpy.S: Fix comments to reflect reality.
	Fix handling of mis-aligned source operand when both the
	destination & length are properly aligned.
	
Wed Oct 30 09:41:11 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add
	times.o, time.o and gettime.o
	* libc/sys/sysnecv850/{time.c, times.c, gettime.c}: New files.
	* libc/sys/sysnecv850/sys/syscall.h: Add SYS_times and
	SYS_gettimeofday.

Tue Oct 29 13:40:09 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add access.o
	* libc/sys/sysnecv850/access.c: New file.

Mon Oct 21 19:47:02 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/sys/vr4300/Makefile.in (clean): Remove $(OFILES).

	* libc/stdlib/mprec.h (word0, word1): Use __uint32_t, not unsigned
	long.

Mon Oct 21 14:43:07 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/crt0.S: Initialize ep and gp registers.

Thu Oct 17 11:47:16 1996  Doug Evans  <dje@seba.cygnus.com>

	* libc/include/machine/{ieeefp.h,setjmp.h}: Add m32r support.
	* libc/include/sys/config.h: Add m32r support.

Wed Oct 16 23:08:05 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/v850.ld: Remove.  It doesn't belong
	here.

Wed Oct 16 21:18:07 1996  Mark Alexander  <marka@cygnus.com>

	* libc/include/machine/setjmp.h: Add D10v support.

Tue Oct 15 22:28:26 1996  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Configure the "libc/syscalls" directory for
	the v850.

	* libc/sys/sysnecv850/{close.c, execve.c, fork.c}: Add missing '_'.
	* libc/sys/sysnecv850/{fstat.c, getpid.c, kill.c}: Likewise.
	* libc/sys/sysnecv850/{lseek.c, open.c, read.c}: Likewise.
	* libc/sys/sysnecv850/{sbrk.c, stat.c, unlink.c}: Likewise.
	* libc/sys/sysnecv850/{wait.c, write.c}: Likewise.

Tue Oct 15 16:24:39 1996  Stu Grossman  (grossman@critters.cygnus.com)

	* libc/sys/sysnecv850/crt0.S (start):  Allocate spill space on
	stack for args for main and other routines.  Zero out args for
	main.

	* libc/sys/sysnecv850/v850.ld:  New.  Linker script to layout memory
	correctly.

Tue Oct 15 11:51:42 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdio/findfp.c (std): Remove extraneous ';' after
	function.

	* libc/sys/d10v/sys/syscall.h (SYS_kill): Add.

	* libc/sys/d10v/{syscalls.c,trap.S} (_kill,_getpid): Make these
	real system calls now.

	* libc/stdio/setvbuf (setvbuf): Cast pointers to _POINTER_INT
	before casting them to int.
	* libc/stdio/tmpnam.c (_tempnam_r): Ditto.

	* libc/stdlib/mallocr.c (_morecore_r): Use _POINTER_INT when
	aligning pointer.
	* libc/string/memset.c (memset): Ditto.
	
	* libc/stdio/vfscanf.c (__svfscanf): When converting to pointer,
	first convert ints to _POINTER_INT to eliminate GCC warning.

	* libc/stdio/vfprintf.c (_vfprintf_r): Use _POINTER_INT when
	processing %p.

	* libm/math/ef_scalb.c (__ieee754_scalbf): Cut down range to 32000
	from 65000 if ints are only 16 bits.

	* libm/math/sf_scalbn.c (scalbnf): Cut down overflow test to 30000
	from 50000 if ints are only 16 bits.

	* libc/include/sys/config.h (_POINTER_INT): New macro, to give an
	int type that is the same size as a pointer.

	* libc/misc/dprintf.c (__dprintf): Use _POINTER_INT when
	processing %p.
	(get_number): Explicitly cast number to long before shifting by 16
	or 24, in case ints are short.

	* libc/include/sys/config.h (_POINTER_INT): Define as short.

Wed Oct  9 16:54:32 1996  Jeremy Allison <jra@cygnus.com>

	* libc/string.h: Added ffs, removed swab.
	* libc/sys/errno.h: Added EOPNOTSUPP.
	* libc/sys/unistd.h: Added swab.

Thu Oct  3 17:08:50 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/stat.h: Added fchmod.
	* libc/include/sys/unistd.h: Added fsync.

Tue Oct  1 17:34:08 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/errno.h: Added defines for EPFNOSUPPORT (96)
	and ECONNRESET (104) for cygwin32.

Tue Oct  1 16:24:05 1996  Gavin Koch  <gavin@cygnus.com>

        * libc/sys/sysnecv850/_exit.c: added _do_dtors to
        do the static destructors.
        
Mon Sep 30 15:59:05 1996  Stu Grossman  (grossman@critters.cygnus.com)

	* libc/sys/sysnecv850/trap.S:  Change I/O to use trap 31.

Mon Sep 30 12:02:50 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/m32r/{Makefile.in,setjmp.S}: New files.
	* configure.in: Recognize m32r-*-*.

Mon Sep 30 00:34:41 1996  James G. Smith  <jsmith@cygnus.co.uk>

	* libc/sys/arm/trap.S (__rt_stkovf_split_big,
 	__rt_stkovf_split_small): Added default software stack overflow
 	handlers, which just call SWI_Exit.
	* libc/sys/arm/crt0.S (_mainCRTStartup): Simple software stack
 	limit initialisation.

Fri Sep 27 13:08:03 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/{trap.S,sys/syscall.h}: Add time() function.

Fri Sep 27 12:32:00 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/types.h: Added ssize_t definition.
	
Wed Sep 25 14:52:18 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/machine/d10v/setjmp.S: Use ';' for comments.
	* libc/sys/d10v/{crt0.S,trap.S}: Ditto.

	* libc/machine/d10v/setjmp.S (longjmp): Use exef0t || instead of
	branch around a single ldi instruction.

	* libc/sys/d10v/crt0.S (_start): Use auto-increment to zero bss.
	Call exit, instead of just issuing a stop instruction.

Sun Sep 22 17:26:55 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/d10v/{trap.S,syscalls.c}: Add -mint32 support.

Fri Sep 20 13:23:12 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/mprec.h: Explicitly declare all large constants as
	longs, and then cast them to __uint32_t.

	* libc/include/sys/config.h: Protect against multiple inclusions.

Tue Sep 17 13:10:33 1996  Mark Alexander  <marka@cygnus.com>

	* configure.in (d10v*): Set syscall_dir.

Sun Sep 15 10:41:59 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/crt0.S: Set stack pointer.

Thu Sep 12 13:02:38 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/{trap.S, syscalls.c}: Rewrite most system calls
	in assembly for efficiency.  Change calling convention to allow
	long ints to be returned.

Wed Sep 11 10:28:18 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/machine/v850/Makefile.in (setjmp.o): Fix dependency.

Thu Sep  5 19:23:06 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Don't search PATH if file has '/'.
	Handle empty entries in $PATH.

Tue Sep 03 18:15:02 1996  Mark Alexander  <marka@cygnus.com>

	* libc/machine/d10v/setjmp.S: Make it really work.

Tue Sep  3 12:16:26 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/sys/sh/crt0.S: If __ELF__, use ELF section attributes for
	the .stack section.

Tue Sep  3 10:08:45 1996  Jeffrey A Law  (law@cygnus.com)

	* sys/sysnecv850/sys/file.h: Remove.
	* sys/sysnecv850/sys/syscall.h: New file.
	* sys/sysnecv850/{misc.c,syscalls.c,malloc.c}: Deleted.
	* sys/sysnecv850/{chmod.c, chown.c, close.c, creat.c} New files.
	* sys/sysnecv850/{execv.c, execve.c, fork.c, fstat.c} New files.
	* sys/sysnecv850/{getpid.c, isatty.c, kill.c, lseek.c} New files.
	* sys/sysnecv850/{open.c, pipe.c, raise.c, read.c} New files.
	* sys/sysnecv850/{stat.c, unlink.c, utime.c, wait.c} New files.
	* sys/sysnec850/trap.S: New file.
	* sys/sysnecv850/{_exit.c, write.c}: Use new TRAP0 mechanism for
	syscalls.
	* sys/sysnecv850/crt0.S: Use cmp/bl, not tst/bz.
	* sys/sysnec850/sbrk.c: New version.

Sun Sep  1 20:08:27 1996  Jeffrey A Law  (law@cygnus.com)

	* sys/sysnecv850/crt0.S: Fix order of comparison args.  Loop
	as long as r6 is less than r7.

Sun Sep  1 13:54:19 1996  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (mostlyclean): Separate from clean target.  Don't
	remove *.a or targ-include.
	* libc/machine/sparc/Makefile.in (mostlyclean): New target.

Sun Sep  1 11:35:26 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/machine/ieeefp.h (_DOUBLE_IS_32BITS): Define for
	d10v.
	(__SMALL_BITFIELDS): Ditto.

	* libc/include/sys/config.h (_DOUBLE_IS_32BITS): Define for d10v.

Sat Aug 31 16:42:36 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/misc.c (raise, getpid, kill): Remove '_'
	prefix.

	* libc/sys/sysnecv850/sbrk.c (sbrk): Remove '_' prefix.
	* libc/sys/sysnecv850/syscalls.c (read, lseek, close): Likewise.
	* libc/sys/sysnecv850/syscalls.c (fstat, open, close): Likewise.
	* libc/sys/sysnecv850/write.c (write): Likewise.

	* libc/sys/sysnecv850/crt0.S: Don't try to zero out an empty
	.bss.

Fri Aug 30 11:18:45 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/config.h: Define INT_MAX, UINT_MAX
	appropriately for D10V, depending on -mint16/-mint32.

Thu Aug 29 16:09:37 1996  Mark Alexander  <marka@cygnus.com>

	* configure.in: Add cases for D10V.

Thu Aug 29 17:03:23 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (i[345]86-*-*): Recognize i686 for pentium pro.

Wed Aug 28 21:05:52 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: Fix typo.

Wed Aug 28 19:47:55 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v: New directory for D10V stuff.
	* libc/include/machine/ieeefp.h: Add D10V defines.

Mon Aug 26 13:34:58 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/errno.h: Add winsup/include/sys/errno.h values:
	ELOOP, ENOBUFS, EAFNOSUPPORT, EPROTOTYPE, ENOTSOCK, ENOPROTOOPT,
	ESHUTDOWN, ECONNREFUSED, EADDRINUSE, ECONNABORTED, EWOULDBLOCK.
	* libc/string/strerror.c (strerror): Add them.

Thu Aug 22 16:38:19 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850: New directory for v850 stuff.

	* libc/machine/v850: New directory for v850 stuff.
	* libc/machine/v850/setjmp.S: setjmp/longjmp support.

	* configure.in: Add support for the v850.

	* libc/include/machine/ieeefp.h: Add v850 defines.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/sys/config.h: Add v850 defines.

Sat Aug 17 04:06:36 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/machine/ieeefp.h
	* libc/include/machine/setjmp.h
	* libc/include/sys/fcntl.h
	* libc/include/sys/signal.h
	* libc/include/sys/types.h
	* libc/stdlib/system.c:
	Fix preprocessor defines to match new scheme (_WIN32 for WIN32
	API availability, __CYGWIN32__ for cygwin32 environment specific).

Thu Aug 15 17:09:21 1996  Geoffrey Noer  <noer@cygnus.com>

        * libc/include/stdlib.h: add multibyte character functions.  Add
        __eprintf for assert.

Thu Aug 15 11:15:40 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/malloc.h (MALLOC_ALIGNMENT): Use either pointer
	arithmetic or __alignof__ to properly get the alignment, instead
	of hardwiring it to 4.

Wed Aug 14 23:43:28 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/fseek.c: add fflush call to adjust seek offset
	on append stream (fix from NetBSD sources), adjust curoff offset
	for ungetc's benefit.
	* libc/stdio/ftell.c: adjust curoff offset for ungetc's benefit.
	* libc/stdio/rewind.c: replace code with up to date NetBSD
	code to undo hacks made to work around above problem of not
	having fflush call mentioned above

Fri Aug  2 18:28:07 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/{closer.c, execr.c, fstatr.c, linkr.c, lseekr.c,
 	openr.c, readr.c, sbrkr.c, signalr.c, statr.c, timer.c, writer.c}:
 	Partially revert last changes.  The thread specific errno is set
 	iff if the underlying syscall fails and the global errno is not
 	zero.

Fri Jul 19 11:41:52 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/filer.c: Removed files, all functions have split out
 	into their own files.
	* libc/reent/{closer.c, lseekr.c, openr.c, readr.c, writer.c}: 
	New files containing functions formally in filer.c
	* libc/reent/Makefile.in: Updated for above change.

	* libc/reent/execr.c (_fork_r, _wait_r): Set errno if underlying
 	syscall fails, not if errno is changed.
	* libc/reent/filer.c (_open_r, _close_r, _lseek_r, _read_r, 
	_write_r): Likewise.
	* libc/reent/fstatr.c (_fstat_r): Likewise.
	* libc/reent/linkr.c (_link_r, _unlink_r): Likewise.
	* libc/reent/sbrkr.c (_sbrk_r): Likewise.
	* libc/reent/signalr.c (_kill_r): Likewise.
	* libc/reent/statr.c (_stat_r): Likewise.
	* libc/reent/timer.c (_gettimeofday_r): Likewise.

	* libc/reent/{execr.c, filer.c, fstatr.c, linkr.c, sbrkr.c,
 	signalr.c, statr.c, timer.c} (errno): declare extern rather
	than as a common.

	* libc/stdio/vfprintf.c (__sbprintf): Use the VFPRINTF macro
 	instead of calling vfprintf so that i*printf will not require
 	floating point support code.
	
Mon Jul 15 16:50:59 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Use posix_path_list_p to determine
	path delimiter.
	* libc/include/sys/unistd.h (_SC_PATH_RULES): Delete.
	(_PATH_RULES_{UNKNOWN,WIN32,POSIX}): Delete.

Thu Jul 11 14:34:14 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/signal.h: _sig_func_ptr function takes an int
	* libc/include/sys/signal.h: sa_handler function takes an int

Tue Jul  9 21:22:32 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: Simplify H8/S support.
	* libc/include/sys/config.h: Add missing H8/S conditional.

Sun Jun 30 12:05:46 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/unistd.h (MAXPATHLEN): Add cygwin32 value.

Wed Jun 26 09:57:54 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/setjmp.h: Handle H8/S.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/machine/h8300/{defines.h, memcpy.S, memset.S}: Likewise.
	* libc/machine/h8300/{reg_memcpy.S, reg_memset.S}: Likewise.
	* libc/machine/h8300/{strcmp.S, setjmp.S}: Likewise.
	* libc/sys/h8300hms/crt0.S: Likewise.

Tue Jun 25 23:15:45 1996  Jason Molenda  (crash@godzilla.cygnus.co.jp)

        * Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
        * doc/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
        * libc/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
        * libm/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.

Fri Jun 21 19:24:41 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/reent.h (_REENT_INIT): Update for change to
	_reent struct.

Wed Jun 19 14:00:09 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c: Delete _WIN32 support.  For __CYGWIN32__
	fetch current path rules with sysconf and handler posix/win32
	appropriately.

	* libc/include/sys/unistd.h (_PATH_RULES{,_POSIX,_WIN32}): Define.

	* libc/include/process.h: Prepend '_' to P_{WAIT,NOWAIT,OVERLAY}.
	(WAIT_CHILD): Always define.

Sat Jun 15 17:50:42 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/eprintf.c: New file.
	* libc/stdlib/Makefile.in (OFILES): Add eprintf.o.
	(eprintf.o): New target.

Thu Jun 13 16:44:32 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/cygwin32/crt0.c (__cygwin_crt0_bp): New global.
	(mainCRTStartup): Do int3 if __cygwin_crt0_bp non-zero.

Thu Jun 13 17:45:17 1996  Mike Meissner  <meissner@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Add support for AIX and Windows
	NT in PowerPC endianess cases.

Tue Jun 11 12:26:28 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/machine/ieeefp.h: Clean up PowerPC endianess.

Thu Jun  6 11:34:20 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/string/strtok.c: Fix doc typo.

Mon Jun  3 11:30:00 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/sys/reent.h (struct _reent): Removed _asctime,
 	_next, _scanpoint, _signgam fields.

	* libc/include/stdlib.h (rand_r): Added new declaration.
	(_rand_r, _srand_r): Removed declarations.
	* libc/stdlib/rand.c (_rand_r, _srand_r): Removed, these functions
 	have been made obsolete by rand_r.
	* libc/stdlib/rand_r.c: New file, rand_r function as specified
 	by POSIX.1c.
	
	* libc/string/strtok.c: Update documentation to describe
 	strtok_r().

Sat Jun  1 23:50:39 1996  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/stat.h (stat structure): Use the expanded stat
	structure on Solaris, and PowerPC systems even though __svr4__ is
	defined.

Tue May 28 13:02:42 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/go32/sys/errno.h (ENOSYS,ESPIPE): Keep values <= 255.

Fri May 17 10:34:44 1996  Ian Lance Taylor  <ian@cygnus.com>

	* host/any: Use ../.. rather than .. to get to the main build
 	directory.  This matches the current layout of the build
 	directory.

Wed May 15 15:52:27 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/__main.S: Delete.  No longer needed.
	* libc/machine/h8300/Makefile.in: Corresponding changes.
	* libc/sys/h8300hms/crt1.c: New file.
	* libc/sys/h8300hms/Makefile.in: Corresponding changes.
	* libc/sys/h8300hms/crt0.s: Call __main.

	* libc/sys/h8300hms/crt0.S: Use temporary label names
	for branch targets.

Mon May 13 14:26:30 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdio/fopen.c (_fopen_r): Fix arguments to fseek.

Fri May  3 16:38:23 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/reent/impure.c (_impure_ptr): Force the impure pointer into
	.sdata on the PowerPC so that we can link newlib with code
	compiled with -msdata.

Mon Apr 29 21:38:02 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/syscalls.c (_sbrk): Rename end to __end__.

Thu Apr 25 06:38:59 1996  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/cygwin32/crt0.c (mainCRTStartup): On PowerPC, set the
	exception handler to __cygwin_exception_handler.

Tue Apr 23 15:14:20 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/machine/setjmp.h: Check _AM29K, not ___AM29K__.

Sun Apr 21 12:11:51 1996  Doug Evans  <dje@blues.cygnus.com>

	* libm/math/Makefile.in ({w,wf}_cabs.o,{w,wf}_drem.o): Add rule for
	SunOS VPATH.
	* libc/stdlib/Makefile.in (atoff.o,atol.o,mblen.o,mbstowcs.o,
	wcstombs.o): Likewise.

Thu Apr 18 12:37:01 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdlib/environ.c (initial_env): New static local.
	(environ): Point to `initial_env'.

	* libc/include/machine/setjmp.h: Clean up.
	(__H8300H__,__PPC__): Define _JBTYPE.
	(__arm__): Provide entry for.
	(sigjmp_buf): Delete.
	(jmp_buf): Use _JBTYPE if defined, otherwise int.

Thu Apr 18 12:10:52 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/strcmp.S: Sign extend the result to
	32bits so we don't lose with -mint32.

Sun Apr 14 19:59:52 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/go32/sys/errno.h: New file.
	* libc/sys/go32/Makefile.in (stat.o): Depend on stat.c.
	* libc/sys/go32/gerrno.s (syscall_error): Call __errno to get
	errno's address (make compatible with rest of newlib).
	* libc/sys/go32/stat.c (fixinode): Set errno upon failure.
	* libc/string/strerror.c (strerror): Surround each case with #ifdef.

Thu Mar 28 13:44:42 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/sparc/{scan.c,shuffle.c}: New files.
	* libc/machine/sparc/Makefile.in: Build them.
	* libc/machine/sparc/machine/sparclet.h: New file.

Mon Mar 25 15:29:14 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/sh/asm.h: New file.
	* libc/machine/sh/setjmp.S: Only save clobbered registers.  Added
 	support for SH3e's FP registers.  Use asm.h.

Mon Mar 25 11:59:23 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/stdio/vfprintf.c (cvt): Accept a reent structure
	as first argument.  Call _dtoa_r and pass the reent structure
	instead of calling __dtoa.

Fri Mar 22 13:59:37 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/sys/config.h: Define DOUBLE_IS_32BITS for
	the h8300, h8500, and others.  Add comments for some rather
	dubious code.

Thu Mar 14 18:04:43 1996  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (check): Check that testsuite exists before cd.

Tue Mar 12 11:46:47 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/string.h (strsep): Correct prototype.

Mon Mar 11 09:55:19 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/sys/h8300/_exit.c (_exit,__exit): Set r0 to 0 before `sleep'.
	* libc/sys/h8300/misc.c (_kill): Set r0 to indicate abort and `sleep'.
	* libc/sys/h8300/crt0.S (_start): Call exit instead of `sleep'.

Wed Mar  6 11:51:55 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/posix/{creat.c,isatty.c}: New files.
	* libc/posix/Makefile.in (OFILES): Add creat.o, isatty.o.

	* libc/sys/sparc64/crt0.S (environ): Delete.
	(.LHaveBias): Renamed from HaveBias.

Thu Feb 15 10:48:37 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/stdlib/mallocr.c (etext): Move decl inside ifdef WARN_VLIMIT.
	(_morecore_r): Delete SBRK_IS_ALLOC support.

Tue Feb 13 09:44:09 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/cygwin32/Makefile.in (lib.a): Make lib.a with a dummy
	module rather than touch, so we don't get warning messages when
	all of the libraries are combined into libc.a.

Tue Feb 13 06:32:07 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/sys/sparclite/{Makefile.in,crt0.s}: Deleted.
	crt0.s replaced by version in libgloss.

Mon Feb  5 15:17:51 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/Makefile.in (OFILES): Add impure.o.
	* libc/reent/impure.o: New file, define initial reentrancy struct.
	* libc/reent/reent.c: Remove above definition.

	* libm/math/sf_asinh.c: Fix typo.

	* Makefile.in (MATHOBJS_IN_LIBC): Removed sr_ldexp.o and
 	srf_ldexp.o.
	
	* libm/libm.texinfo: Change documentation to reflect changes
	in reentrancy model.
	* libm/math/w_gamma.c: Likewise.

Wed Jan 31 18:49:45 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in (*-*-cygwin32): New.
	(*-*-win32): Deleted.
	* libc/sys/win32 renamed libc/sys/cygwin32.

Tue Jan 30 22:09:03 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/file.h: New include file.

Fri Jan 26 15:52:54 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/include/machine/setjmp.h: Increase size of PPC jmp_buf.

Tue Jan 23 17:49:16 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/wait.h (WIFSIGNALED): Fix.

Tue Jan 16 09:28:10 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* doc/makedoc.c (realloc): Declare at file scope.
	(catchar): Not here.

Wed Dec 27 15:45:23 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in (VERSION): Update to 1.7.0.
	* {libc,libm}/Makefile.in (VERSION): Likewise.
	* configure.in: Minor clean up of multilib stuff.

	From David Johnson <davidj@ICSI.Berkeley.EDU>
	* {libc,libm}/Makefile.in (lib[cm].a): Delete library first.

	* libc/stdlib/environ.c: New file.
	* libc/stdlib/Makefile.in (OFILES): Build it.
	* libc/sys/h8500hms/crt0.c (environ): Deleted.
	* libc/sys/m88kbug/crt0.c (environ): Deleted.
	* libc/sys/z8ksim/crt0.c (environ): Deleted.
	* libc/sys/netware/environ.c: Deleted.

Tue Dec 19 15:24:46 1995  Kim Knuttila  <krk@cygnus.com>

	* configure.in (links): set sys_dir, posix_dir, syscall_dir

Wed Dec 13 04:16:25 1995  Michael Meissner  <meissner@wogglebug.tiac.net>

	* doc/makedoc.c (init_string_with_size,nextword): Move malloc
	declaration out to external scope and declare it PTR, not char *.

Mon Dec 11 17:35:12 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/unistd.h (getpagesize): New declaration.
	(_SC_PAGESIZE): New definition.
	* libc/include/time.h (CLK_TCK): Defined as CLOCKS_PER_SEC.
	* libc/configure.in (i[345]86-*-win32): Remove -DNO_FORK.

Fri Dec  1 16:48:46 1995  James G. Smith  <jsmith@cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c (sbrk): Fixed memory
 	addressing. System call returns size, not (last address + 1).

Thu Nov 30 15:05:26 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libm/math/*.c: Removed _foo_r() reentrancy API.
	* libc/include/math.h: Removed _foo_r prototypes and macros.

	* libm/math/*.c: On systems with IEEE single precision "doubles" 
	move foo() -> foof() wrapper code from the files that implement
	the standard IEEE double precision functions to the files that 
	implement IEEE single precision functions. (ie. On those systems
	sin is moved from s_sin.c to sf_sin.c).  There should eventually
	be use of a C extension (like gcc's alias attribute) so that the
	wrappers are not needed at all.

	* libc/sys/sysnec810/sbrk.c: Cast &end to char * to get around
 	strict NEC V810 compiler.
	* libc/misc/dprintf.c (getnumber): Cast char * to unsigned char *
 	for same reason.

Wed Nov 29 14:25:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/strtol.c (_strtol_r): Replaced with implementation
 	from NetBSD C library.
	* libc/stdlib/strtoul.c (_strtoul_r): Likewise.

	* libc/stdlib/assert.c (__assert): Renamed from __assertfail 
	and adapted from implementation I wrote for NetBSD C library.
	The difference is __assert doesn't take a format argument,
	so that there won't be multiple copies of the same string
	constant in the executable if assertions are enabled in
 	more than one source module.
	* libc/include/assert.h (assert): Changed to call __assert.

Tue Nov 28 16:54:26 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/strtod.c (_strtod_r): Changed to not assign to
	word1 on systems with 32 bit doubles.
	* libc/stdlib/qsort.c (qsort): Cast some void *'s to char *'s
	so that	we can do arithmetic on them.
	* libc/misc/dprintf.c: Changed to support stdarg.h for ANSI
 	compilers.
	
Tue Nov 28 16:03:32 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Zero bss.

Fri Nov 24 16:09:23 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/include/unctrl.h: New file.
	* libc/misc/{Makefile.in,dprintf.c,unctrl.c,misc.tex}: New files.
	* configure.in (subdirs): Add libc/misc.
	* libc/Makefile.in (SUBDIRS): Add misc.
	(SUBLIBS): Add misc/lib.a.

	* libc/include/sys/reent.h (struct _reent): Make __sf last member.

Wed Nov 22 19:49:47 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/stdio/vfprintf.c (__sbprintf): Init fake._data.
	(_vfprintf_r): Call CHECK_INIT.

Tue Nov 14 02:52:12 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in (MULTITOP): Delete.
	(MULTISRCTOP, MULTIBUILDTOP): Add.
	* configure.in: Delete call to cfg-ml-com.in.  Call config-ml.in
	instead of cfg-ml-pos.in.

Wed Nov  8 01:24:08 1995  James G. Smith  <jsmith@pasanda.cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c: Added clean version of sbrk().
	* libc/sys/vr4300/crt0.S: Cleaned up. Added check for FPU
 	presence.

Thu Nov  2 22:25:06 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/string/strtok.c: Include string.h to pick up strtok_r
	prototype.

Wed Nov  1 18:54:11 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/string/strtok.c: include <_ansi.h>.
	* libc/time/asctime_r.c: `reresult' -> `result'.

Wed Nov  1 14:35:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/time/{ctime.c, gmtime.c, lcltime.c}: Wrap functions
	in #ifndef _REENT_ONLY ... #endif conditional.

	* libc/include/string.h (_strtok_r): Remove declaration.
	* libc/include/time.h (_asctime_r): Remove declaration.
	* libc/string/strtok.c (_strtok_r): Removed.
	* libc/time/asctime.c (_asctime_r): Removed.

	* libc/string/Makefile.in (OFILES): Add new object.
	* libc/string/strtok_r.c: New file.  strtok_r function as
 	specified by POSIX.1c, adapted from strtok implementation 
	from NetBSD C library.
	* libc/string/strtok.c (strtok): Reimplemented in terms of 
	strtok_r.

	* libc/time/Makefile.in (OFILES): Add new objects.
	* libc/time/{asctime_r.c, ctime_r.c, gmtime_r.c, lcltime_r.c}:
	New files, reentrant time functions specified by POSIX.1c.
	* libc/time/{asctime.c, ctime.c, gmtime.c, lcltime.c}: Non-
	reentrant time functions re-written in terms of reentrant 
	functions.
	* libc/time/lcltime.c: Renamed from localtime.c

	* libc/include/time.h: Add prototypes for asctime_r, ctime_r,
	gmtime_r, and localtime_r.

Sat Oct 28 14:34:31 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (mainCRTStartup): Call cygwin_crt0.
	* libc/include/sys/unistd.h (getlogin): Revert change of
	Oct 19.
	* libc/include/sys/signal.h (sigprocmask): Change prototype
	so it compiles with c++.

Wed Oct 25 15:43:18 1995  Michael Meissner  <meissner@cygnus.com>

	* libc/include/machine/setjmp.h (PowerPC _JBLEN): Consider it a
	PowerPC if __PPC__ is defined.  Bump jump_buf length to 62 ints,
	to give some room in case we need to align the jmp_buf.
	
	* libc/machine/powerpc/setjmp.S (setjmp, longjmp): Rewrite to use
	the new ppc-asm.h include file the compiler provides to specify
	function prologue/epilogue.  Eliminate saves of the xer and ctr
	registers, which are volatile.  Before starting to save registers,
	align to 8 byte boundary.

Mon Oct 23 11:20:51 1995  James G. Smith  <jsmith@pasanda.cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c: Added empty kill() function,
 	referenced by standard libraries.

Thu Oct 19 21:39:47 1995  Fred Fish  <fnf@cygnus.com>
	
	* libc/unix/Makefile.in, libc/string/Makefile.in,
	libc/stdio/Makefile.in, libc/reent/Makefile.in,
	libc/posix/Makefile.in:
	Remove tabs from otherwise empty line.  Confuses some
	older non-GNU versions of "make".

Thu Oct 19 16:32:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/unistd.h (getlogin): Returns const char *.

Wed Oct 18 12:57:50 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/fcntl.h (O_BINARY, O_TEXT): New.
	* libc/include/errno.h: Moved into and include...
	* libc/include/sys/errno.h: New file.
	* libc/include/sys/wait.h: New file.
	* libc/stdio/rename.c (_rename_r): Use _rename system call if available.
	* libc/sys/win32/*: Moved out.
	* libc/sys/win32/crt0.c: Rewritten to cope with shared library.
	* configure.in (i[345]86-*-win32): HAVE_RENAME

Wed Oct 18 09:58:27 1995  Brendan Kehoe  <brendan@lisa.cygnus.com>

	* libc/unix/sigset.c (sigemptyset, sigaddset): Prefix #undef to
	avoid macro expansion for these two names.

Tue Oct 17 08:45:33 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/h8500/psi.S: r6 renamed to fp.

Sun Oct 15 12:58:10 1995  Michael Meissner  <meissner@wogglebug.tiac.net>

	* configure.in (powerpc*): No longer need to define
	NO_LONGLONG_POINTERS to supress warnings.

Sat Oct 14 12:55:08 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/reent/reent.c (_reclaim_reent): Call cleanup indirectly
	through PTR instead of directly.

	* libc/sys/sh/crt0.S: Clean up formatting.  Delete unused
	non-standard constructor support.

Thu Oct 12 11:39:42 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/dtoa.c (_dtoa_r): Set result pointer to the
 	address of the Bigint instead of the address of its _x field,
 	as the size the result buffer was calculated accordingly.  
	Fix from Jim Wilson <wilson@chestnut@cygnus.com>.

	* libc/stdlib/{div.c, ldiv.c}: Replaced with implementation
	from NetBSD C library.  No longer special cases division by 
	zero (which needs to be done by the application anyway), but
	it doesn't need to call abs() (or labs()) four times either.
	
	* libc/stdlib/qsort.c: Replaced with implementation from 
	NetBSD C library.

Tue Oct 10 14:01:10 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdio/vfprintf.c: Replaced with implementation from
        NetBSD C library (which is derived from the 4.4BSD C library).
	* libc/stdio/cvt.c: Removed.
	* libc/stdio/Makefile: Updated.
	
Tue Oct 10 12:15:23 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/syscalls.c (rename): New.
	* libc/sys/win32/include/winkernel.h (MoveFileExA): New.

Fri Oct  6 12:18:43 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/machine/sh/Makefile.in (setjmp.o): Depend on setjmp.S.
	* libc/machine/sh/setjmp.S: Rename from setjmp.s.

	* libc/sys/sh/Makefile.in (OFILES, all): Delete setjmp.o.
	(setjmp.o): Delete rule to build setjmp.o.
	* libc/sys/sh/setjmp.S: Delete file.

Fri Oct  6 11:19:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/mprec.c (d2b): Added support for _DOUBLE_IS_32BITS.
	* libc/stdlib/mprec.h: Fixed constants used for IEEE single float
	format.  Added #defines to map d2b, i2b, low0bits, lshift, mult,
 	pow5mult and s2b to identifiers with leading underscores.
	* libc/stdlib/Makefile.in: Add mprec.h as a dependency to dtoa.o,
	ecvtbuf.o, mprec.o and strtod.o.  Sort dependencies.

Thu Oct  5 17:27:30 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/posix/popen.c (sys/types.h): Include.

Thu Oct  5 16:33:01 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/syscalls.h (fhandler): New struct.
	(__lookup_fhandler, __lookup_fhandler_hook): Declare.
	(__fhandler_normal): Declare.
	(hinfo): New member op_handlers.
	* libc/sys/win32/syscalls.c (__read): Don't validate fd.
	(__write): Likewise.
	(_read, _write, _open, _close, _lseek): Validate fd here.
	Move file type specific stuff to foo_normal.
	(read_normal, write_normal, open_normal, close_normal, lseek_normal):
	New functions.
	(__lookup_fhandler): New function.
	(__lookup_fhandler_hook, __fhandler_normal): New variables.

	From anders.blomdell@control.lth.se (Anders Blomdell)
	* libc/sys/win32/crt0.c (vfork_init): Unset __FD_TABLE__.
	Don't touch standard handles.
	* libc/sys/win32/spawn.c (_spawn): Use STARTF_USESTDHANDLES.
	(_execve): Only create __FD_TABLE__ if necessary.
	* libc/sys/win32/include/winkernel.h (STARTF_*): Define.

Thu Oct  5 14:25:14 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/sys/termios.h (FLUSHO): New.
	* libc/sys/win32/include/win*.h: Moved a load of prototypes around.
	* libc/sys/win32/pipe.c (_fctnl): Ignore F_SETFL without errors.
	* libc/sys/win32/exception.c (ehandler3): set strace when a signal
	without a handler is received.
	* libc/sys/win32/Makefile.in: Remove --nodelete.
	* libc/sys/win32/resouce.c (gettimeofday): New.
	* libc/sys/win32/syscalls.c (path_to_real_path): New.
	* libc/sys/win32/syscalls.h (include/wincon.h): Don't include.

Wed Oct  4 13:10:35 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/dirsearch.c (opendir): stat real path name.
	Don't append "/*" to search pattern if trailing '/' already there,
	append "*".
	* libc/sys/win32/spawn.c (_spawn): CreateProcess doesn't seem to
	like /'s, convert them to \'s.  Handle //<drive>/ path names.
	Add space for quoted \'s in arg string.  Print translated prog name
	and original prog name.
	(_execve): Handle parent doing exec a teensy bit better.
	* libc/sys/win32/syscalls.h (__path_to_real_path): Update prototype.
	* libc/sys/win32/syscalls.c (__path_to_real_path): Don't assume
	path needs conversion, handle both cases.  Delete `const' from result.
	(hash_path_name): New function.
	(_open): Call it.
	(_stat): Likewise.  Fill in more fields for directories.
	* libc/sys/win32/wait.c (_wait): Explicitly pass -1 to waitpid.
	(wait_for_any): Fix trace message.
	(waitpid): Explicitly test for intpid == 0.

	From anders.blomdell@control.lth.se (Anders Blomdell)
	* libc/sys/win32/spawn.c (__vfork_get_empty_entry): zero fill result
	so `next' is valid.

Sat Sep 30 15:00:15 1995  Jason Molenda  (crash@phyeaux.cygnus.com)

	* libc/sys/win32/spawn.c (_spawn): Make quoting rules more
	complicated.

Sat Sep 30 10:25:57 1995  Jason Molenda    (crash@phydeaux.cygnus.com)

        * libc/include/_ansi.h: set _HAVE_STDC if __STDC__ is defined
        at all, not just == 1.
        * libm/math/wf_acos.c (acosf): check for _HAVE_STDC, not __STDC__.

Sat Sep 30 04:30:09 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

        * libc/sys/win32/include/winbase.h: include <wintypes.h> and <winnt.h>
        * libc/sys/win32/include/wintypes.h: include <winnt.h>
        * libc/sys/win32/include/winnt.h: avoid multiple inclusion of this
        file.

Fri Sep 29 01:49:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/syscalls.c (getcwd): Fix off by one error.

	* libc/sys/signal.c (sleep): Fill it in.
	* libc/sys/termios.c (tcflush): Use PurgeComm
	(tcsetattr): Set some more of the bits.
	* libc/sys/include/winkernel.h: Add PurgeComm and Sleep.

Fri Sep 29 04:33:53 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/sys/arm/crt0.S (fp): Initialize to 0.
	Conditionally include .idata$3 stuff ifdef __pe__.

Fri Sep 29 01:49:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (hmap_init): Call __init_hinfo.
	* libc/sys/win32/pipe.c (pipe): Ditto.
	* libc/sys/win32/syscalls.c (__read):  Use new vtime and vmin fields.
	* libc/sys/win32/syscalls.h (hinfo): vtime, vmin are new.
	* libc/sys/win32/termios.c (tcsetattr): Init new fields.
	(tcgetattr): Contents are new.
	* libc/sys/win32/include/winkernel.h (DCB): New.
	(GetCommState, SetCommState): New.

Thu Sep 28 16:29:09 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/sys/arm/crt0.S (_start): Define.

Thu Sep 28 12:26:45 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/arm/crt0.S: Move stack to top of RAM on PIE board.
	* libc/sys/arm/syscalls.c (_read, _write): Use the SWI properly.

	* libc/sys/win32/sysconf.c: New
	* libc/sys/win32/sys/winadvapi.h: New
	* libc/sys/win32/syscalls.h (hinfo): Added timeout_len, w_binary, r_binary.
	* libc/sys/win32/crt0.c (hmap_init): Initialize new fields.
	* libc/sys/win32/pipe.c (pipe): Ditto.
	* libc/sys/win32/signal.c (_raise): New.
	(_kill): Moved from spawn.c
	* libc/sys/win32/spawn.c (kill): Moved to signal.c
	* libc/sys/win32/syscalls.c (__read): Use new fields.
	(_open): Ditto.
	* libc/sys/win32/termios.c (tcflush, tcsetattr, tcgetattr): Fill in.
	* libc/sys/win32/exceptions.c (__stack_trace): Keep going for longer.
	* libc/include/sys/unistd.h (rmdir): Takes const path.
	* libc/include/sys/stat.h (mkdir): Takes const path.
	* libc/include/sys/signal.h (SIGTTOU, SIGTTIN): New for win32.

Thu Sep 28 10:11:27 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/spawn.c (_spawn): Fix quoting.

	Add support for specifying paths as //<drive>/foo/bar.
	* libc/sys/win32/syscalls.h (__path_needs_conversion_p): Declare.
	(__path_to_real_path): Declare.
	(PATH_TO_REAL_PATH): New macro.
	* libc/sys/win32/syscalls.c (__win32_pid_to_posix_pid): Minor cleanup.
	(__path_needs_conversion_p, __path_to_real_path): New functions.
	(_open): Fix test for error return from CreateFileA.
	Handle new path syntax.
	(_link, mkdir, rmdir, getcwd, chdir, stat): Handle new path syntax.
	* libc/sys/win32/dirsearch.c (opendir): Likewise.

Wed Sep 27 16:36:46 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/include/*.h: Reorganized
	* libc/sys/win32/include/WINREADME: New.
	* libc/sys/win32/Makefile.in (DLLS): Build version.a.
	* libc/sys/win32/*.c: Fix for new include scheme.
	* libc/sys/win32/crt0.c (__this_uinfo_buf, __this_uinfo): New.
	* libc/sys/win32/getlogin.c (getlogin): Use uinfo.
	* libc/sys/win32/passwd.c (*): Fix.
	* libc/sys/win32/syscalls.c (get[e|][g|u]id): Use passwd info.
	(_stat): Get directory owner and permissions right.
	* libc/sys/win32/syscalls.h (uinfo): New.
	* libc/sys/win32/version.def: Remove leading underscores.

Tue Sep 26 18:18:47 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/key.c: include "include/wincon.h".

Tue Sep 26 07:21:48 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{key, stubs}.c: New.
	* libc/sys/win32/Makefile: Adjust to cope.
	* libc/sys/win32/crt0.c (vfork_init_first): Cope with -ve pids.
	(environ_init): Change env names to upper case.
	* libc/sys/win32/dirsearch.c (readdir): Don't fill in inode number.
	* libc/sys/win32/passwd.c (*): Fill in the functions.
	* libc/sys/win32/pipe.c (_fcntl): F_GETFL returns O_RDWR.
	* libc/sys/win32/spawn.c (_spawn): Cope with -ve pids.
	* libc/sys/win32/syscalls.c (__win32_pid_to_posix_pid): New function.
	(_open): Initialze hmap->execable_p too.
	* libc/sys/win32/syscalls.c (getuid, getgid, geteuid, getegid): Return from macros.
	(_fstat): Fill in permissions.
	* libc/sys/win32/syscalls.h (hinfo): Add execable_p.

Fri Sep 22 13:47:27 1995  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (cfg-ml-com.in invocation): Use ${with_multilib_top}
	if defined.
	(cfg-ml-pos.in invocation): Likewise.

Fri Sep 22 11:43:44 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* Makefile.in (MATHOBJS_IN_LIBC): Added s_isinf.o, sf_isinf.o,
	s_isnan.o and sf_isnan.o.

Wed Sep 20 14:50:19 1995  Ian Lance Taylor  <ian@cygnus.com>

	* All Makefile.in files: added maintainer-clean target as a
	synonym for realclean.

Wed Sep 20 11:02:50 1995  Jeff Law  (law@snake.cs.utah.edu)

	* libc/include/machine/setjmp.h: Add hppa support.
	* libc/machine/hppa/setjmp.S: New file with setjmp/longjmp
	support.
	* libc/machine/hppa/Makefile.in: Related changes.

Tue Sep 19 12:09:01 1995  J.T. Conklin  <jtc@blues.cygnus.com>

	* configure.in (machine_dir): Don't set for v810-*-*.

Fri Sep 15 20:22:08 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (passover): Change to handle MKS quoting
	conventions correctly.

Thu Sep 14 13:37:22 1995  J.T. Conklin  <jtc@blues.cygnus.com>

	* libc/stdio/puts.c: Update documentation of return value to match
	ANSI standard.

Thu Sep 14 01:52:37 1995  Doug Evans  <dje@canuck.cygnus.com>

	Fix file descriptor inheritance.
	* libc/sys/win32/syscalls.h (CHILD_P): Define again.
	(NOT_OPEN_FD): Fix.
	* libc/sys/win32/spawn.c (vfork0): Only create inheritable handle if
	close-on-exec flag not set.  Initialize child's entire fd table.
	* libc/sys/win32/syscalls.c (_open): Only create inheritable handle if
	CHILD_P.
	* libc/sys/win32/pipe.c (pipe): Only create new handle as inheritable
	if CHILD_P.  Initialize entire hmap entry.
	(dup): Only create new handle as inheritable if CHILD_P.
	(dup2): Likewise.  Properly initialize hmap entry.

	* libc/sys/win32/spawn.c (_execve): Don't pass _P_SEARCH_PATH to
	_spawn.
	(_exit): Use CHILD_P.
	* libc/sys/win32/syscalls.c (_fstat): Fix call to memset.
	(_stat): Likewise.

Mon Sep 11 23:09:39 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (passover): fix up the state table.
	* libc/posix/popen.c: Added.
	* libc/posix/Makefile.in: compile popen.c.
	
Mon Sep 11 11:43:38 1995  J.T. Conklin  <jtc@cygnus.com>

	* libc/include/machine/ieeefp.h: On the h8/300, h8/300h and
	h8/500 define _DOUBLE_IS_32BITS.

Sat Sep  9 17:55:54 1995  Doug Evans  <dje@canuck.cygnus.com>

	Get vfork/exec/spawn/cwait/wait working again.
	* libc/sys/win32/syscalls.h (VFORK_NEWBORN_PSEUDO_PID): Define.
	(procinfo): New member vfork_level.
	* libc/sys/win32/crt0.c (__vfork_next_pid): Delete.
	(vfork_init_first): Use GetCurrentProcessId to get pid.
	Initialize vfork_level.
	(vfork_init): Delete __PID__.
	(environ_init): New function.  Undo patch of Aug 19, Posix says
	environment variables are case sensitive.
	(mainCRTStartup): Call it.
	* libc/sys/win32/spawn.c (__vfork_next_pid): Delete.
	(my_longjump: Make static.
	(_spawn): New argument `h'.  Delete setting of __PID__.
	Delete local `idx'.  Look for chars that need quotes, rather than
	ones that don't.  Set handle of created process in `h'.
	Result is process id if created task.
	(allocate_spawn_entry): New function.
	(spawnvp, spawnv): Call it.  Store handle and pid in procinfo entry.
	(_execve): Set __FD_TABLE__ before spawning child.
	Scan our fd table when passing fds, not our parent's.
	Store handle and pid in procinfo entry.
	(vfork0): Ensure strace message always printed.
	Set child pid to VFORK_NEWBORN_PSEUDO_PID.
	(vfork): Don't clobber result of vfork0.
	* libc/sys/win32/wait.c (cwait): Fix non-error result (is pid).
	(wait_for_any): Ignore processes in state FORK_STATE_VFORK_0.

	* libc/sys/win32/syscalls.h (procinfo): New members `handle_valid_p'
	and `exit_code'.
	* libc/sys/win32/spawn.c (allocate_spawn_entry): Initialize them.
	(vfork0): Likewise.  Distinguish children, grandchildren, etc. by
	adding vfork level to pseudo-pid.  
	(vfork1): If not root, set state back to FORK_STATE_VFORK_0.
	(spawnvp, spawnv, _execve): Set handle_valid_p if success.
	(_exit): If child, set exit code.
	(__vfork_record_death): Only close process handle if valid.
	* libc/sys/win32/wait.c (wait_for_single): Watch for children that
	didn't exec.
	(wait_for_any): Likewise.  Start scan after root entry.

Fri Sep  8 18:48:02 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/include/sys/types.h (off_t): off_t back to 32 bits.
	* libc/include/sys/_types.h (_off_t): _off_t back to 32 bits.
	* libc/sys/win32/syscalls.c (_fstat): st_size is lower 32-bits
	of actual file length.

	* libc/sys/win32/sys/wait.h: include <sys/types.h>.
	* libc/include/paths.h: _PATH_BSHELL added.
	* libc/include/sys/unistd.h: define STDIN_FILENO, STDOUT_FILENO,
	and STDERR_FILENO.

Thu Sep  7 21:02:22 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/include/ar.h: Added.
	* libc/include/sys/types.h: ino_t goes back to 32-bits.
	* libc/sys/win32/syscalls.h (hinfo): added .namehash field.
	* libc/sys/win32/syscalls.c (_open): compute .namehash based
	on filename.
	(_fstat): use .namehash for inode number of the fd.

Thu Sep  7 12:57:19 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{console,ioctl,pipe,spawn,syscalls,wait}.? (*):
	 Change hinfo to __this_procinfo.
	* libc/sys/win32/crt0.c: Remove procinfo_list.

Wed Sep  6 18:38:26 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/include/sys/types.h (ino_t): Define ino_t correctly for
	win32 environment.

Wed Sep  6 18:09:29 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/sys/win32/include/grp.h: Removed.
	* libc/sys/include/grp.h: Added.
	* libc/sys/win32/grp.c: Include <grp.h>.

Wed Sep  6 16:52:48 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/signal.h (__need_MAX_SIGNALS): Removed.
	(sigset_t, sigaction, SIG_SETMASK, SIG_BLOCK, SIG_UNBLOCK):
	Defined for all but strict ANSI.
	* libc/include/sys/reent.h (__need_MAX_SIGNALS): Removed.
	* libc/include/machine/setjmp.h: Get win32 _JBLEN right.
	* libc/signal/signal.c (_signal_r): Changed from using
	_MAX_SIGNALS to NSIG.  
	* libc/sys/win32/crt0.c (__current_pid, __parent_hmap, __child_hmap,
	 __hmap): Deleted.
	(__strace, __vfork_next_pid): New.
	(__exe_suffix): Default to 1.
	(passover, table): Understand quoted arguments.
	(vfork_init_first): New.
	(vfork_init): Initialize new process structure.
	(mainCRTStartup): Pass environ to main.
	* exceptions.c (__sig_mask): New
	(ehandler3): Ignore signals in mask.
	(really_exit): Remove CHILD_P test.
	* pipe.c (pipe, dup, dup2): Use new process and file structure.
	* resource.c (getrusage): Ditto.
	* signal.c (sigprocmask): New.
	* spawn.c (*): Rewritten.
	* syscalls.c (*): Use new process and file structure.
	(find_unused_handle): New.
	* syscalls.h (MAX_HANDLES): Deleted.
	(hinfo): Removed child_created_p.
	(MAX_CHILDREN): Deleted.
	(vfork_jmp_info, procinfo): New.
	* wait.c (*): Mostly new.
	* sys/strace.h (_STRACE_PARANOID): New.
	* sys/param.h: New file.

Wed Sep  6 17:03:53 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

        * libc/include/sys/stat.h: add S_BLKSIZE.
        * libc/include/sys/_types.h: _off_t is a 64-bit type under win32.
        * libc/include/sys/types.h: define off_t and ino_t to be 64 bit
        types under win32.
        (mode_t): add a #else to avoid multiple definitons.

        * libc/sys/win32/Makefile.in: add grp.c.
        * libc/sys/win32/grp.c: include grp.h correctly.
        * libc/sys/win32/syscalls.c (_fstat): set almost all of the fields
        of the st structure with real information.
        * libc/sys/win32 (dirent): d_ino is of type ino_t.

Wed Sep  6 10:41:34 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/types.h (mode_t): Correct for svr4 sparc's
	and (maybe) sparc64.
	(nlink_t): Provide typedef.

Tue Sep  5 18:46:05 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/sys/win32/grp.c: New file.
	* libc/sys/win32/include/grp.h: New file.

Tue Sep  5 13:47:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Added whitespace to make this
	file easier to maintain.
	On the sh, define either __IEEE_BIG_ENDIAN or __IEEE_LITTLE_ENDIAN
	depending on the value of __LITTLE_ENDIAN__.
	On the sh3e, define _DOUBLE_IS_32BITS.
	
Fri Sep  1 15:35:18 1995  James G. Smith  <jsmith@beauty.cygnus.com>

	* libc/sys/vr4300/syscalls.c: Added missing support
 	routines. _raise() and getpid().

Fri Sep  1 14:12:48 1995  James G. Smith  <jsmith@rtl.cygnus.com>

	* configure.in (mips*vr4300*-*-elf): Fixed silly mistake

Fri Sep  1 08:42:11 1995  James G. Smith  <jsmith@beauty.cygnus.com>

	* configure.in (mips*vr4300*-idt-*) Add support for RISQ monitor
        and VR4300 processor.
	* libc/sys/vr4300: Add directory.
	* libc/sys/vr4300/{Makefile.in, crt0.S, syscalls.c}: Add SIM
 	monitor run-time support.

Thu Aug 31 09:16:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/Makefile.in (CHEWOUT_FILES): Removed atol.def.
	* libc/stdlib/stdlib.tex: Don't include atol.def.

Wed Aug 30 20:38:28 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/uname.c (uname): hardcode processor as `i386'.

Wed Aug 30 10:48:08 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/ctype/Makefile.in: Fill in _to* dependencies.

Tue Aug 29 17:14:29 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{dirsearch.c,sys/dirent.h}: Fix namespace problems.
	* libc/sys/win32/sys/dirent.h (struct dirent): Added d_ino.
	* libc/sys/win32/strace.c (__sys_printf): Increase size of buffer.
	* libc/sys/win32/smallprint.c (__small_vsprintf): Remove debug.
	* libc/sys/win32/dirsearch.c (readdir): Set d_ino.

Tue Aug 29 19:00:09 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/stdlib/atol.c (atol): DEFUN -> _DEFUN.

Tue Aug 29 16:08:09 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/Makefile.in (OFILES): Added atoff.o and atol.o.
	* libc/stdlib/atoff.c: New file.
	* libc/stdlib/atof.c (atoff): Moved to atoff.c.
	* libc/stdlib/atoi.c (atol): Removed.
	* libc/stdlib/atol.c: Removed duplicate documentation.

	* libc/include/ctype.h (_tolower, _toupper): Moved inside
	#ifndef _STRICT_ANSI conditional.
	* libc/ctype/Makefile.in (OFILES): Added _tolower.o and _toupper.o
	* libc/ctype/_tolower.c: New file.
	* libc/ctype/_toupper.c: New file.
	* libc/ctype/tolower.c (_tolower): Moved to _tolower.c.
	* libc/ctype/toupper.c (_toupper): Moved to _toupper.c.
	* libc/ctype/toascii.c (_toascii): Removed.

Tue Aug 29 12:17:32 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/sparc64/sys/types.h: Deleted.

Mon Aug 28 22:06:08 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/uname.c (uname): change `Windows/NT' to `Windows_NT'
	and recognize Windows_95 systems.

Mon Aug 28 19:50:54 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (vfork_init, hmap_init): standard I/O fds
	and passed fds should be opened in text mode.

Mon Aug 28 18:51:22 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (vfork_init): mark passed fds as used
	in __hmap, set to binary mode by default.

Tue Aug 22 14:12:37 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/sh/syscalls.c: Updated all functions to call __trap34.
	* libc/sys/sh/trap.S (__trap34): Renamed from __trap3.  Use trap
	vector 34.

Sat Aug 19 18:25:37 1995  steve chamberlain  <sac@slash.cygnus.com>

	* Makefile.in (install): Install all libraries found in the
	top level.  If there's a sys/<type>/include directory,
	install those headers into include.

	* libc/sys/win32/kernel.def351: Delete
	* libc/sys/win32/{comctl32.def, comdlg32.def, ctl3d32.def,
	glaux.def, glu32.def, largeint.def, libc.def, libcmt.def,
	lz32.def, mgmtapi.def, mpr.def, msacm32.def, msvcrt.def,
	nddeapi.def, netapi32.def, odbc32.def, odbccp32.def, oldnames.def,
	ole32.def, oleaut32.def, opengl32.def, rasapi32.def, rpcndr.def,
	rpcns4.def, rpcrt4.def, scrnsave.def, shell32.def, snmp.def,
	uuid.def, vdmdbg.def, version.def, vfw32.def, win32spl.def,
	winmm.def, winspool.def, winstrm.def, wsock32.def}: New.

	* libc/sys/win32/Makefile.in: Update for new files and new dlltool options.
	* libc/sys/win32/crt0.c: Force all env names to upper case.
	* libc/sys/win32/sys/win*.h -> libc/sys/win32/include
	* libc/sys/win32/*.c: Headers have moved.
	* libs/sys/win32/*.[ch]: Test for open_p rather than BAD_HANDLE,
	__vfork_child_idx is now __vfork_child_ptr.

	* posix/execvp (execvp): Don't crash if no PATH envname.

Fri Aug 18 12:22:59 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/sys/reent.h (_Bigint): Removed _reclaim field.
	* libc/reent/reent.c (_reclaim_reent): Free Bigint's by going
	through the _freelist instead of through the _reclaim list.
	* libc/stdlib/mprec.c (_Balloc): Don't put new node on _reclaim	list.
	* libc/stdlib/mprec.c (_Bcopy): Make like version in master dtoa.c
	sources.

Thu Aug 17 11:03:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/h8500/setjmp.S: New file.
	* libc/include/machine/setjmp.h: Updated for H8/500.

Wed Aug 16 16:19:11 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/syscalls.c (_open): More stracing.
	(_stat): Open the file in O_BINARY.

Wed Aug 16 15:49:01 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/h8300/setjmp.S: New file.
	* libc/include/machine/setjmp.h: Updated for H8/300 and H8/300H.

Tue Aug 15 10:31:09 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/crt0.c (__exe_suffix): New global.
	(mainCRTStartup): Set __exe_suffix from LIBC_EXE_SUFFIX.
	* libc/sys/win32/spawn.c (_spawn): Add .exe suffix based on
	__exe_suffix.  Free fd_tab after setting env variable.
	(spawnv,_execve): Update.
	* libc/sys/win32/syscalls.h (__exe_suffix): Declare.
	* libc/sys/win32/smallprint.c (puts,putn): New (static) functions.
	(__small_vfprintf): New function.
	* libc/sys/win32/strace.c (__sys_printf): Call __small_vfprintf.
	* libc/sys/win32/wait.c (cwait): Validate argument.

	* libc/sys/win32/syscalls.c (queue_file_deletion): Add trace message.
	(process_deletion_queue): Likewise.

	* libc/sys/win32/Makefile.in (lib.a): Don't call $(RANLIB).

Mon Aug 14 10:14:10 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32: Copyrights and gratuitous indenting.

Mon Aug 14 01:32:58 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/syscalls.c (queue_file_deletion): Finish.
	(process_deletion_queue): Likewise.
	(__close_all_files): New function.
	(_close): Only queue file deletion if really a file.
	* libc/sys/win32/spawn.c (_spawn): Only ensure .exe suffix if
	_P_APPEND_EXE.
	(_exit): Call __close_all_files.

	* libc/stdlib/system.c: #include <errno.h>.
	(_system_r): Fix results in -DNO_EXEC case.

	* libc/sys/win32/sys/dirent.h (DIR): New member __d_dirname.
	Reorganize structure.
	* libc/sys/win32/dirsearch.c (opendir): Use stat to determine
	if argument is valid.  Save directory name in DIR.  malloc space
	for dirent struct separately.
	* libc/sys/win32/syscalls.c (stat): Fix test for directory.

	* libc/include/errno.h (ENAMETOOLONG): Define.
	* libc/string/strerror.c (strerror): Reword ENFILE.
	Add ENOSYS, ENMFILE, ENOTEMPTY, ENAMETOOLONG.

Sun Aug 13 22:42:25 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/crt0.c (__progname): New global.
	(mainCRTStartup): Support strace=bitmask,filename.
	* libc/sys/win32/dirsearch.c (all fns): Add trace messages.
	* libc/sys/win32/syscalls.c (_write): Print parent trace message
	if error.
	(getcwd): Handle len too small.  Convert '\\' to '/'.
	* libc/sys/win32/sys/fcntl.h (O_RDWR): = O_RDONLY|O_WRONLY.
	Add prototypes for open, creat, fcntl.
	(O_APPEND): Change value to conform to Microsoft's value.
	* libc/sys/win32/sys/strace.h (_STRACE): Protect in do/while.

	* libc/stdlib/getopt.c: New file.
	* libc/stdlib/Makefile.in: Build it.

Sat Aug 12 12:17:14 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Watch for DOS drives ifdef _WIN32.
	Fix scanning of $PATH.
	* libc/posix/exec*.c: Call _execve, not execve.
	* libc/posix/execve.c: New file.
	* libc/posix/Makefile.in (OFILES): Add execve.o.

	* libc/sys/win32/sys/strace.h (_STRACE_ALL, _STRACE_UHOH,
	_STRACE_STARTUP, _STRACE_SYSCALL): More bit masks of things to trace.
	(_STRACE): If level==0, always print.  Handle new bit mask scheme.
	* libc/sys/win32/crt0.c: Update _STRACE calls.
	* libc/sys/win32/{pipe.c,resource.c,spawn.c,syscalls.c,wait.c}: Ditto.

	* libc/sys/win32/smallprint.c (rn): Fix digit list.

	* libc/sys/win32/syscalls.c (__really_exit): Move from here,
	* libc/sys/win32/exceptions.c (really_exit): to here. Avoid recursion.
	* libc/sys/win32/spawn.c (spawnvp): Pass `prog' as image name.
	Print __seterrno trace message first.
	(_execve): Renamed from execve.
	(vfork): Update __strace usage.
	(__vfork_child_pid): Deleted.
	(__vfork_children, __vfork_child_idx): New globals.
	(_spawnvp): New function.
	(spawnvp, spawnv, _execve): Call _spawnvp.
	(init_child): Record child in __vfork_children.
	(__vfork_get_entry, __vfork_record_death): New functions.
	* libc/sys/win32/crt0.c (mainCRTStartup): Initialize __vfork_children.
	* libc/sys/win32/kernel32.def (WaitForMultipleObjects): Define.
	* libc/sys/win32/syscalls.h (CHILD_P): New macro.  All files updated.
	(MAX_CHILDREN, CHILD_INTERIM_PID): Define.
	(children): New typedef.
	(__vfork_children,__vfork_child_idx): Declare.
	(__vfork_get_entry,__vfork_record_death): Declare.
	* libc/sys/win32/wait.c (wait_for_single,wait_for_any): New functions.
	(waitpid): Handle pid == -1.
	* libc/sys/win32/sys/wintypes.h (WaitForMultipleObjects): Declare.
	* configure.in (i386-win32): Add -DNO_FORK.
	* libc/syscalls/sysfork.c (fork): Don't define for NO_FORK.
	* libc/reent/execr.c (_fork_r): Likewise.
	* libc/stdlib/system.c (do_system): New function.
	If WIN32, try to get shell path from $SH_PATH, use vfork.
	(_system_r): Return 1 for (s == NULL) if WIN32 or unix,
	otherwise return 0.

Sat Aug 12 11:08:00 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/stdlib/{mallocr.c, mstats.c}: Move mstats from mallocr to mstats.c.
	* libc/sys/win32/fcntl.h: Don't include self.
	* libc/sys/win32/sys/strace.h (_STRACE_WM, _strace_wm): New.
	* libc/sys/win32/sys/winbase.h: (GetUserName) New.
	* libc/sys/win32/sys/wincon.h (HANDLER_ROUTINE): Define correctly.
	* libc/sys/win32/sys/wintypes.h (GetFileType, GetCurrentProcess, CloseHandle,
	SetFilePointer, CreateFileA, GetFileInformationByHandle, GetStdHandle):
	Correct prototypes.
	* libc/sys/win32/strace.c: New file.
	* libc/sys/win32/smallprint.c: New file.
	* libc/sys/win32/crt0.c (func): Delete.
	(mainCRTStartup): Fix alloca usage.  Set handles explictly.
	* libc/sys/win32/dirsearch.c: Clean up handle usage, fix calls to __seterrno.
	* libc/sys/win32/exceptions.c: Lint.
	* libc/sys/win32/{ioctl.c, pipe.c, resource.c, spawn.c, cwait.c, syscalls.c}:
	Clean up handle usage.
	* libc/sys/win32/syscalls.c (__sys_printf): Moved into strace.c
	(open.c): Default file type is text.
	* libc/sys/win32/uname.c (uname): Use __small_sprintf.
	* libc/sys/win32/advapi32.def: New	

Fri Aug 11 17:11:52 1995  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (posix_dir, libc_posix_lib): New variables.
	Define LIBC_POSIX_LIB in makefile to be $libc_posix_lib.
	(i[345]86-*-win32): Define posix_dir.
	Delete -DNO_EXEC.  Define -DHAVE_OPENDIR.
	(if unix_dir): Fix typo.
	* libc/posix/{Makefile.in,closedir,opendir,readdir,rewinddir,
	scandir,seekdir,telldir}: New files.
	* libc/posix/{execl.c,execle.c,execlp.c,execv.c,execvp.c}: Move here
	from libc/unix.
	* libc/Makefile.in (LIBC_POSIX_LIB): Define.
	(SUBDIRS): Add posix.
	(SUBLIBS): Add $(LIBC_POSIX_LIB).

	* libc/include/sys/signal.h (SIGCHLD): Add for _WIN32.
	(NSIG): Increase to 21.
	* libc/include/sys/unistd.h (pid_t): Move from here,
	* libc/include/sys/types.h (pid_t): to here.

	* libc/sys/win32/syscalls.h: #include "sys/strace.h".
	(__ptrace): Delete.
	(hinfo): New members close_exec_p, child_created_p.
	(struct exception_list): Define.
	(__hmap): Redefine as pointer to table.
	(__parent_hmap, __child_hmap): New globals.
	(__set_errno, __really_exit): Declare.
	(__vfork_child_pid): Declare.
	* libc/sys/win32/crt0.c (__strace, __trace_file): New global.
	(__orig_stdin, __orig_stdout, __orig_stderr): New globals.
	(__parent_hmap, __child_hmap): New globals.
	(__hmap): Redefine as pointer to active map.
	(__get_console): New function.
	(mainCRTStartup): Change leading '=' in environ vars to '!'.
	(env __FD_TABLE__): Watch for this and initialize our fd/handle
	mapping table from it if defined.
	(argv, envp): Dump if __strace >= 4.
	(main): Call here.
	* libc/sys/win32/exceptions.c (myp): Redefine.
	(__syscalls_b): Delete.
	(__stack_trace): New function.
	(ehandler3): Update to use _STRACE.  Print stack trace.
	Call __really_exit instead of exit.
	(init_exceptions): Delete args argc,argv.  New arg mine.
	* libc/sys/win32/kernel32.def (CreatePipe, DuplicateHandle, FindClose,
	FindFirstFileA, FindNextFileA, GetComputerNameA,
	GetEnvironmentVariableA, ReadFile, SetEnvironmentVariableA): Define.
	* libc/sys/win32/signal.c (signal): Validate arg.
	(alarm, sleep): Define as stubs for now.
	* libc/sys/win32/syscalls.c (all fns): Update to use _STRACE.
	(__syscalls_b, errno): Delete.
	(__vfork_child_pid, __vfork_jmp_buf): New globals.
	(__seterrno): Handle more errors.
	(__sys_printf): Renamed from _ptrace.
	(__really_exit): New function.
	(queue_file_deletion, process_deletion_queue): New functions.
	(__resume_parent): New function.
	(_unlink): Handle trying to delete open file.
	(__totime_t): Renamed from totime_t.
	(setsid, __read, __write): New functions.
	(cwait, spawnvp, R, D, getrusage, _execve, _fork, _wait): Delete.
	* libc/sys/win32/{dirsearch.c,getlogin.c,misc.c,resource.c,passwd.c,
	times.c,spawn.c,pipe.c,wait.c,termios.c,ioctl.c,uname.c}: New files.
	* libc/sys/win32/console.c: Update to new definition of __hmap.
	* libc/sys/win32/Makefile.in: Build new files.
	* libc/sys/win32/sys/{dirent.h,winerror.h,wait.h,termios.h}: New files.
	* libc/sys/win32/sys/{ioctl.h,utsname.h}: New files.
	* libc/sys/win32/sys/strace.h: Renamed from ptrace.h.
	* libc/sys/win32/sys/wintypes.h (GetCurrentDirectoryA): Fix prototype.

Thu Aug 10 16:32:52 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/h8500hms/misc.c (kill): Handle SIGABRT.

Thu Aug 10 12:07:38 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/{dtoa.c, strtod.c}: Merged assorted changes that
	have been made to the master dtoa.c sources (from netlib.att.com)
	since they were integrated into newlib in early 1992.  Fixes
	problems with storage leaks and handling of numbers with very
	negative exponents.
	
Wed Aug  9 14:18:39 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* Makefile.in (all): set rootpre and srcrootpre before calling
	sub-makes.

Tue Aug  8 17:20:45 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c: Change __hmap usage.
	* libc/sys/win32/exceptions.c: Use _ptrace call.
	* libc/sys/win32/syscalls.c: Use _ptrace call.
	(read, write): Cope with DOS style CRLF when in TEXT mode.
	* libc/sys/win32/syscalls.h: Declare hinfo struct.
	* libc/sys/win32/user32.def: Get DefWindowProc arg list right.
	* libc/sys/win32/sys/fcntl.h, ptrace.h: New.
	* libc/sys/win32/sys/windows.h: Fill in rest of messages.
	* libc/sys/win32/sys/wintypes.h: Fix attribute syntax.

Mon Aug  7 13:04:54 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/math.h (cabs, cabsf, drem, dremf): New declarations.

	* libm/math/{w_cabs.c, wf_cabs.c, w_drem.c, wf_drem.c}: New files,
	wrappers for hypot() and remainder() for BSD libm compatibility.
	These are public domain implementations written by me for the
	NetBSD libm some time ago.  Note cabs() is required by ucbtest.
	* libm/math/Makefile.in (obj): Added w_cabs.o and w_drem.o.
	(fobj): Added wf_cabs.o and wf_drem.o.

Thu Aug  3 08:13:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/h8500hms/misc.c: New file.
	* libc/sys/h8500hms/Makefile.in (OFILES): Add misc.o.

Wed Aug  2 16:46:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/time/localtime.c (localtime): Fix problem with leap year
	handling.  Stole algorithm from Arthur David Olson's tz code.
	
Mon Jul 31 10:21:54 1995  steve chamberlain  <sac@slash.cygnus.com>

	* configure.in: (z8k-*sim): Renamed z8k-*-coff.

	* libc/sys/z8ksim/glue.c (_getpid, _kill): New
	(_exit): Use argument.

Fri Jul 28 15:17:04 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/sys/winbase.h (_WINBASE_H): Define.

Wed Jul 26 16:24:19 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/sh/trap.S (perrno): Align correctly. (pr 7532)

Mon Jul 24 13:42:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (sparc*): Add -DMALLOC_ALIGNMENT=8 to
	target_cflags.

Mon Jul 24 11:42:07 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (mainCRTStartup):  Look for
	ptrace with case insensitivity
	* libc/sys/win32/{user32.def, gdi32.def, exceptions.c, screen.c,
	sys/winbase.h, 	sys/windows.h, sys/wintypes.h, sys/winuser.h}:
	New files.

Fri Jul 21 11:22:26 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in: Multilib support moved to ../cfg-ml-{com,pos}.in.
	(MULTITOP, MULTIDIRS, MULTISUBDIR, MULTIDO, MULTICLEAN): New variables.
	(all, install, *clean): Use new multilib support.
	* configure.in: Multilib support moved to ../cfg-ml-{com,pos}.in.

Fri Jul 21 07:11:42 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/signal.h (__WIN32__): New.

	* configure.in (i386-*-win32): Remobe SBRK_IS_ALLOC.

	* libc/stdlib/mprec.c (Balloc): Fix trampling problem.
	(ulp, b2d): Handle 32 bit doubles.
	* libc/stdlib/mprec.h:  Handle 32 bit doubles.
	* libc/stdlib/strtod.c (_strtod_r): Ditto.

Fri Jul 14 08:24:58 1995  steve chamberlain  <sac@slash.cygnus.com>

	from medp@primag.co.uk:
	* libc/stdio/setvbuf.c (setvbuf): Fix line buffering on
	dynamically allocated buffers.

Thu Jul 20 10:11:03 1995  Fred Fish  <fnf@fishbowl>

	* libc/include/sys/unistd.h (_exit):  Add _ATTRIBUTE ((noreturn)).
	* libc/stdlib/exit.c (unistd.h):  Include to pick up _exit() declaration.

Thu Jul 20 10:16:25 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc): Fix previous fix.

Wed Jul 19 14:08:55 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc-*eabiaix*): Update PowerPC multilib
	directories for this target.

Wed Jul 19 00:34:30 1995  Jeffrey A. Law  <law@rtl.cygnus.com>

	* configure.in (hppa): Add machine_dir definition.
	* libc/machine/hppa: New directory with PA specific implementations
	of the basic memory/string functions.

Tue Jul 18 21:16:00 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in: Update current PowerPC multilib directories.
	Split big and little endian configurations.

Tue Jul 18 11:55:33 1995  Ian Lance Taylor  <ian@cygnus.com>

	* configure.in: Add --enable-single-float option to configure to
	control use of MIPS single-float directories.  Default to yes.

	* Makefile.in (all): Don't recurse into multilib directory if it
	does not exist.

Mon Jul 17 15:51:30 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/sh/syscalls.c: Fix typo.

Mon Jul  3 14:38:52 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* Makefile.in, libc/Makefile.in, libc/sys/Makefile.in:
	Pass down DLLTOOL.
	* libc/include/process.h: Define WAIT_CHILD.
	* libc/include/types.h: Get sizes right for win32.
	* configure.in (i386-*-pe): Becomes i386-win32.
	* libc/sys/win32/{crt0.c, kernel32.def, longjmp.c, setjmp.c, syscalls.c
	wintypes.h,sys/file.h,sys/resource.h}: Second pass.
	* libc/stdlib/mallocr.c: Don't round up memory block if SBRK_IS_ALLOC
	is defined.

Wed Jun 28 18:34:54 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in (i[345]86-*-pe):  New target (NT).
	* host/any: DLLTOOL new.
	* libc/sys/win32/{crt0.c, kernel32.def, longjmp.c, setjmp.c, syscalls.c
	wintypes.h,sys/file.h,sys/resource.h}: Preliminary support for
	WIN32 (just enough to cross host the comp-tools).

Thu Jun 22 11:45:18 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/h8300/{cmpsi.S,ucmpsi.S,divhi3.S,mulhi3.S,mulsi3.S}:
	Deleted.  These files live in gcc/config/h8300/lib1funcs.asm now.

Mon Jun 19 11:40:40 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/machine/ieeefp.h (arm): Change to always be
	__IEEE_BIG_ENDIAN (even on little endian ARM's).

Thu Jun  8 14:22:28 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/sys/crt0.S: Initialze sp, and call exit after main.
	* libc/sys/syscalls.c (abort): New.
	* configure.in (arm): Define ABORT_PROVIDED.

Wed Jun  7 14:04:35 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (powerpc): Define multidirs.

Mon Jun  5 16:10:13 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Add __USER_LABEL_PREFIX__ support.

Thu Jun  1 10:51:47 1995  Sean Eric Fagan <sef@cygnus.com>

	* configure.in (sparclite): Delete target_cflags.  Define multidirs.

Wed May 24 14:23:25 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in, libc/include/machine/ieeefp.h: Modified
	for arm:
	libc/machine/arm/*, libc/sys/arm/*: New

Tue May 23 13:53:07 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Use __PPC__ instead of
	  __powerpc__ when determining endianness.

Wed May 10 07:55:56 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (m68*): Add multidir for the m68332.

	* host/any (CC): Fix typo in last change.

Fri Apr 14 22:20:31 1995  Ken Raeburn  <raeburn@cujo.cygnus.com>

	* libc/include/sys/config.h: Test __m68k__ instead of __m68000__
	when determining endianness.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/machine/m68k/setjmp.S: Use '&' instead of '#' for immediate
	operands.

Fri Apr 14 14:14:29 1995  Doug Evans  <dje@chestnut.cygnus.com>

	* libc/include/errno.h (ENOTEMPTY): Define.

Thu Apr  6 12:21:20 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (sparc-sun-sunos*): Add -DMALLOC_ALIGNMENT=8 to
	  target_cflags.

	* libc/sys/sun4/Makefile.in (COPYOFILES): Added rem.o, multiply.o,
	  and umultiply.o.

	* libc/stdio/tmpnam.c (worker): Unconditionally increment count
	  instead of only when open succeeds.  ANSI requires that multiple
	  calls to tmpnam() result in different files.

	* libc/sys/sun4/Makefile.in (COPYRENAMEOFILES): New macro, list of
	  objects pulled in from /lib/libc.a that must be renamed before
	  being pulled into newlib.  /lib/libc.a's div.o conflicted with
	  newlib's file with the same name.

	* libc/stdlib/ldiv.c (ldiv): Call labs() instead of abs().

	* host/any (CC, AS, AR, RANLIB): Changed so that executables in
	  the build tree will only be used if the executables are present
	  (instead of just the Makefiles).

	* libc/include/stdlib.h (mblen, mbtowc, wctomb, mbstowcs,
	  wcstombs): Define.
	* libc/stdlib/{mblen.c, mbstowcs.c, wcstombs.c}: New files, null
	  versions of these functions that I orignally wrote for the
	  NetBSD C library.
	* libc/stdlib/{mbtowc.c, wctomb.c}: Replaced functions with
	  versions I wrote for NetBSD.

Wed Mar 29 12:42:42 1995  Kung Hsu  <kung@mexican.cygnus.com>

	* libc/sys/sparclite/Makefile.in: add crt0.s and make info.
	* libc/sys/sparclite/crt0.s: ditto.

Tue Mar 28 20:28:03 1995  Rob Savoye  <rob@rtl.cygnus.com>

	* configure.in: Add soft-float for proelf.

Mon Mar 27 12:07:56 1995  Steve Chamberlain  <sac@bang.hack.com>

	* libc/stdlib/mprec.h (Bcopy): Copy the right number
	of bytes.

Mon Mar 27 11:24:22 1995  Doug Evans  <dje@chestnut.cygnus.com>

	* Makefile.in (all): Depend on `force'.
	* configure.in (syscall_dir): Renamed from fake_sys_dir.
	(libc_syscall_lib): Renamed from libc_fake_sys_lib.
	(LIBC_SYSCALL_LIB): Renamed from LIBC_FAKE_SYS_LIB.
	* libc/Makefile.in: Likewise.
	* libc/include/reent.h: Update syscall references.
	(_fcntl_r): Add prototype.
	* libc/syscalls/*.c #include <reent.h>.
	(*) Call reentrant version if REENTRANT_SYSCALLS_PROVIDED.

Mon Mar 20 16:57:39 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/include/sys/stat-dj.h (S_ISBLK): Define.
	(S_ISCHR, S_ISDIR, S_ISFIFO, S_ISREG): Define.
	* libc/include/sys/stat.h (stat-dj.h): Include ifdef MSDOS.
	(time.h, sys/types.h): Always include (even if MSDOS).
	(stat): Fix prototype.

Fri Mar 10 11:30:38 1995  Ian Lance Taylor  <ian@cygnus.com>

	* configure.in (i[345]86-*-go32): Compile with -DNO_EXEC.

Mon Feb 27 18:00:39 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/machine/h8500/psi.S (EXTPSIHI_RN_SN): Ifdef out.

Mon Feb 13 16:10:03 1995  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/regdef.h: New file.
	* libc/machine/mips/machine/regdef.h: New file.

Mon Feb  6 15:24:29 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/sparc64/sys/fcntl.h (open): Add ellipsis.

Fri Jan 27 13:52:10 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/sh/crt0.S: Pass main's return to exit.
	* libc/sys/sh/trap.S: Put errno in the right place.

Tue Jan 24 18:57:56 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libm/math/e_rem_pio2.c (__ieee754_rem_pio2): Integrate change
	from fdlibm 5.2: handle |x| < 3pi/4 more efficiently.
	* libm/math/ef_rem_pio2.c: Likewise.
	* libm/math/e_log10.c: Remove unused static one.
	* libm/math/ef_log10.c: Likewise.
	* libm/math/s_frexp.c: Likewise.
	* libm/math/sf_frexp.c: Likewise.

Sun Jan 22 21:26:14 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/go32/Makefile.in, clock.S, dir.c, setjmp.S, stat.c,
	longjmp.S: Upgraded.
	* libc/sys/go32/sys/setjmp.h: Upgraded.
	* libc/sys/go32/sys/go32.h, dpmi.h: New files.

Fri Jan 20 18:33:18 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* configure.in: Add many entries to multidirs for mips targets.

Wed Jan 18 10:19:25 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libm/math/e_jn.c (__ieee754_yn): Integrate change from fdlibm
	  5.2 which fixes bug where jn(-1,x) is three times larger than
	  the actual answer.
	* libm/math/ef_jn.c (__ieee754_ynf): Likewise.

Sun Jan 15 21:48:58 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/w65/sys/syscalls.h: New file
	* libc/include/machine/ieeefp.h: W65 support.
	* libc/include/sys/config.h: Ditto.
	* libc/machine/w65/Makefile.in, cmpsi, divsi3, lshrhi.s, mulsi3.c,
	sdivhi3.s, smulhi3.s, udivhi3.s, umodhi3.s: New files.
	* libc/sys/w65/Makefile.in, crt0.c, syscalls.c, trap.c: New files.

Wed Jan 11 15:59:01 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libc/sys/Makefile.in (lib.a, crt0.o): Depend upon subs.

Tue Jan  3 15:57:03 1995  Rob Savoye  <rob@darkstar.cygnus.com>

	* Makefile.in, configure.in: Remove any references to the old
	"stub" dir.

Thu Dec 22 10:42:08 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libc/syscalls/sysopen.c: Write _HAVE_STDC version of open, which
	uses ... in prototype.


Wed Nov 30 08:39:42 1994  Ian Lance Taylor  <ian@rtl.cygnus.com>

	* libc/sys/a29khif/sys/libconfig.h: Remove.
	* libc/sys/go32/sys/libconfig.h: Remove.
	* libc/sys/sun4/sys/libconfig.h: Remove.
	* libc/sys/sysvi386/sys/libconfig.h: Remove.
	* libc/sys/sysvnecv70/sys/libconfig.h: Remove.
	* libc/sys/sparc64/sys/libconfig.h: Remove.

	* libc/include/_ansi.h (_FLOAT_ARG, _FLOAT_RET): Don't define.
	* libc/include/sys/config.h (_FLOAT_ARG, _FLOAT_RET): Likewise.
	* libc/include/math.h: Change all uses of _FLOAT_RET and
	_FLOAT_ARG to float.
	* libm/test/math.c: Likewise.
	* testsuite/libm.sac/math.c: Likewise.
	* testsuite/libm.sac/working/math.c: Likewise.

Wed Nov 23 22:39:28 1994  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/sys/sh/trap.s,crt0.s,setjmp.s: Renamed with .S so that
	gcc calls gas with endian option.
	* configure.in (sh): Build little endian version too.

Wed Nov 16 18:21:45 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* configure.in: Configure big and little endian versions for MIPS
	targets.

Sat Nov 12 21:12:51 1994  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/limits.h: Deleted.
	* libc/include/machine/limits.h: Deleted.

Thu Nov 10 15:32:44 1994  Rob Savoye  <rob@rtl.cygnus.com>

	* ChangeLog: Remove stub directory. This has all been rewritten
	and moved to devo/libgloss.

Thu Sep 29 18:31:04 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* Makefile.in (dvi): Add to info target, use $@ in sub make.
	(docs): Merge into info target.
	* libm/Makefile.in (dvi): Add $(srcdir).
	* libm/math/Makefile.in (chobjs): Remove underscores from file
	names.  Texinfo doesn't like them.
	(wacos.def, ...): Add explicit targets for all .def files.
	* libm/math/math.tex: Remove underscores from @include file names.
	* doc/Makefile.in (dvi): Add dummy target.
	* testsuite/Makefile.in (dvi): Add dummy target.

Mon Sep 26 21:17:46 1994  Doug Evans  (dje@canuck.cygnus.com)

	* Makefile.in (VERSION): Define.  For net newlib releases.

Thu Sep 22 19:01:26 1994  Doug Evans  (dje@canuck.cygnus.com)

	* README: New file.

Mon Sep 19 16:35:23 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): Undo last change.

Mon Sep 19 11:44:23 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/stdlib/setenv.c (_findenv): Declare.

	* libc/include/sys/fcntl.h: Fix declarations of open, creat, and
	fcntl to not use _EXFUN, and change string parameters to open and
	creat to be ``const char *''.
	* libc/sys/sparc64/sys/fcntl.h: Likewise.
	* libc/sys/sparc64/creat.c (creat): Make PATH const.
	* libc/syscalls/sysopen.c: Include <fcntl.h>.
	(open) Make _FILE const.
	* libc/sys/z8ksim/glue.c (_open): Make BUF const.
	(_creat): Make PATH const.
	* libc/sys/h8300hms/syscalls.c (_open): Make PATH const.
	* libc/sys/h8500hms/syscalls.c (_open): Likewise.
	* libc/sys/m88kbug/syscalls.c (open): Likewise.
	* libc/sys/sh/syscalls.c (_open): Likewise.
	* stub/shared/glue.c (open): Make BUF const.
	* stub/ex93x/syscalls.c (open): Make FILENAME const.

Thu Sep  8 16:39:12 1994  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/include/errno.h: Add ENMFILE
	* libc/include/sys/config.h: Support Z8000.
	* libc/include/sys/signal.h: New signals for go32.
	* libc/machine/h8500/psi.S (__addpsir0r0): New function
	* libc/machine/h8500/cmpsi.S (__ucmppsi2): New function
	* libc/machine/sh/sdivsi3.s (__sdivsi3): Rewritten.
	* libc/stdlib/mallocr.c (_morecore_r): Minimum chunk
	size is variable, depending upon CHUNK_POWER.
	* libc/sys/go32/*.c: Upgrade to new go32 stuff.

Sun Sep  4 17:42:43 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): Output '-' for negative numbers.

Fri Sep  2 10:56:01 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/_ansi.h (_PARAMS): Don't define if already defined.

Wed Aug 24 11:11:03 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* configure.in: Change i[34]86 to i[345]86.

	* libc/include/math.h: Don't define HUGE_VAL if it is already
	defined.

Wed Aug 17 15:18:02 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* testsuite/libm.sac/test_erfc.c: Correct some result values.
	* testsuite/libm.sac/test_gammaf.c: Likewise.
	* testsuite/libm.sac/test_sin.c: Likewise.
	* testsuite/libm.sac/test_tanh.c: Likewise.

Tue Aug 16 16:12:53 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/machine/ieeefp.h: Don't try set endianness if it is
	already set.  Define typedefs __int32_t and __uint32_t.
	* libc/include/math.h: Include <machine/ieeefp.h>.
	(union __dmath): Use __uint32_t.
	* libm/math/fdlibm.h, libm/math/*.c: Use __int32_t and __uint32_t
	instead of int and unsigned int.

Thu Aug 11 15:16:09 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	Replace the math library with the SunPRO fdlibm package.
	* libm/math: Completely changed all files.
	* libm/ieeefp: Remove contents and directory.
	* libm/Makefile.in (LIBM_FP_LIB): Remove.
	(SUBDIRS): Just set to math/lib.a.
	* libm/libm.texinfo: Updated for new library.
	* libc/include/math.h: Extensive changes for new math library.
	* libc/include/ieeefp.h (isnanf, isinff, finitef): Change argument
	from _FLOAT_ARG to float.
	(maxpowtwo, maxpowtwof): Don't declare.
	* configure.in (fp_dir): Removed; was always ieeefp anyhow.
	(libm_fp_lib): Removed.
	* Makefile.in (MATHOBJS_IN_LIBC): Updated with new file names.
	* testsuite/libm.paranoia/Makefile.in (check): Correct --srcdir
	argument to ${RUNTEST}.
	* testsuite/libm.sac/Makefile.in (LOCAL_CFLAGS): Define.
	(.c.o): New rule.
	(RUNTESTFLAGS): Set CC and CFLAGS.
	(TESTS): Remove test_log2 and test_log2f.
	(${TESTS}): Pass ${LOCAL_CFLAGS}, not ${CFLAGS}.
	* testsuite/libm.sac/math.c (run_vector_1): Use float, not
	_FLOAT_ARG, for single precision argument type.
	* testsuite/libm.sac/sac.exp: Treat an error in bit 63 as an
	expected failure.  Close the input pipe.
	* testsuite/libm.sac/test.c (test_sok, test_iok, test_scok):
	Correct misspelling of inaccurate.
	(test_mok): Use ``inaccurate'', not ``wrong''.
	* testsuite/libm.sac/{test_acos.c, test_acosh.c, test_asin.c,
	test_asinh.c, test_atan.c, test_atanh.c, test_ceil.c,
	test_ceilf.c, test_cos.c, test_cosh.c, test_erf.c, test_erf.c,
	test_fabs.c, test_floor.c, test_floorf.c, test_fmod.c,
	test_fmodf.c, test_gamma.c, test_log1p.c, test_log1pf.c,
	test_yn.c): Correct many result values.  Many are still wrong.

	* libc/stdlib/ecvtbuf.c (print_e): If _dtoa_r sets decpt to 9999,
	just copy the string.
	(_gcvt): Always return the buffer.

Tue Aug  9 13:43:23 1994  J.T. Conklin  (jtc@phishhead.cygnus.com)

	* bcopy.c: fixed documentation, bcopy was not specified by ANSI.

Wed Aug  3 05:39:41 1994  D. V. Henkel-Wallace  (gumby@cygnus.com)

	* libc/include/sys/reent.h: (struct _Bigint): add _reclaim
	structure.
	(struct _reent): add _p5s, _cvtlen, _cvtbuf.
	(_reclaim_reent): declare new entry point.
	* libc/reent/reent.c (cleanup_glue, _reclaim_reent): new
	functions.

	* libc/stdlib/mprec.c (Balloc): Keep track of every struct bigint
	ever allocated, so that we can later reclaim them all.
	(pow5mult): make reentrant.

	* libc/stdlib/ecvtbuf.c (fcvtbuf, ecvtbuf): extend these functions
	so that when given NULL as a buffer, return a pointer to static
	space in the rent structure.  This is not documented behaviour;
	it's only to support ecvt and fcvt, which aren't ANSI anyway.
	* libc/stdlib/efgcvt.c (fcvt, ecvt) Use new functionality (and
	therefore become reentrant).
	
	* libc/stdlib/dtoastub.c: remove spurious inclusion of mprec.h.

Mon Aug  1 16:52:24 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/machine/ieeefp.h: Check _AM29K, not ___AM29K__.

Thu Jul 28 15:40:21 1994  J.T. Conklin  (jtc@phishhead.cygnus.com)

	* Makefile.in: Make link to libg.a after libc.a; this is needed
	  for the testsuites to build executables when everything comes
	  from the tree.

Mon Jun 27 17:14:29 1994  Bill Cox  (bill@rtl.cygnus.com)

	* libc/Makefile.in: Add a VERSION variable so we can keep track.
	* libm/Makefile.in: Add a VERSION variable so we can keep track.

Wed Jun 22 10:26:00 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/stdio.h: Use __VALIST, not va_list.

Tue May 17 15:43:28 1994  Bill Cox  (bill@rtl.cygnus.com)

	* testsuite/config/unix-libm.exp, testsuite/lib/libm.exp,
	testsuite/libm.sac/execute.exp:
	  Replace error proc calls with perror calls.

Wed May 11 09:25:28 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/*.h: #include "_ansi.h" instead of <_ansi.h>.
	* libc/include/time.h: #define NULL as 0L.

Mon May  9 18:41:20 1994  Doug Evans  (dje@canuck.cygnus.com)

	* host/any (INCLUDES): Delete -I of gcc/include, gcc -B takes
	care of it.

Mon May  9 18:39:39 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* libc/include/sys/signal.h: Check for __GO32__, not __i386__ and
	not __unix__.

Sat May  7 17:07:36 1994  Steve Chamberlain  (sac@cygnus.com)

	* configure.in (TARGET_CFLAGS): Set -O2 as default.
	(z8k-*-*): Use syscalls fake sys dir.
	* libc/sys/z8k/glue.c: Rename syscalls.
	* libc/sys/go32/Makefile.in: Use new routines.
	* libc/machine/Makefile.in: Fix typo in ln stuff.

Thu May  5 13:47:48 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* Makefile.in (libm.a, crt0.o): Use cp if ln fails.
	* libc/Makefile.in (crt0.o): Likewise.
	* libc/machine/Makefile.in (lib.a): Likewise.
	* libc/sys/Makefile.in (lib.a, crt0.o): Likewise.

	All Makefile.in files: Added mostlyclean, realclean and distclean
	targets.

	* Makefile.in: Don't bother to unexport XTRAFLAGS or
	XTRAFLAGS_FOR_TARGET, since they are no longer passed down from
	the top level Makefile.

Tue Apr 26 15:10:34 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/stat.h: New file.
	* libc/sys/sparc64/sys/time.h: New file.
	* libc/sys/sparc64/sys/types.h: New file.

Fri Apr 22 12:58:24 1994  Stan Shebs  (shebs@andros.cygnus.com)

	* stub/ex93x/crt0.s (start): Add code to clear bss.

Wed Apr 13 10:34:58 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/types.h (time_t): Properly protect inside
	#ifndef __time_t_defined.

	* libc/stdio/fileno.c: New file.
	* libc/stdio/Makefile.in (OFILES, CHEWOUT_FILES): Add fileno.
	(fileno.o): Add dependency.
	* libc/include/stdio.h (__sgetc): Rename never to _never.
	(fileno macro): Disable, needs to do CHECK_INIT first.

Mon Apr 11 17:37:09 1994  Bill Cox  (bill@rtl.cygnus.com)

	* testsuite/Makefile.in (EXPECT, RUNTEST): Set these for the check
        goal.

	* testsuite/Makefile.in (check): Set TCL_LIBRARY for runtest.
	* testsuite/libm.paranoia/Makefile.in (check): Set TCL_LIBRARY for
	runtest.
	* testsuite/libm.sac/Makefile.in (check): Set TCL_LIBRARY for
	runtest.

Sat Apr  9 16:18:09 1994  Doug Evans  (dje@cygnus.com)

	* libc/sys/sparc64/sys/fcntl.h: New file, define solaris versions
	of the various constants.

Thu Apr  7 21:19:07 1994  Mark Eichin  (eichin@cygnus.com)

	* libc/include/math.h: #ifndef __math_68881 around things which
	conflict with the (gcc-provided) inline functions in
	gcc/ginclude/math-68881.h.

Thu Apr  7 02:50:43 1994  Doug Evans  (dje@cygnus.com)

	* libc/include/_syslist.h (_gettimeofday): Define.
	(_times): Ditto.
	* libc/include/reent.h: #include <machine/types.h> to get _CLOCK_T_.
	(struct tms, timeval, timezone): Declare.
	(_gettimeofday_r, _times_r): Declare.
	* libc/include/time.h (_CLOCK_T_): Don't #undef.  Remove
	#ifdef _CLOCK_T_ surrounding definition of clock_t.
	(time_t): Add multiple definition protection, __time_t_defined.
	* libc/include/sys/time.h: Don't #include <time.h>.
	Always define struct timezone (remove #ifndef _TIME_H_).
	* libc/include/sys/times.h (_CLOCK_T_): Don't #undef.  Remove
	#ifdef _CLOCK_T_ surrounding definition of clock_t.
	* libc/reent/Makefile.in (OFILES): Add timer.o.
	(CHEWOUT_FILES): Add timer.def.  Add timer.o/timer.c dependence.
	* libc/reent/timer.c: New file.
	* libc/time/clock.c: #include <reent.h>.
	(clock): Call _times_r instead of times.
	* libc/time/time.c (HAVE_GETTIMEOFDAY): Renamed from
	HAVE_GET_TIME_OF_DAY.
	Add comment regarding supporting OS routine(s) required (for docs).
	#include <reent.h>.
	(time): Call _gettimeofday_r instead of gettimeofday.
	* libc/time/asctime.c: Fix comment regarding supporting OS routines.
	* libc/time/ctime.c: Ditto.
	* libc/time/strftime.c: Ditto.
	* libc/sys/sparc64/Makefile.in (TEMPLATE_SFILES): Remove gettimeofday.
	(TEMPLATE_SFILES_R): Define here.  Also define times.
	Add times_r.o/times.S dependence.
	(time2.c, junk.c): Deleted.
	* libc/sys/sparc64/time2.c: Deleted.
	* configure.in (sparc64-*-*): Define HAVE_GETTIMEOFDAY.

	* libc/stdio/mktemp.c (_getpid_r): Renamed from _getpid.
	* libc/stdio/tmpnam.c (_getpid_r): Ditto.
	* libc/sys/sparc64/junk.c: Deleted.

Mon Mar 21 16:51:03 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/Makefile.in: Add times syscall.
	* libc/sys/sparc64/crt0.S: Handle stack bias at run time so we can
	be used with and without it.  Add comment clarifying Medium/Anywhere
	model requirements.
	* libc/sys/sparc64/sigsetjmp.S (setjmp, longjmp): Add svr4 support.
	* libc/sys/sparc64/sys/syscall.h (SYS_times): Define for sunos4
	even if obsolete.

Sun Mar 20 15:51:47 1994  Doug Evans  (dje@cygnus.com)

	* configure.in (target_cflags): Move init.
	(sparc64-*-*): Define HAVE_BLKSIZE.

Wed Mar  9 10:44:52 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/_types.h: New file.
	* libc/include/reent.h: #include it.
	Add comment describing REENTRANT_SYSCALLS_PROVIDED and
	MISSING_SYSCALL_NAMES.
	Sort syscalls.
	* libc/include/_syslist.h: Remove _raise.
	* libc/reent/signalr.c: New file.
	* libc/reent/Makefile.in: Compile it.
	* libc/signal/signal.c: Only use ifdef SIMULATED_SIGNALS.
	Add doc for raise and _raise_r.
	* libc/signal/raise.c: Only use ifndef SIMULATED_SIGNALS.
	(raise): Call _raise_r.
	(_raise_r): Call _getpid_r and _kill_r.
	* libc/stdlib/abort.c: Remove inclusion of stdio.h and _syslist.h.
	(abort): Loop forever calling raise and _exit.

Mon Mar  7 14:40:08 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Remove extraneous echo.

Thu Mar  3 12:14:22 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/dirent.h (MAXNAMLEN): #undef to avoid
	collision with unistd.h, and fix for svr4.

Wed Mar  2 13:55:25 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/local.h (_llicvt): Declare.
	(CVT_BUF_SIZE): Define (and buffer size from 512 to 128).
	* libc/stdio/cvt.c: Include "local.h" to get CVT_BUF_SIZE.
	(_llicvt): Define.
	(_sicvt): Fix function header (`value' is short).
	* libc/stdio/vfprintf.c (_vfprintf_r): Use CVT_BUF_SIZE.
	Add printing of long long's support.
	Add printing of 8 byte pointer support.

Fri Feb 11 21:52:11 1994  Steve Chamberlain  (sac@sphagnum.cygnus.com)

	* libc/sys/sh/syscalls.c (pipe, execv, wait, fork, utime, chown,
	stat, chmod): New hooks. 
	(sbrk): Abort if stack and heap collide.
	* libc/machine/sh/udivsi3, libc/machine/sh/sdivsi3 Modified to
	shortcut when given small args.
	* libc/machine/sh/setjmp.s: Rewritten.
	* libc/machine/sh/strcmp.s (strcmp): New function takes advantage
	of cmp/str instruction.

Wed Feb  9 15:12:35 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Accept powerpc* as a CPU type, using fp_dir ieeefp
	and machine_dir powerpc.
	* libc/include/machine/setjmp.h, libc/include/machine/ieeefp.h:
	Add cases for __powerpc__.
	* libc/machine/powerpc/Makefile.in, libc/machine/powerpc/setjmp.S:
	New files.

	* libc/include/stdio.h (_iprintf_r): Declare correctly.

Thu Jan 27 10:36:27 1994  Steve Chamberlain  (sac@cygnus.com)

	* libc/stdlib/callocr.c: New file with _calloc_r in it.
	* libc/stdlib/calloc.c (calloc_r): Now in callocr.c

Thu Jan 20 15:14:37 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/ecvtbuf.c (print_f): Remove local "done".
	(print_e): More comments to describe args, etc.
	"type" arg may now be 'g' or 'G' for %g/G format --> remove
	trailing blanks.
	(_gcvt): Remove locals decpt, sign, end, p, done.
	More comments for print_e invocation.
	Pass "type" to print_e as is (g/G).

Wed Jan 19 16:34:18 1994  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/shared/m68k-crt0.S: Changed so it compiles (and runs) on a
	stock m68000. 

Mon Jan 17 15:41:53 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/mallocr.c (_morecore_r): Fix aligning of pointer so it
	works with any sized pointer, including ones bigger than ints and
	longs.

Thu Jan  6 14:53:21 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{time2.c,utime.S,utime2.c}: New files.

Sat Dec 11 16:17:20 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/include/stdlib.h (_calloc_r): Add prototype.
	* libc/machine/h8500/negsi2.c: New file.
	* libc/machine/h8500/divsi3.c: Prevent overflow when dividing v
	large unsigned numbers.
	* libc/machine/h8500/cmpsi.c: Add cmppsi.
	* libc/stdlib/mallocr.c (morecore_r): Fix aligning pointers so it
	works when sizeof(size_t) != sizeof(char *).
	* libc/stdlib/mprec.c (Balloc): Call calloc rather than malloc to
	get play area
	* libc/stdlib/mprec.h: Define Just_16 if generating for z8000.

Mon Dec  6 15:59:53 1993  Doug Evans  (dje@rtl.cygnus.com)

	* libc/include/assert.h (assert): Handle -traditional.

Tue Nov 16 15:49:24 1993  Mark Eichin  (eichin@cygnus.com)

	* Makefile.in: added ; after every "fi" and "done" that wasn't at
	the end of a line (ie. anything before a backslash continuation)
	so that bash handles them.

Tue Nov 16 12:31:57 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)

	* libc/sys/go32/lstat.s: new file, copied from stat.s and renamed
        stat to lstat

Mon Nov 15 15:50:43 1993  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/sys/sh/crt0.s, libc/sys/sh/trap.s,
	libc/machine/sh/sdivsi3.s, libc/machine/sh/setjmp.s,
	libc/machine/sh/udivsi3.s: Use new calling convention.

Mon Nov 15 15:25:38 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/include/sys/unistd.h, libc/include/sys/stat.h: ANSI-fy
	chmod, access, chdir, chown by making _path const. Also fix _amode
	param of access.

Fri Nov 12 20:25:28 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/sys/a29khif/_tmpnam.s (_tmpnam): renamed function to
	_khif_tmpnam, because it doesn't comply with ANSI but may be
	useful anyway. Real tmpnam was already in libc/stdio, and was
	colliding with this one (pr 2176.) 
	* libc/sys/a29khif/stubs.s (tmpnam): removed tmpnam. This file is
	the wrong idea anyhow.

Mon Nov  8 07:50:16 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Remove h8300h, we have multilib now.

Fri Nov  5 12:37:27 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/string/strcasecmp.c, libc/string/strncasecmp.c: new
	functions, to get preference over the ones in libiberty (since we
	provide correct declarations in <string.h>.
	* libc/string/Makefile.in: add support for strncasecmp,
	strcasecmp.

Fri Nov  5 09:05:45 1993  D. V. Henkel-Wallace  (gumby@blues.cygnus.com)

	* Change netware config not to look for cpu explicitly.

Thu Nov  4 14:21:25 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{creat.c,junk.c}: New files.
	* libc/sys/sparc64/Makefile.in: Add dependencies.

Wed Nov  3 10:42:49 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Clean up v9 a bit, new "os" aoutv8.

Tue Nov  2 10:00:44 1993  D. V. Henkel-Wallace  (gumby@cygnus.com)

	* libc/include/sys/reent.h: make structure smaller by allocating
	some stuff when needed.
	* libc/signal/signal.c: allocate as needed
	* libc/stdio/findfp.c,stdio/local.h: ditto
	* libc/stdlib/mprec.c: ditto

	* libc/time/localtime.c: don't return a dangling stack ptr.

Wed Sep 29 20:42:34 1993  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/mvme135/crt0.S, stub/mvme135/glue.c: Moved to stub/generic.

Wed Sep 29 16:27:49 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/include/stdio.h (__sputc): comment out static inline which
	  confuses coff toolchains.

Thu Sep  2 16:31:36 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/sys/a29khif/{_close.s, _fstat.s, _lseek.s, _sbrk.s,
	_write.s, getpid.c, kill.c, read.s}:
	* libc/sys/a29khif/stubs.s: eliminated stubs that already go
	through the syscalls directory.

Fri Oct 29 13:59:58 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: fixed double quote gotcha.

Wed Oct 27 15:27:09 1993  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/ex931: stub library for sparclite board.
	* stub/idp: Renamed from mc68ec. Added contructor table
	stuff to linker script.
	* stub/mvme135: Renamed from m68kmvme. Added contructor table
	stuff to linker script.

Tue Oct 26 17:01:23 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: Configure testsuites only if they exist.

Tue Oct 26 12:37:11 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Don't set machine_dir for i386 until there is
	something in libc/machine/i386 to compile.  For i[34]86-*-netware*
	use sys/netware, don't use signal, define NO_EXEC, ABORT_PROVIDED,
	CLOCK_PROVIDED and MALLOC_PROVIDED.

	* libc/sys/netware: New directory.  Contains simplistic and
	probably incorrect stubs for NetWare.  Should be enough to load
	the library.
	* libc/sys/netware/crt0.c, libc/sys/netware/environ.c,
	libc/sys/netware/getpid.c, libc/sys/netware/link.c: New NetWare
	stub files.

	* libc/reent/execr.c: Don't use if NO_EXEC is defined.
	* libc/reent/sbrkr.c: Don't use if MALLOC_PROVIDED is defined.
	* libc/stdlib/abort.c: Don't use if ABORT_PROVIDED is defined.
	* libc/time/clock.c: Don't use if CLOCK_PROVIDED is defined.

Mon Oct 25 16:48:08 1993  Roland H. Pesch  (pesch@cygnus.com)

	* testsuite/Makefile.in: add "docs" dummy target for consistency
	with rest of newlib; turn "info" and "install-info" into dummy
	targets, since they wouldn't have worked.  (Depended on
	nonexistent "doc" subdir.)

Fri Oct 22 20:37:32 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)

	* configure.in: handle mips* instead of mips

Thu Oct 21 08:57:24 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/dirent.h: New file.  If it is not overridden by
	a version of libc/sys/*/sys/dirent.h, it includes the next
	<dirent.h> file in case there is one lurking somewhere.

Fri Oct 15 14:17:40 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* libc/stdlib/strtoul.c (_strtoul_r): Several changes for ANSI
	compliance, namely: Accept a minus sign.  Consider a single 0 with
	a radix of 0 as being a conversion.  Determine overflow correctly.
	If an overflow occurs, set *ptr to the end of the number, not the
	middle.
	* lib/stdlib/strtol.c (_strtol_r): Determine overflow correctly.

Thu Oct 14 21:49:52 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/h8300/divsi3.S (divmodsi4): Fix h8300h case.

Fri Oct  1 17:17:34 1993  Doug Evans  (dje@canuck.cygnus.com)

	* Makefile.in (INSTALL): Use $srcrootpre.
	(crt0.o): Replace $< with $(CRT0_DIR)/$(CRT0), Sun make
	can't handle it.
	* libc/Makefile.in (crt0.o): Spell out $<, Sun make can't handle
	it.
	* libc/sys/Makefile.in (crt0.o, lib.a): Ditto.
	* stub/Makefile.in (crt0.o, TARGETLIB): Ditto.
	* libc/sys/sparc64/Makefile.in (isatty.o): Sun VPATH lossage.
	* libm/math/Makefile.in (matherr.o): Ditto.

Thu Sep 30 11:09:17 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* configure.in: Build multidirs for z8k.
	* libc/include/stdlib.h (_strtoul_r): add prototype.
	* libc/include/machine/limits.h: Get INT_MIN right for all the z8k family.
	* libc/include/machine/setjmp.h: Add for z8k.
	* libc/machine/z8k/{mulsi.o, udivsi3.o, umodsi3.o, modsi3.o} obsolete.
	* libc/sys/z8ksim/glue.c: tidy up.

Mon Sep 20 14:04:46 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/unix/{execl.c execle.c execlp.c execv.c execvp.c}:
	New files.  Requires execve system call.
	* libc/unix/Makefile.in: Use them.
	* libc/sys/sparc64/{execl.c execle.c execlp.c execv.c execvp.c}:
	Deleted, moved to libc/unix.
	* libc/sys/sparc64/Makefile.in: Remove them.

Mon Sep 20 10:38:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{template.S template_r.S}: New files.
	* libc/sys/sparc64/Makefile.in: Build source for trivial syscalls
	from templates.
	* libc/sys/sparc64/{chdir.S chmod.S close.S dup.S fcntl.S
	fork.S fstat.S lseek.S link.S mkdir.S open.S pipe.S read.S rmdir.S
	umask.S unlink.S wait4.S write.S}: Removed, now built from
	templates.

Sun Sep 19 14:52:57 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/time/time.c: #include <_ansi.h>.

Sun Sep 19 13:43:25 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in (sparc64-*-*): Remove -D__SIZE_TYPE__.

Mon Sep 13 13:52:16 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: match m8* rather than m88k so that m88110 is
	  recognized as well.

Tue Sep  7 12:19:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/{Makefile.in, _exit.c, misc.c}:
	Renamed exit.c to _exit.c to avoid collision with stdlib/exit.c.
	misc.c: New file.

	* configure.in: Add multilib support to h8300.

Mon Sep  6 14:07:06 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/abort.c (abort): Remove _VOLATILE from return type.
	* libc/include/_ansi.h (_ATTRIBUTE): New macro for __attribute__.
	* libc/include/stdlib.h (exit, abort): Add noreturn attribute.

Mon Sep  6 14:24:18 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Corrected multidirs for sparc target.

Mon Aug 30 15:56:44 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	Support for building newlib multiple times with different
	compilation flags.
	* configure.in: Only configure doc at top level.  Set multidirs
	when appropriate for target, unless not at top level.  If
	multidirs is set, independently configure each subdirectory.
	Adjust TOP, MULTIDIRS and MULTISUBDIR appropriately in Makefile.
	* Makefile.in (MULTIDIRS, MULTISUBDIR): New variables,
	automagically set by configure.in.
	(all): If MULTIDIRS is set, build multiple copies of libraries.
	(install): If MULTIDIRS is set, install multiple copies of
	libraries.  Install in $(tooldir)/lib/$(MULTISUBDIR).  If
	MULTISUBDIR is set, don't bother to install header files.
	* host/any (INCLUDES, CHEW): Use $(SRCTOP) rather than $(TOP) from
	${srcrootpre}.
	* stub/configure.in: Set MULTISUBDIR appropriately.
	* stub/Makefile.in (install): Install in
	$(tooldir)/lib/$(MULTISUBDIR).
	* All Makefile.in files: Define SRCTOP as well as TOP.

Mon Aug 30 10:34:24 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/h8300/{mulhi3.S, divhi3.S}: Comment out if h8300h.
	* libc/machine/h8300/{mulsi3.S, divsi3.S}: Add h8300h support.

Thu Aug 26 19:38:12 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/exit.c (_exit): New function.

Wed Aug 25 16:31:48 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: recognize m88110.

Fri Aug 20 16:46:23 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/sys/m88kbug/crt0.c: pretty up, remove extraneous comments,
	  prototype main and call with args.

Fri Jul 30 16:52:47 1993  K. Richard Pixley  (rich@cygnus.com)

	First real try at system traps for m88k-bug.
	* libc/sys/m88kbug/syscalls.c: many changes.  Convert from stubs
	  to real trap calls.
	* libc/sys/m88kbug/sys/systraps.h: new file.

Tue Jul 27 16:31:16 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	Patches to fix info building when target does not use sys
	directory.
	* libc/Makefile.in (targetdep.tex): add sys.tex separately.
	* libc/sys.tex, libc/sys/sys.tex: moved from libc/sys/sys.tex to
	  libc/sys.tex.
	* libc/sys/Makefile.in (doc): do nothing.

Mon Jul 26 17:08:11 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/Makefile.in (CRT0): new macro.
	  (all): depend on $(CRT0) rather than crt0.o.

	* configure.in: fix libc_sys_dir -> libc_sys_lib thinko.
	  do not default crt0, instead, set crt0 and crt0_dir based on
	  sys_dir and stub_dir.

	* Makefile.in (CRT0_DIR): new macro.
	  (all): depend on $(CRT0) rather than crt0.o which may not exist.
	  (crt0.o): depend on $(CRT0_DIR)/$(CRT0) rather than simply
	  $(CRT0).
	  ($(CRT0)): recur by cd'ing into $(CRT0_DIR).

Sun Jul 25 17:51:51 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* testsuite/lib/libm.exp: 
		added code to support compiling and linking of tests for 
		libm.sac (paranoia to be added next) and processing the 
		pass or failure of the tests.

	* testsuite/config/unix-libm.exp:
		platform specific proc's for dealing with compiler, linker
		and the way we execute and process the test results.

	* testsuite/libm.sac/execute.exp:
		generic framework for the sac tests. the config and lib 
		expect code for specific platforms tie it all together.

	* testsuite/libm.sac/test_is.c:
		changed the output of the test to be consistant with the
		other tests. parsing of pass nad fail messages is now fixed.

Fri Jul 23 19:20:07 1993  Per Bothner  (bothner@kalessin)

	* libc/include/{assert.h, ctype.h, dirent.h, errno.h, fastmath.h,
	locale.h, math.h, pwd.h, reent.h, setjmp.h, signal.h, stdio.h,
	stdlib.h, string.h, termios.h, time.h, utime.h, utmp.h}: For C++:
	#ifdef __cplusplus, surround by extern ""C { ... }.
	* libc/include/assert.h:  Do *not* protect assert.h against
	multiple inclusion!  Also, #undef it before #define, to allow
	redefinition.
	* libc/include/stdio.h (getlogin, cuserid):  Removed.  These
	should be only in unistd.h.

	* libc/include/sys/{fcntl.h, reent.h, stat.h, time.h, times.h,
	unistd.h}: For C++: #ifdef __cplusplus, surround by extern ""C {
	... }.

Fri Jul 23 10:15:33 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/sparc/Makefile.in: Must create a library, even
	if empty.

Wed Jul 21 16:00:37 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: set machine_dir for m88k.  edit crt0 definition
	  into makefiles.

	* Makefile.in, libc/Makefile.in (crt0): pull up from lower directories.

	* libc/Makefile.in (all): also build crt0.o.

	* libc/machine/i386/Makefile.in, libc/machine/sparc/Makefile.in,
	  libc/machine/z8k/Makefile.in, libm/Makefile.in (clean): no need
	  to remove CRT0.

	* libc/machine/m88k/Makefile.in (TOP, TARGETLIB): removed.
	  (all): reworked to build in place.
	  (clean): remove lib.a
	  (Makefile): remove redundant ./, call $(SHELL) rather than sh.

	* libc/sys/m88kbug/crt0.c (start): renamed to _start.
	  (_start): key off edata rather than _start_bss.

Wed Jul 21 14:29:47 1993  david d `zoo' zuhn  (zoo@cygnus.com)

	* libc/include/sys/unistd.h, libc/include/reent.h,
	libc/reent/sbrkr.c: change sbrk to return void* instead of char*.

Tue Jul 20 13:19:18 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libm/Makefile.in, libc/Makefile.in ($(SUBDIRS)): dollar escape a dollar sign.

	* Makefile.in (libc.a): break into two rules, one for libc.a and
	  one for libc/libc.a.  Force subdirs current before rebuilding
	  library.
	  (libm.a): break into two rules, one for libm.a and one for
	  libm/libm.a.  Force subdirs current before rebuilding library.

	* libc/Makefile.in (SUBLIBS): fix typo.

	* libc/sys/Makefile.in (all): force descent into subdirs, then
	  rebuild library iff out of of date.

Fri Jul 16 17:47:57 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	Rework so that library is built and then finished rather than
	being built on each invocation of make.

	* host/any (machine_dir, sys_dir, signal_dir): these are not
	  shared and have been moved to their associated Makefile.in's.
	  (AR_FLAGS): switch to qc which is faster.
	* configure.in: no longer assign machine_dir for m88k.  set
	  stub_dir, stub_lib, & crt0 for m68k*-unknown-{aout,coff}.  If
	  stub_dir set, then add to configdirs.  add comment about silly
	  configuration.
	  (configdirs): drop stub.  It will be added only
	  when needed.
	  (libm_fp_lib, libc_unix_lib, libc_signal_lib, libc_machine_lib,
	  libc_sys_dir, fake_sys_dir, libc_fake_sys_lib, stub_dir,
	  stub_lib, crt0): new variables for tailoring lower level
	  makefiles.  Assign accordingly and edit into makefiles.
	* libm/Makefile.in: updated copyright.
	  (TARGETLIB): removed.
	  (FLAGS_TO_PASS): removed TARGETLIB, machine_dir, sys_dir.
	  (SUBDIRS): removed TARGETDEP_DIRS.
	  (LIBM_FP_LIB, SUBLIBS): new macros.
	  (all): reworked.
	  (force): new target to force rebuilds.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* libc/sys/a29khif/Makefile.in, libc/sys/decstation/Makefile.in,
	  libc/sys/go32/Makefile.in, libc/sys/h8300hms/Makefile.in,
	  libc/sys/h8500hms/Makefile.in, libc/sys/m88kbug/Makefile.in,
	  libc/sys/sh/Makefile.in, libc/sys/sparc64/Makefile.in,
	  libc/sys/sun4/Makefile.in, libc/sys/sysvi386/Makefile.in,
	  libc/sys/sysvnecv70/Makefile.in, libc/sys/z8ksim/Makefile.in,
	  stub/m68kmvme/Makefile.in: updated copyright.
	  (TARGETLIB, TARGETCRT0, CRT0): macros removed.
	  (all): reworked.  made this the default rule.
	  (clean): also remove lib.a.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* stub/Makefile.in: updated copyright.
	  (TARGETLIB, TARGETCRT0, CRT0, TOP): removed.
	  (stub_lib): new macro.
	  (FLAGS_TO_PASS): removed TARGETLIB, stub_dir, TARGETCRT0.  Added
	  RANLIB.
	  (all): reworked.
	  (clean, install): assume stub_dir exists.
	  (Makefile): depend on configure.in.  call $(SHELL) rather than
	  sh.  drop redundant ./
	* stub/configure.in (stublib): new macro, assign it, edit it into
	  makefiles.
	* Makefile, libc/Makefile.in, doc/Makefile.in, libc/sys/Makefile.in:
	  updated copyright.
	  (all): reworked.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* libc/Makefile.in (TARGETCRT0): removed.
	  (FLAGS_TO_PASS): dropped TARGETLIB, machine_dir, sys_dir,
	  TARGETCRT0.
	  (SUBDIRS): drop TARGETDEP_DIRS.
	  (LIBC_SIGNAL_LIB, LIBC_SYS_LIB, LIBC_MACHINE_LIB, LIBC_UNIX_LIB,
	  LIBC_FAKE_SYS_LIB, SUBLIBS): new macros for configuration.
	  (force): new target to force rebuilds.
	* libc/sys/Makefile.in (TARGETCRT0, sys_dir): removed.
	  (FLAGS_TO_PASS): TARGETLIB, machine_dir, sys_dir, TARGETCRT0
	  removed.
	  (clean): assume sys_dir always exists.
	* libm/test/Makefile.in (Makefile): call $(SHELL) rather than sh.
	  drop redundant ./
	* libc/ctype/Makefile.in, libc/errno/Makefile.in,
	  libc/locale/Makefile.in, libc/machine/Makefile.in,
	  libc/machine/a29k/Makefile.in, libc/machine/h8300/Makefile.in,
	  libc/machine/h8500/Makefile.in, libc/machine/i386/Makefile.in,
	  libc/machine/i960/Makefile.in, libc/machine/m68k/Makefile.in,
	  libc/machine/mips/Makefile.in, libc/machine/necv70/Makefile.in,
	  libc/machine/sh/Makefile.in, libc/machine/sparc/Makefile.in,
	  libc/machine/z8k/Makefile.in, libc/reent/Makefile.in,
	  libc/signal/Makefile.in, libc/stdio/Makefile.in,
	  libc/stdlib/Makefile.in, libc/string/Makefile.in,
	  libc/sys/Makefile.in, libc/syscalls/Makefile.in,
	  libc/time/Makefile.in, libc/unix/Makefile.in,
	  libm/ieeefp/Makefile.in, libm/math/Makefile.in: updated copyright.
	  (TARGETLIB): removed.
	  (all): reworked.
	  (clean): also remove lib.a.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* Makefile.in: (machine_dir, sys_dir, stub_dir, stub_lib, CRT0):
	  new macros.
	  (SUBDIRS): moved to follow frag inclusion, change stub to
	  stub_dir.
	  (FLAGS_TO_PASS): removed machine_dir, sys_dir, signal_dir which
	  are now set in the libc Makefile.
	* libc/machine/Makefile.in (TARGETCRT0, machine_dir): removed.
	  (FLAGS_TO_PASS): removed TARGETLIB, machine_dir, sys_dir,
	  TARGETCRT0.
	  (force): new target to force rebuilds.
	* stub/configure.in: determine and set stub_lib for for Makefile.

Thu Jul 15 12:01:27 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/Makefile.in: Make `all' the default target.
	crt0.s renamed to crt0.S.
	* libc/sys/h8300hms/crt0.S: Add h8/300h support.

	* libc/machine/h8300/Makefile.in: Make `all' the default target.
	* libc/machine/h8300/{cmpsi.S,ucmpsi.S}: #ifdef out entire file if
	h8300h.
	* libc/machine/h8300/defines.h: Add macros to handle pointers for
	h8300 (16 bits) and h8300h (32 bits).
	* libc/machine/h8300/{divsi3.S,mulsi3.S,memcpy.S,memset.S,
	reg_memcpy.S,reg_memset.S,strcmp.S}: Add h8300h support.

Thu Jul 15 10:13:29 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/machine/m88k/setjmp.S, Makefile.in: New files; a simple
	implementation of setjmp and longjmp for the m88k.
	* libc/include/machine/setjmp.h: Added __m88000__ case.

Wed Jul 14 10:10:30 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Recognize h8300h as variant of h8300.

Tue Jul 13 12:24:11 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* libc/include/sys/unistd.h (read, write): get prototypes right.
	(sbrk): New prototype.
	* libc/reent/sbrkr.c (sbrkr): Use correct sbrk prototype.
	* libc/stdio/local.h: Include unistd.h.
	* libc/machine/h8300/syscalls.c: Names have changed.

Mon Jul 12 18:08:42 1993  K. Richard Pixley  (rich@cygnus.com)

	* configure.in: add sys_dir assignment for m88k-bug.

Thu Jul  8 09:16:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/syscallasm.h: New macros to handle either
	a.out or elf.
	* libc/sys/sparc64: all *.S files: Use new macros.
	* libc/sys/sparc64/isatty.c: New file.
	* libc/sys/sparc64/Makefile.in: Stop using /lib/libc.a for
	functions beyond what newlib provides.

Thu Jul  8 09:11:28 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/stat.h: Move st_atime so not doubly defined for
	svr4.

Thu Jul  8 09:09:16 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/machine/ieeefp.h: Add support for h8/300h.

Fri Jul  2 10:11:20 1993  K. Richard Pixley  (rich@cygnus.com)

	* configure.in: add m88k.
	* libc/include/machine/ieeefp.h: add case for m88k.  Also add
	sanity check so no one else need ever chase what I did to find
	this.

	* libm/math/Makefile.in (FAKEC): added atanf.c log1pf.c scalbnf.c.

Fri Jul  2 09:15:21 1993  Ian Lance Taylor  (ian@cygnus.com)

	* doc/makedoc.c: Include <ctype.h>.

Wed Jun 30 09:35:06 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.
	* libc/sys/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.
	* libc/machine/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.

	* libm/test/Makefile.in (all): Link with ../../lib[cm].a.

Sun Jun 27 17:05:20 1993  Doug Evans  (dje@sphagnum.cygnus.com)

	* libc/include/errno.h (ENOSYS): Added.

	* libc/unix/getpwd.c (getcwd): Fix typo (_up -> up).

Mon Jun 21 09:03:32 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* libc/stdio/fflush.c (fflush): Check for reent struct
	initialization.
	* libc/stdio/fdopen.c (fdopen): Avoid namespace conflict.

Fri Jun 18 16:06:05 1993  Mark Eichin  (eichin@rtl.cygnus.com)

	* libc/stdlib/dtoastub.c: new file -- move user callable "dtoa"
	out of dtoa.c so it doesn't pollute the namespace.
	* libc/include/_syslist.h: new file -- mappings from _function to
	function, for systems where we can't win (by default, all of them,
	until we start updating system calls.)
	* libc/syscalls: new directory -- stubs for exporting _function
	names as unmodified function names.
	* libc/configure.in: add MISSING_SYSCALL_NAMES to enable
	_syslist.h on all platforms by default, but put hooks in for
	fake_sys_dir so we can include it when we've renamed the system
	calls.
	* libc/reent/execr.c libc/reent/filer.c libc/reent/fstatr.c
	libc/reent/linkr.c libc/reent/sbrkr.c libc/reent/statr.c
	libc/signal/raise.c libc/signal/signal.c libc/stdio/fdopen.c
	libc/stdio/mktemp.c libc/stdio/tmpnam.c libc/stdlib/abort.c
	libc/stdlib/system.c libc/unix/getcwd.c libc/unix/getlogin.c
	libc/unix/getpass.c libc/unix/getut.c libc/unix/ttyname.c: change
	non ANSI functions to call _function.

Wed Jun  9 09:48:26 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/strtoul.c (_strtoul_r): Handle leading 0 correctly
	when base 16 is specified.  Don't accept non-digits if radix > 10.

Thu Jun  3 10:01:15 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/math.h: Rename xxx_r fns to _xxx_r.

Wed Jun  2 16:54:16 1993  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/include/sys/stat.h: Surround text after #endif with
	comments.

Wed Jun  2 12:47:32 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/mallocr.c: If MALLOC_PROVIDED is defined, just make
	_malloc_r, _realloc_r, and free_r call the corresponding
	non-reentrant functions.

	* libm/math/modf.c (modf): We now take the address of ipart, so
	don't make it a register variable.

Tue Jun  1 18:25:54 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libm/math/*: Rename all xxx_r fns to _xxx_r.

Wed May 26 22:06:35 1993  Roland H. Pesch  (pesch@cygnus.com)

	* libc/libc.texinfo and embedded docn throughout: formatting
	improvements, minor rephrasing for clarity, and improved
	reentrancy docn.

Sun May 23 17:29:49 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/ieeefp/infinity.c (maxpowtwof): Fix initialzation bug.

	* libc/stdio/cvt.c (_licvt): Print the right value on machines
	where sizeof(int) != sizeof(long).

Fri May 21 22:09:32 1993  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/reent/execr.c, libc/reent/filer.c, libc/reent/linkr.c,
	libc/reent/sbrkr.c, libc/reent/statr.c, libc/stdio/tmpnam.c,
	libc/stdlib/atol.c, libc/stdlib/rand.c, libc/string/strpbrk.c,
	libc/string/strspn.c, libm/ieeefp/isnan.c, libm/math/bessel.c,
	libm/math/matherr.c: changes for better docn formatting (info).

	* libc/libc.texinfo, libc/ctype/ctype.tex, libc/locale/locale/tex,
	libc/reent/reent.tex, libc/signal/signal.tex,
	libc/stdio/stdio.tex, libc/stdlib/stdlib.tex,
	libc/string/strings.tex, libc/sys/sys.tex, libc/time/time.tex,
	libm/libm.texinfo, libm/ieeefp/ieeefp.tex, libm/math/math.tex: use
	makeinfo node defaulting to get better Info file node structure.
	(Requires recent sac change to doc/makedoc.c and doc/doc.str.)
	Also include a few formerly missing sections (subroutines).

	* doc/doc.str: delete fossil expansion for "func"

	* default.menu, no-signal.menu: delete.

	* Makefile.in, libc/Makefile.in, configure.in, host/any: simplify
	method used to adjust doc for missing "signals" chapter when 
	signal_dir is empty.

Thu May 20 21:38:37 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: added testsuite/libm.sac

Wed May 19 14:52:34 1993  Doug Evans  (dje@thepub.cygnus.com)

	* libc/sys/sparc64/crt0.S: Set %g4 to 0 (to test Medium/Anywhere
	code model).

Tue May 18 13:17:21 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libm/Makefile.in: Use $(MAKE) rather than make, and define
	MAKEOVERRIDES to be empty.

Mon May 17 08:42:44 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: Don't build mips-*-* with -msoft-float, since that
	makes it incompatible with hard floating point.

Mon May 17 00:03:35 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* Makefile.in: added recursive 'make check'

Thu May 13 16:24:18 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: added ./testsuite ./testsuite/libm.paranoia
	* ./testsuite/Makefile.in: created
	* ./testsuite/libm.paranoia: paranoia tests added

Thu May 13 10:30:24 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: For mips-*-* set machine_dir to mips.

	* libc/machine/mips: New directory.
	* libc/machine/mips/Makefile.in: New file.
	* libc/machine/mips/setjmp.S: New file; simplistic MIPS version of
	setjmp and longjmp.
	* libc/include/machine/setjmp.h: Added __mips__ case.

	* libc/machine/lmips: Removed unused and useless directory.

Mon May  3 10:22:31 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: Accept i486-*-sco* as well as i386-*-sco*.

Thu Apr 15 15:16:44 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/crt0.S: Add comment (%g1 contains atexit arg at
	start up).

Fri Apr  9 13:32:26 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/setjmp-dj.h: Use _SETJMP_DJ_H rather than
	SETJMP_H.

Thu Apr  8 10:07:18 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libm/test/convert.c: structure member errno -> errno_val.
	Must include <errno.h> to use errno, it's a macro now.
	* libm/test/math.c: Ditto.
	* libm/test/math2.c: Include errno.h.
	* libm/test/string.c: Ditto.
	* libm/test/test.h: structure member errno -> errno_val.
	Remove extern int errno decl.

Thu Apr  8 07:56:33 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdio/Makefile.in: Added dependencies on local header
	files.
	* libc/stdio/std.h, libc/stdio/vfprintf.h: Removed unused header
	files.

Wed Apr  7 16:19:32 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/ieeefp.h: Added __MIPSEB__ case.

Wed Apr  7 10:55:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/siprintf.c libc/stdio/sscanf.c libc/stdio/vsprintf.c:
	Initialize _data.

	* libc/stdio/vfprintf.c: No need to declare _icvt, _licvt, _sicvt.
	* libc/stdio/local.h: Add prototype for _licvt.

	* libc/stdio/ungetc.c (__submore): Use _malloc_r,_realloc_r
	instead of malloc,reealloc.

	* libc/stdlib/local.h: New file.
	* libc/stdlib/efgcvt.c: #include local.h.
	(gcvt): Fix call to _gcvt.
	* libc/stdlib/ecvtbuf.c: #include local.h.

	* libc/stdlib/Makefile.in: new files mallocr.c mstats.c.
	* libc/stdlib/mallocr.c mstats.c malloc.h: New files.
	* libc/stdlib/malloc.c: main routines moved to mallocr.c.

	* libc/stdlib/atexit.c: moved global data to struct _reent.
	* libc/stdlib/exit.c: use struct _atexit in struct _reent.

	* libc/reent/reent.c (inpure_data): _REENT_INIT macro modified.

Wed Apr  7 09:41:50 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/reent.h: Stuff required by ANSI headers moved
	here from ../reent.h.

Tue Apr  6 12:56:01 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (MATHOBJS_IN_LIBC): List of object files which
	should be provided in both libc.a and libm.a.
	(libc.a): Depend on targ-include and libm.a.  Copy
	$(MATHOBJS_IN_LIBC) from libm.a to libc.a.
	(libm.a): Depend on targ-include.
	* configure.in (subdirs): Removed libc/math.

Mon Apr  5 10:18:16 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/ieeefp/infinity.c (maxpowtwo): Fix initialization bug.

Sat Apr  3 11:06:07 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/{errno.h, math.h, stdio.h, stdlib.h}: Use
	sys/reent.h instead of reent.h.
	* libc/include/reent.h: Split into two parts: stuff needed by ANSI
	headers moved to sys/reent.h.  
	* libc/include/signal.h: _MAX_SIGNALS moved to sys/signal.h.
	* libc/include/sys/signal.h: Define _MAX_SIGNALS if
	__need__MAX_SIGNALS defined.
	* libc/include/stdio.h: struct __sFILE moved to sys/reent.h.
	std{in,out,err} refer to new _std{in,out,err} members.

Fri Apr  2 11:27:12 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/signal.h: #define _SYS_SIGNAL_H for general
	case.

Fri Apr  2 09:41:10 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/execve.S (execve): Insert nop in delay slot,
	rather than whatever macro seterrno() has.

Thu Apr  1 16:47:08 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/locale/locale.c: Reentrant routines _r_xxx renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/include/machine/fastmath.h: Use _HAVE_STDC instead of
	__STDC__.

	* libc/reent/{execr.c, filer.c, fstatr.c, linkr.c, reent.c,
	reent.tex, sbrkr.c, statr.c}: _r_xxx reentrant routines renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/signal/signal.c: Reentrant routines _r_xxx renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/stdio/{fclose.c, fdopen.c, findfp.c, fiprintf.c, flags.c,
	fopen.c, fprintf.c, freopen.c, fscanf.c, fseek.c, ftell.c,
	fwalk.c, getchar.c, gets.c, iprintf.c, local.h, makebuf.c,
	mktemp.c, perror.c, printf.c, putchar.c, puts.c, refill.c,
	remove.c, rename.c, scanf.c, setvbuf.c, siprintf.c, sprintf.c,
	sscanf.c, stdio.c, tmpfile.c, tmpnam.c, vfprintf.c, vfprintf.h,
	vfscanf.c, vprintf.c, vsprintf.c}: Reentrant routines _r_xxx
	renamed to _xxx_r.  struct reent_struct renamed to struct _reent
	for ANSI.  structure members given leading "_" for ANSI.  Use
	_HAVE_STDC instead of __STDC__ and _HAVE_STDARG.

	* libc/stdlib/{__adjust.c, calloc.c, dtoa.c, ecvtbuf.c, malloc.c,
	mprec.c, mprec.h, rand.c, std.h, strtod.c, strtol.c, strtoul.c,
	system.c}: Reentrant routines _r_xxx renamed to _xxx_r.  struct
	reent_struct renamed to struct _reent for ANSI.
	Structure members given leading "_" for ANSI.
	_CONST --> const in prototypes.
	Use _HAVE_STDC instead of __STDC__.

	* libc/string/strtok.c: Reentrant routines _r_xxx renamed to
	_xxx_r.
	struct reent_struct renamed to struct _reent for ANSI.
	Structure members given leading "_" for ANSI.

	* libc/time/asctime.c: Reentrant routines _r_xxx renamed to
	_xxx_r.
	struct reent_struct renamed to struct _reent for ANSI.

	* libm/math/{acos.h, acosh.h, asin.c, asinh.h, atanh.h, bessel.h,
	cbrt.h, cosh.h, erf.c, erf.h, error.c, exp.c, fmod.c, frexp.h,
	gamma.h, hypot.h, ldexp.c, log.h, log10.c, log1p.c log2.c,
	mathimpl.h, pow.c, remainder.c, sincos.c, sinh.h, sqrt.h, tan.c,
	tanh.h}: struct reent_struct renamed to struct _reent for ANSI.

	* libc/include/{_ansi.h, ctype.h, math.h, reent.h, locale.h,
	signal.h, stdio.h, stdlib.h, string.h, time.h}:
	Use _HAVE_STDC instead of __STDC__ and _HAVE_STDARG.
	#ifndef _STRICT_ANSI non-ANSI routines.
	Reentrant routines renamed from _r_xxx to _xxx_r.
	No need to use _STRICT_ANSI on _xxx_r reentrant routines.
	Use _STRICT_ANSI instead of __STRICT_ANSI, _ANSI_SOURCE, etc.
	Clean up namespace (structure members have leading "_").
	struct reent_struct renamed to struct _reent for ANSI compliance.
	_CONST --> const in function prototypes.

	* libc/include/string.h: Add NULL and size_t.

	* libc/sys/sparc64/Makefile.in: New syscall routines for link,
	unlink, wait, wait4. Reentrant syscall routines close, fork,
	fstat, link, lseek, open, read, sbrk, stat, unlink, wait, wait4,
	write.
	* libc/sys/sparc64/cerror.S (cerror_r): New routine.
	* libc/sys/sparc64/{close.S, fork.S, fstat.S, link.S, lseek.S,
	open.S, read.S, sbrk.S, stat.S, unlink.S, wait.S, wait4.S,
	write.S}: Define reentrant versions.
	* libc/sys/sparc64/sys/syscallasm.h (defsyscall_r): New macro for
	reentrant syscalls.

	* libc/sys/sparc64/crt0.S (start): Fix initialization of environ.

	* libc/include/stdlib.h (RAND_MAX): Fix value.

Thu Apr  1 12:28:30 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/_main.c: Removed unnecessary file.
	* libc/sys/a29khif/Makefile.in (OFILES): Removed _main.c, moved
	VPATH support targets after all: target.

	* stub/mvme135/mvme.S: Renamed exceptionhandler to
	exceptionHandler, which is what mvme135-stub.c expects.

Wed Mar 31 17:42:03 1993  Doug Evans  (dje@cygnus.com)

	* libc/stdio/tmpnam.c (worker): Fix test for _r_open() failure.

	* libc/unix/getpass.c (getpass): Use stdin,stderr instead of
	def_stdin/def_stderr (latter removed from stdio.h to make it ANSI
	compliant).

Tue Mar 30 09:58:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/reent/execr.c (_r_wait): Re-order args to make reent_struct
	first.
	libc/reent/filer.c (_r_open, _r_close, _r_lseek, _r_read,
	_r_write): Ditto.
	libc/reent/fstatr.c (_r_fstat): Ditto.
	libc/reent/linkr.c (_r_link, _r_unlink): Ditto.
	libc/reent/sbrkr.c (_r_sbrk): Ditto.
	libc/reent/statr.c (_r_stat): Ditto.

	* libc/stdio/fopen.c (_r_fopen): Re-order args to _r_open.
	* libc/stdio/freopen.c (freopen): Ditto for _r_open, _r_free.
	* libc/stdio/fseek.c (fseek): Ditto for _r_fseek.
	* libc/stdio/makebuf.c (__smakebuf): Ditto for _r_fstat.
	* libc/stdio/mktemp.c (_gettemp): Ditto for _r_stat, _r_open.
	* libc/stdio/remove.c (_r_remove): Ditto for _r_unlink.
	* libc/stdio/rename.c (_r_rename): Ditto for _r_link, _r_unlink.
	* libc/stdio/stdio.c (__sread): Ditto for _r_read.
	(__swrite): Ditto for _r_lseek, _r_write.
	(__sseek): Ditto for _r_lseek.
	(__close): Ditto for _r_close.
	* libc/stdio/tmpnam.c (worker): Ditto for _r_open, _r_close.

	* libc/stdlib/malloc.c (_r_morecore): Re-order args to _r_sbrk.
	* libc/stdlib/system.c (_r_system): Ditto for _r_wait.

	* libc/include/reent.h: Re-order arguments to _r_xxx syscall fns
	to make reent_struct the first argument (and thus consistent with
	the rest of newlib).

	* stub/mvme135/mvme135-stub.c (initializeRemcomErrorFrame): Remove
	reference to __STDC__.

Mon Mar 29 12:34:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/exit.c (exit): Use _REENT->__cleanup instead of
        global __cleanup.

Wed Mar 24 11:54:35 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/freopen.c (freopen): Ensure stdio is initialized
	first.
	libc/stdio/fclose.c (fclose): Ditto.

Tue Mar 23 01:26:52 1993  Doug Evans  (dje@rtl.cygnus.com)

	* Run through indent and rename reentrant routines for ANSI.
	libc/stdio/{clearerr.c cvt.c fclose.c fdopen.c feof.c ferror.c
	fflush.c fgetc.c fgetpos.c fgets.c findfp.c fiprintf.c flags.c
	fopen.c fprintf.c fputc.c fputs.c fread.c freopen.c fscanf.c
	fseek.c fsetpos.c ftell.c fvwrite.c fwalk.c fwrite.c getc.c
	getchar.c gets.c iprintf.c makebuf.c mktemp.c perror.c printf.c
	putc.c putchar.c puts.c refill.c remove.c rename.c rewind.c rget.c
	scanf.c setbuf.c setvbuf.c siprintf.c sprintf.c sscanf.c stdio.c
	tmpfile.c tmpnam.c ungetc.c vfprintf.c vfscanf.c vprintf.c
	vsprintf.c wbuf.c wsetup.c local.h}

	* libc/locale/locale.c: Reformat and rename for ANSI, GNU style.

	* Run through indent and rename xxx_r fns to _r_xxx for ANSI.
	libc/stdlib/{__adjust.c __exp10.c __ten_mu.c abort.c abs.c
	assert.c atexit.c atof.c atoi.c atol.c bsearch.c calloc.c div.c
	dtoa.c ecvtbuf.c efgcvt.c exit.c getenv.c labs.c ldiv.c malloc.c
	mbtowc.c mprec.c putenv.c qsort.c rand.c setenv.c strdup.c
	strtod.c strtol.c strtoul.c system.c wctomb.c mprec.h}

	* Run through indent.
	libc/string/{bcmp.c bcopy.c bzero.c index.c memchr.c memcmp.c
	memcpy.c memmove.c memset.c rindex.c strcat.c strchr.c strcmp.c
	strcoll.c strcpy.c strcspn.c strerror.c strlen.c strncat.c
	strncmp.c strncpy.c strpbrk.c strrchr.c strspn.c strstr.c strtok.c
	strxfrm.c}

	* libc/time/{asctime.c clock.c ctime.c difftime.c gmtime.c
	localtime.c mktime.c strftime.c time.c}:
	Run through indent and rename xxx_r (reentrant) fns to _r_xxx for ANSI.

	* Reformatting + renaming (for ANSI, GNU style, consistency).
	libc/include/{_ansi.h, assert.h, ctype.h, errno.h, fastmath.h,
	ieeefp.h, locale.h, math.h, paths.h, pwd.h, reent.h, setjmp.h,
	signal.h, stdio.h, stdlib.h, string.h, time.h, unistd.h}

Fri Mar 19 11:28:01 1993  Doug Evans  (dje@cygnus.com)

	* libc/include/stdio.h (stdin_r): Fix.

Fri Mar 19 09:43:48 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: Unexport some variables to keep GNU make from
	putting them in the environment and using up needed ARG_MAX space
	(a hack is used to let this work with older makes as well).

Tue Mar 16 15:11:08 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: Use $(MAKE) rather than make.
	(MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass down LD (it's not used).
	(libc.a, libm.a): Depend on targ-include.
	* host/any (LD): Don't define.
	(INCLUDES): Use targ-include.	
	* stub/Makefile.in (MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass down LD (it's not used).
	* libc/Makefile.in: Use $(MAKE) rather than make.
	(MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass LD (it's not used).
	(all): Rewrote to be slightly smaller.
	* libc/machine/Makefile.in, libc/sys/Makefile.in (MAKEOVERRIDES):
	Define to be empty.
	(FLAGS_TO_PASS): Don't pass LD (it's not used).
	* libm/Makefile.in (FLAGS_TO_PASS): Don't pass LD (it's not used).

Mon Mar 15 08:45:41 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/go32/gerrno.s: Renamed from errno.s to avoid conflict
	with errno/errno.c.

Fri Mar 12 09:46:54 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Changes for reentrancy.
	libc/stdio/fdopen.c, libc/stdio/freopen.c, libc/stdio/perror.c:
	Use ptr->_errno, not errno.
	libc/stdio/mktemp.c (mkstemp_r, mktemp_r): New functions.
	libc/stdio/remove.c (remove_r): New function.
	libc/stdio/rename.c (rename_r): New function.
	libc/stdio/fopen.c, libc/stdio/freopen.c, libc/stdio/fseek.c,
	libc/stdio/makebuf.c, libc/stdio/mktemp.c, libc/stdio/remove.c,
	libc/stdio/rename.c, libc/stdio/stdio.c, libc/stdio/tmpnam.c: Use
	reentrant versions of system calls.
	libc/stdio/gets.c: Call getchar_f, not nonexistent getchar_r.
	libc/stdio/scanf.c: Use stdin_r, not nonexistent stdin_n.
	libc/stdio/tmpfile.c: Use tmpnam_f, not nonexistent tmpnam_r.
	libc/stdio/findfp.c: Include <string.h>.
	libc/stdio/fread.c, libc/stdio/rget.c, libc/stdio/scanf.c: Include
	"local.h".
	libc/stdio/wbuf.c: Include "fvwrite.h"

	* libc/stdlib/{dtoa.c, ecvtbuf.c, mprec.c, strtod.c}: Include
	<string.h>.
	libc/stdlib/malloc.c: Call sbrk_r rather than sbrk.
	(NULL): Don't define if already defined.
	libc/stdlib/system.c: Call reentrant versions of system calls.
	(system_r): New function.

	* Changes for reentrancy.
	libc/include/_ansi.h (_PARAMS): New macro.
	libc/include/errno.h: Define errno as a macro that calls __errno.
	(__errno_r): New macro for reentrant code.
	libc/include/math.h: Include reent.h.  Declare many reentrant
	functions.
	(signgam): Now a macro, not a variable.
	(struct exception): Added err field.
	libc/include/reent.h: Don't declare __sglue.  Added function
	declarations.
	(struct reent_struct): Moved errno to beginning.  Added _signgam.
	libc/include/stdio.h, libc/include/stdlib.h: Added function
	declarations.

	* More reentrancy hacking.
	libc/errno/errno.c (__errno): New function.
	libc/reent/execr.c, libc/reent/filer.c, libc/reent/fstatr.c,
	libc/reent/linkr.c, libc/reent/sbrkr.c, libc/reent/statr.c: New
	files.
	
	* Added many new reentrant functions to libm/math/*.
	libm/math/error.c (__matherror): Added reent_struct pointer
	argument. Changed all callers.
	libm/math/gamma.c (signgam): Removed. Set ptr->_signgam, instead.
	libm/math/exp.h, libm/math/pow.h, libm/math/sincos.h,
	libm/math/tan.h: Removed obsolete unused header files.

	* libc/sys/a29khif/stubs.s: Use register lr0, not v0.

	* libc/sys/sun/Makefile.in (COPYOFILES): Don't pull in errno.o.

Mon Mar  8 16:43:43 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/sys/a29khif/stubs.s: clobber safe register, and fill all
	delay slots.

Tue Mar  2 14:47:00 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

        * libc/libc.texinfo:  comment out reentrancy chapter (duh)

Tue Mar  2 14:34:16 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

        * libc/reent/reent.tex:  New file.  (text from
	newlib/libc/libc.texinfo)
	* libc/stdio/tmpnam.c:  fixed doc typo
	* libc/stdlib/rand.c:   fixed doc typo

Tue Mar  2 14:34:16 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

        * libc/reent/reent.tex:  New file.  (text from
	newlib/libc/libc.texinfo)

Fri Feb 26 12:20:54 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	support for reentrancy
	* libc/reent/reent.c, libc/reent/Makefile.in, libc/reent/reent.c:
	new files
	* libc/errno/errno.c, libc/include/ieeefp.h,
	libc/include/locale.h, libc/include/reent.h,
	libc/include/signal.h, libc/include/stdio.h,
	libc/include/stdlib.h, libc/include/string.h, libc/include/time.h,
	libc/signal/signal.c libc/stdio/cvt.c, libc/stdio/fclose.c,
	libc/stdio/fdopen.c, libc/stdio/fflush.c, libc/stdio/fgets.c,
	libc/stdio/findfp.c, libc/stdio/flags.c, libc/stdio/fopen.c,
	libc/stdio/fputc.c, libc/stdio/freopen.c, libc/stdio/fseek.c,
	libc/stdio/ftell.c, libc/stdio/fwalk.c, libc/stdio/getchar.c,
	libc/stdio/gets.c, libc/stdio/glue.h, libc/stdio/iprintf.c,
	libc/stdio/local.h, libc/stdio/makebuf.c, libc/stdio/perror.c,
	libc/stdio/printf.c, libc/stdio/putchar.c, libc/stdio/puts.c,
	libc/stdio/refill.c, libc/stdio/scanf.c, libc/stdio/setvbuf.c,
	libc/stdio/sprintf.c, libc/stdio/tmpfile.c, libc/stdio/tmpnam.c,
	libc/stdio/ungetc.c, libc/stdio/vfprintf.c, libc/stdio/vfprintf.h,
	libc/stdio/vfscanf.c, libc/stdio/vprintf.c, libc/stdio/wsetup.c,
	libc/stdlib/__adjust.c, libc/stdlib/__exp10.c,
	libc/stdlib/assert.c, libc/stdlib/atexit.c, libc/stdlib/atol.c,
	libc/stdlib/dtoa.c, libc/stdlib/ecvtbuf.c, libc/stdlib/malloc.c,
	libc/stdlib/mprec.c, libc/stdlib/mprec.h, libc/stdlib/rand.c,
	libc/stdlib/setenv.c, libc/stdlib/std.h, libc/stdlib/strtod.c,
	libc/stdlib/strtol.c, libc/stdlib/strtoul.c, libc/string/strtok.c,
	libc/time/asctime.c, libc/time/localtime.c, libc/time/mktime.c,
	libc/time/strftime.c: modify to provide reentracy.

	new routines:
	strtok_r, asctime_r, fdopen_r, _cleanup_r, fopen_r, iprintf_r,
	perror_r, printf_r, putchar_r, puts_r, scanf_r, sprintf_r,
	tmpfile_r, vfiprintf_r, vfprintf_r, strtod_r, dtoa_r, rand_r,
	srand_r, strtoul_r,strtol_r, free_r, malloc_r, morecore_r,
	mstats_r, realloc_r, localeconv_r, setlocale_r

Wed Feb 17 20:17:15 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/include/machine/ieeefp.h, libc/include/machine/setjmp.h,
	libc/include/sys/config.h, libc/include/sys/signal.h,
	libc/include/sys/stat.h, libc/include/sys/types.h: For compiler
	provided macros (such as m68000), use the ansi version
	(__m68000__) so that the library can be used with code compiled
	-ansi. In particular, m68000, mc68000, _AM29K, i386, MIPSEL, unix,
	and sparc.

Wed Feb 17 13:01:34 1993  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* configure.in (sparc*): Don't set -fsoft-float for sparc
	configurations.  Do set -fsoft-float for sparclite configurations.

Fri Feb 12 16:25:52 1993  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* default.menu, no-signal.menu: alternate forms of libc main menu
          (in newlib rather than newlib/libc due to configuration restrictions)

	* configure.in: select one of the two menus above, link to
	libc.menu

        * libc/libc.texinfo: include menu from separate file

Fri Feb 12 12:50:06 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (FLAGS_TO_PASS): Put INSTALL back in.
	(info): Split long shell command in half.
 	* libc/Makefile.in (info, targetdep.tex): Don't pass everything to
	sub-makes, just CHEW and TARGETDOC. 
	(targetdep.tex): Removed now special handling of sys and machine
	subdirectories, made obsolete some time ago.
	* libc/machine/Makefile.in (doc): Don't pass everything to
	sub-make, just CHEW and TARGETDOC.
	(Makefile): New target.
	* libc/sys/Makefile.in (Makefile): New target.

Thu Feb 11 15:25:15 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (here and most subdirectories): Only pass down CHEW
	and TARGETDOC when making info, not for other targets.

	* Makefile.in (here and most subdirectories), host/any: Use $(AR)
	$(AR_FLAGS) rather than $(ARUPDATE).

Wed Feb 10 11:57:52 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Try to reduce command line length:
	* Makefile.in (FLAGS_TO_PASS): don't pass down exec_prefix,
	CC_FOR_BUILD, CFLAGS_FOR_BUILD, INSTALL or CHEW.
	(info, docs): pass CC_FOR_BUILD and CFLAGS_FOR_BUILD to doc.
	(info): Pass CHEW to other subdirs.

Tue Feb  9 14:01:42 1993  Mark Eichin  (eichin@cygnus.com)

	* configure.in: add signal_dir, like unix_dir, but by default it
	is set to "signal" so that a29khif can turn it off (since a29khif
	has raise() as part of machine-specific signal.s.)

Fri Jan 15 12:09:50 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/sys/config.h, libc/machine/ieeefp.h: add Z8000 support
	* libc/stdio/Makefile.in: pass CFLAGS so vfiprintf.c gets built
	correctly.
	* libc/stdio/fdopen.c, libc/stdio/fgets.c, libc/stdio/fscanf.c,
	libc/stdio/vfprintf: type lint.
	* libc/sys/z8ksim/crt0.c (start): Z8001/Z8002 independent
	initialzation code.
	* libc/sys/z8ksim/glue.c: Z8001/Z8002 clean system calls.

Tue Dec 29 10:15:33 1992  Ian Lance Taylor  (ian@cygnus.com)

	* stub/mvme135/mvme135-asm.S: new file.
	stub/mvme135mvme135-stub.c: moved all assembler routines into
	mvme135-asm.S.
	stub/mvme135/Makefile.in: build mvme135-stub.o.

Mon Dec 28 12:40:43 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: don't pass down $(CPP); use $(CC) -E in
	sub-Makefiles instead, to try to avoid line length limitations.

Mon Dec 21 18:36:13 1992  Per Bothner  (bothner@rtl.cygnus.com)

	* libc/include/unistd.h (read, write):  Use void* instead of
	char*.

Thu Dec 17 13:49:46 1992  Mark Eichin  (eichin@cygnus.com)

	* stub/go32/resetpc: sample script to send a reset packet to the
	stub

	* stub/go32/I386STUB.C: new file, gdb/i386stub.c modified for the
	DOS environment, which compiles with Turbo C.

	* stub/go32/DSER32.LNK: new file, linker commands for serial
        remote stub.

	* stub/go32/CONTROL.C: turn off debug_mode, add CYGNUS tag line to
	start up message to identify version; call set_debug_traps.

	* stub/go32/DEBUG.C: turn off debug_mode (so stub doesn't need any
	keyboard interaction); call handle_exception() in go_til_stop,
	rather than return, so that the remote stub gets control.

	* stub/go32/MAKEFILE: fixed to actually use DOS commands (del and
	rename, rather than mv), set flags that work with current Turbo C,
	including using the /3 flag; also, add commands to build dser32.

	* stub/go32/DEBUG32.LNK, stub/go32/GO32.LNK: fix paths to match
	default Turbo C installation (\tc rather than \usr)

	* stub/go32/MONO.C (printf): current Turbo C uses "..." instead of
        "&..."

Mon Dec 14 09:37:33 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/include/math.h: added _DOUBLE_IS_32BITS checks

Thu Nov 12 22:31:04 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/stdio/cvt.c (licvt): new function to convert ints when
	sizeof(int) != sizeof(long).

	* libc/include/stdio.h: added prototype for iprintf.
	* libc/include/machine/limits.h machine/ieeefp.h: z8k stuff

Tue Nov 10 12:18:12 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/machine/m68k/setjmp.S: use __USER_LABEL_PREFIX__ and
	__REGISTER_PREFIX__.

Mon Nov  2 13:50:14 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/m68kbare: moved into stub directory.

Mon Nov  2 13:40:42 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in, Makefile.in: created new directory stub, to hold
	sample code for specific targets.

Wed Oct 28 02:19:55 1992  Mark Eichin  (eichin@cygnus.com)

	* restored libc/sys/go32/sys/fcntl.h, to override incorrect values
	in the unified libc/include/sys/fcntl.h.

Wed Oct 21 13:55:58 1992  Doug Evans  (dje@rtl.cygnus.com)

	* libc/stdlib/ecvtbuf.c: (print_f,_gcvt): printf("%f", 0.01)
	printed .01, not 0.01.

Mon Oct 19 11:05:55 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: compile with -m68000 for m68* targets.

Sun Oct 18 05:29:05 1992  Mark Eichin  (eichin@cygnus.com)

	* libm/math/remainder.c (remainder): document the svr4 and sunos
	references used to construct the function.

Sat Oct 17 21:46:16 1992  Mark Eichin  (eichin@cygnus.com)

	* libm/math/remainder.c (rint, remainder): fix old typos.
	* libm/math/Makefile.in: actually build remainder.c (functions
	rint and remainder, from SysVr4 Programmer's Guide floor(3m) man
	page.)

Thu Oct 15 07:48:05 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/string/bcopy.c: BSD version works on overlapping strings,
	so ours should too.

	* libc/stdlib/system.c: always invoke /bin/sh, not getenv
	("SHELL").

Wed Oct 14 11:07:11 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (docs): new target.

Wed Oct 14 07:44:25 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/times.h: define clock_t as required by POSIX.
	libc/include/time.h: protect clock_t from multiple definitions.

Wed Oct  7 11:02:21 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libm/math/sqrt.h (sqrt): actually, the final version of fp-bit
	does not need more than the original three iterations to get
	within 1 ulp. (Paranoia tests for rounding to better than that,
	but further iterations *don't* help, only more subtle changes
	can.)

Tue Oct  6 09:22:12 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/vxworks68, libc/sys/vxworks960: removed, since they
	were doing nothing useful.

Tue Oct  6 08:48:13 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: define MALLOC_PROVIDED for vxworks targets;
	removed sys_dir settings of vxworks68 and vxworks960.
	host/any: don't pass -nostdinc to gcc, since newlib no longer
	provides all required header files.

	* libc/stdlib/malloc.c: only compile this file if MALLOC_PROVIDED
	is not defined; this provides a hook for VxWorks.

Mon Oct  5 03:44:57 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libc/stdio/setvbuf.c (setvbuf): while ANSI does say to malloc a
	buffer if buf is NULL, don't do it here -- it is already being
	done by makebuf elsewhere in stdio.

Fri Oct  2 13:12:07 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/Makefile.in: assemble Steve's list of stubs so
	that C programs can call functions without using initial
	underscores.

Thu Oct  1 09:37:47 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/abort.c (abort): call exit, in case kill returns.

Wed Sep 30 08:22:18 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: set TARGET_CFLAGS for certain CPU types to
	-msoft-float.

Tue Sep 29 21:09:32 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* libc/sys/m68kbare/glue.c: use <_ansi.h> instead of <ansidecl.h>

Mon Sep 28 14:58:44 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: added sys_dir m68kbare for m68k*-unknown-aout and
	m68k*-unknown-coff.

Fri Sep 25 08:33:21 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/stdio.h: define __need___va_list before including
	<stdarg.h>, to avoid defining va_arg, et. al.

Tue Sep 22 13:47:00 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/Makefile.in: handle the case of an empty $(sys_dir)
	(don't cd to the user's home directory).

	* libc/Makefile.in: replaced all instances of $(MAKE) with make.
	In general this is the wrong thing to do, but I can't get around
	GNU make's insistence on passing command line arguments any other
	way.

Tue Sep 22 10:12:44 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: always configure the libc/sys directory, since it
	now provides a required documentation file.

	* Makefile.in: replaced all instances of $(MAKE) with make.  In
	general this is the wrong thing to do, but I can't get around GNU
	make's insistence on passing command line arguments any other way.

Mon Sep 21 22:42:26 1992  Ian Lance Taylor  (ian@tweedledumbest.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): string for 0 was not null
	terminated.

	* libc/stdio/local.h: include <stdarg.h> to define va_list.
	libc/stdio/vsprintf.c: include <stdarg.h> rather than <varargs.h>.

	* libc/include/float.h, libc/include/stdarg.h,
	libc/include/stddef.h, libc/include/varargs.h: removed; use gcc
	versions instead.
	libc/include/stdio.h: get size_t from <stddef.h>, and va_list from
	<stdarg.h>, not from <machine/types.h>.  Protect definition of
	NULL.
	libc/include/time.h: get size_t from stddef.h.  Protect definition
	of NULL.
	libc/include/machine/limits.h: override gcc <limits.h> by defining
	_LIMITS_H___.  Don't define CLK_TCK.  Copied in gcc <limits.h> to
	get correct INT_MIN and LONG_LONG values.
	libc/include/machine/types.h: don't define ptrdiff_t, wchar_t,
	size_t or va_list at all; they're now gotten from stddef.h
	instead.
	libc/include/machine/varargs.h: removed; use gcc version instead.
	libc/include/sys/types.h: explicitly include <machine/types.h>.

	* libm/math/sqrt.h: using the fp-bit routines appears to require
	more iterations.

	* Makefile.in, host/any: let system include files override machine
	include files.

Sat Sep 19 21:10:06 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libc/include/machine/types.h: allow __*_TYPE__ from cpp to
	override _*_T_ definitions defaulted here.

Tue Sep 15 11:14:46 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (install): install the include files in
	$(tooldir)/include, not $(exec_prefix)/include.

Fri Sep 11 15:48:43 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (install): fixed typo, and changed install to not
	force rebuild of libc.a and libm.a.

Thu Sep 10 10:46:09 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/*: Changed all .include's to include
	sys/sysmac.h, not plain sysmac.h.  The header files live in sys so
	that they will be installed for the user.

	* Makefile.in (all): create targ-include, a directory holding the
	machine and system specific header files during the build.
	(install): fixed installation of machine and system specific
	header files.

	* Makefile.in: fixed comment.
	host/any: change .s.o rule to use $(AS) rather than $(CC), so that
	we can pass $(INCLUDES) to it.

Thu Sep 10 10:13:13 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/param.h: new generic file, which may be
	overridden for specific systems.

	* libc/include/sys/signal.h: define all ANSI signal names, and
	NSIG (which is not ANSI) for a29k.

Tue Sep  8 09:04:30 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: don't pass down arguments the lower level makes
	will not need.
	* libc/Makefile.in: recurse directly, rather than using subdir_do,
	in hopes of avoiding argument length limits.
	* libm/Makefile.in: recurse directly, rather using subdir_do, in
	hopes of avoiding argument length limits.

Tue Sep  8 08:27:22 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/fcntl.h: include <sys/types.h> to ensure that
	mode_t is defined.

Mon Sep  7 14:02:07 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Fixed make info and make install-info for newlib, changing most
	Makefile.in and several *.tex files.  Moved doc directory from
	libc to top level.

	* libc/time/mktime.c (_DAYS_IN_MONTH): actually, not const.
	Should be rewritten.

	* libc/string/strings.tex: renamed node index to node index
	function, so that it does not conflict with the top level index
	node.

	* libc/include/sys/config.h: define __IEEE_BIG_ENDIAN for h8300.

Fri Sep  4 02:34:06 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Overhauled general configuration for newlib.  Eliminated all
	target dependent Makefile fragments.  Create libraries in newlib
	rather than newlib/libc and newlib/libm.  Use CC, et. al., rather
	than CROSS_CC, et. al.  Broke make docs; will fix later.

	* libc/time/localtime.c (_DAYS_IN_MONTH): actually, not const.
	Should be rewritten.

Tue Sep  1 15:21:14 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/configure.in: cleaned up somewhat; switch on ${target}
	rather than ${target_alias}.
 	* libm/configure.in: cleaned up somewhat; switch on ${target}
	rather than ${target_alias}.

	* libc/ctype/ctype_.c: marked _ctype_ array _CONST.
	* libc/include/ctype.h: marked _ctype_ as _CONST.

	* libc/locale/locale.c (lconv, localeconv): marked static lconv as
	_CONST.

	* libc/stdio/cvt.c, libc/stdio/findfp.c (__sfmoreglue),
	libc/stdio/vfscanf.c (__svfscanf): made static variables const.
	libc/stdio/gets.c (gets): removed non-ANSI warning message.
	libc/stdio/tmpnam.c (tmpnam): removed unneeded filename variable.

	* libc/stdlib/mprec.h, libc/stdlib/mprec.c (pow5mult, tens,
	bigtens, tinytens): marked arrays _CONST.
	libc/stdlib/qsort.c (swap): if __GNUC__, use _builtin_alloca
	rather than a static variable.

	* libc/time/asctime.c (asctime), libc/time/localtime.c
	(_DAYS_IN_MONTH), libc/time/mktime.c (_DAYS_IN_MONTH,
	_DAYS_BEFORE_MONTH), libc/time/strftime.c (dname_len, dname,
	mname_len, mname): Marked static arrays _CONST.

	* libm/math/gamma.h: made local variables non-static.

	* libm/math/acos.h, libm/math/bessel.c, libm/math/erf.c,
	libm/math/exp.c, libm/math/gamma.h: marked static arrays as
	_CONST.

	* libm/math/constants.c: removed file, because the constants it
	defined were never referenced.
	libm/math/Makefile.in: removed references to constants.c.
	libm/math/mathimpl.h: removed declarations of constants.

Wed Aug 26 21:09:06 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/varargs.h: only call __builtin_saveregs if
	it is sensibly defined in libgcc2.  Checks preprocessor defines,
	which is not a good solution.

	* libm/sqrt.c: sqrt(Infinity) should not be a domain error.

	* libm/frexp.c: handle denormalized numbers as arguments.

	* libm/math/Makefile.in: added some dependencies for .c files
	which include local .h files.

Mon Aug 24 12:57:58 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/configure.in: set target_alias for OSE*.  Replace
	target_makefile_frag if it is blank.

	* libc/Makefile.in: make sure everything is passed to subsidiary
	makes; create all directories when installing.

	* libm/ieeefp/Makefile.in, libm/math/Makefile.in: use
	CROSS_ARUPDATE instead of AR.

	* libm/configure.in: set target_alias for OSE*.  Replace
	target_makefile_frag if it is blank.

	* libm/Makefile.in: make sure everything is passed to subsidiary
	makes; create all directories when installing.

Thu Aug 20 15:11:51 1992  Mark Eichin  (eichin@cygnus.com)

        * add following change from libc copy.

Wed Aug 19 18:54:49 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: make copyright disclaimers appear on back of
	title page; make format of same slightly less ugly; avoid using
	underbars in section headings (avoids nasty texinfo bug in table
	of contents).

	* libc/ctype/tolower.c, libc/ctype/toupper.c: (doc changes in
	  comments only) avoid using underbars in section headings

	* libc/ieeefp/ieeefp.tex: include doc from fpsticky, infinity,
	  isnan ieeefp/fpmask.c, ieeefp/fpround.c, ieeefp/fpsticky.c (doc
	  changes in comments only): shorten headings ieeefp/infinity.c,
	  ieeefp/isnan.c: (doc, comments only) more informative headings

	* libc/math/bessel.c: (doc, comments only) shorten heading

	* libc/stdlib/efgcvt.c, libc/stdlib/mbtowc.c, libc/stdlib/wctomb.c
	(doc, comments only) shorten headings

	* libc/time/localtime.c (doc, comments only): shorten headings

	* libm/ieeefp/ieeefp.tex: include doc from fpsticky, infinity,
	  isnan
	  libm/ieeefp/fpmask.c, libm/ieeefp/fpround.c,
	  libm/ieeefp/fpsticky.c (doc changes in comments only): shorten
	  headings
	  libm/ieeefp/infinity.c, libm/ieeefp/isnan.c: (doc, comments
	  only) more informative headings
	* libm/math/bessel.c: (doc, comments only) shorten heading

Wed Aug 19 07:06:37 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* .../Makefile.in: use CROSS_ARUPDATE consistently.
	* config/*.mt: define CROSS_AR as well as CROSS_ARUPDATE
	* config/*.mt: define CROSS_CPP based on CROSS_CC, not /lib/cpp.
	* .../Makefile.in: get rid of .c.o rule - if TOP is correctly
	defined, the one from the .mt file will be correct.
	* libc/include/machine, libc/include/sys: created, and populated
	with common files from machine/*/machine. ifdefs were used for
	most, typically by handling exceptions first and then filling in
	defaults. Files with D.J. Delorie copyright #included rather than
	copied. Most files in include/sys really were the same in the
	original.
	* libc/include/...: cleaned up use of _EXFUN.
	* libc/stdlib/mprec.c: mprec.h doesn't get installed, so include
	it with double quotes, not angles.

Mon Aug 10 11:43:20 1992  Ian Lance Taylor  (ian@dumbest.cygnus.com)

	* libc/Makefile.in: always create installation directories.

Sun Aug  9 22:45:48 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* libc/configure.in: handle host properly (using canonical
	triples), better error message for the case of target not found

Thu May 28 01:56:37 1992  Michael Tiemann  (tiemann@rtl.cygnus.com)

	* libc/Makefile.in (insincdir): Ensure this directory exists
	before attempting installation.

Fri May  1 18:16:42 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/stdlib/assert.c: now calls abort like it should
	* libc/sys/a29khif: many many patches for 29khif work
	* libc/machine/i386: gnulib2 expanded there.

Tue Apr 28 19:08:37 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

        Added accurate fp conversion routines to stdlib, moved dcvt from
	stdio to stdlib and called it ecvtbuf:
	* libc/stdlib/mprec.c, mprec.h: new files for multiprec arithmetic
	* libc/stdlib/Makefile.in, efgcvt.c, strtod.c: modified to use new
	routines
	* libc/libc.texinfo: Modifed to include the copyright info from
	the mprec files
	* libc/stdlib/efgcvt.c: now xref to ecvtbuf in stdlib.
	* libc/test/ : many vector which tested for the implementation
	defined returns of strange conversion requests have been updated
	to relflect the new implementation

Mon Apr 27 13:41:33 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: new chapter on variable arg lists
	(stdarg.h/varargs.h)
	* libc/libc.texinfo: new title
	* libc/time/gmtime.c, libc/time/localtime./c, libc/time/mktime.c:
	(doc only) shorter headings for better formatting.

Fri Apr 24 11:26:48 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: three more info menu entries
	* libc/locale/locale.tex: new chapter
	* libc/locale/locale.c: new doc for setlocale, localeconv
	* libc/locale/Makefile.in: use new locale doc
	* libc/signal/signal.tex: new chapter
	* libc/signal/raise.c, libc/signal/signal.c: new doc
	* libc/signal/Makefile.in: use new doc
	* libc/time/time.tex: new chapter
	* libc/time/asctime.c libc/time/clock.c libc/time/ctime.c
	libc/time/difftime.c libc/time/gmtime.c libc/time/localtime.c
	libc/time/mktime.c libc/time/strftime.c libc/time/time.c: new doc
	* libc/time/Makefile.in: use new doc

Tue Apr 21 14:48:50 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/math/log1p.c: split to use the new function way of float
	function definition. math/log1p.h deleted
	* libm/math/scalb.c: obsolete and deleted
	* libm/math/scalbn.c: created from part log1p.c
	* libm/math/Makefile.in: know about log1p and scalbn

Tue Apr 21 12:32:21 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/ctype/isupper.c: revise doc;
	  libc/ctype/ctype.tex: use doc from isupper.c

	* libc/string/bzero.c: new doc

Mon Apr 20 14:19:42 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/stdlib/system.c, libc/stdlib/exit.c, libc/stdlib/abort.c:
	new doc
	* libc/stdlib/Makefile.in: extract new doc
	* libc/stdlib/stdlib.tex: use new doc

	* libc/string/strerror.c: expanded doc.

	* libc/stdio/Makefile.in: extract doc from more files
	* libc/stdio/fopen.c, libc/stdio/perror.c, libc/stdio/remove.c,
	libc/stdio/rename.c, libc/stdio/rewind.c, libc/stdio/setbuf.c,
	libc/stdio/setvbuf.c, libc/stdio/sprintf.c, libc/stdio/tmpfile.c,
	libc/stdio/tmpnam.c, libc/stdio/vfprintf.c, libc/stdio/vprintf.c,
	libc/stdio/vsprintf.c: new doc
	* libc/stdio/stdio.tex: use new doc

Mon Apr 20 09:38:17 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/config/ebmon29k: added CROSS_CPP rule and other fixes
	* libc/include/ieeefp.h: fixed ansi conflict with isnanf, isinff,
	finitef functions.
	* libc/sys/a29khif/sys/*.h: ansidecl.h was renamed to _ansi.h some
	time ago.

	* libc/stdio/stdio.h: added P_tmpdir for /tmp (SVID thing)
	* libc/stdio/setbuf.c: added ansi style definition.
	* libc/stdio/setvbuf.c: added ansi definition, now mallocs own
	buffer if none provided.
	* libc/stdio/tmpfile.c: lint
	* libc/stdio/tmpnam.c (worker): created. (tmpnam): mallocs buffer
	rather than using static, also make sure file isn't already
	present.  Uses P_tmpdir. (tempnam): rewritten to use new
	subroutine, and uses P_tmpdir.
	* libc/stdio/siprintf.c: created

Mon Apr 13 09:12:58 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	Release 1.03 for NEC, major mods. Main differences from release
	1.02::

	More tests in test/:
	* jn_vec.c, jnf_vec.c, yn_vec.c, ynf_vec.c, log2_vec.c,
	log2f_vec.c, atan2_vec.c, atan2f_vec.c: new test vectors.
	* test_ieee.c: tests for ieee flags & masks - get/set rounding,
	get/set mask, get/set sticky and get/set roundtoi.  Tests
	that setting the bits changes the way arithmetic is done.
	* string.c: added test to make sure memcmp does it with unsigned
	chars.
	* test.c: cleaned up and removed lint.
	* sprint_vec, sprint_ivec.c, convert.c, conv_vec.c, iconf_vec.c,
	dvec.c: tests for string to value conversions,  sprintf, scanf,
	atof, atoff, strtod, strtodf, atoi, atol, strtol, ecvtbuf, ecvt,
	ecvtf,	fcvtbuf, fcvt, fcvtf, gcvt, gcvtf.  Some attention paid to
	rounding in sprintf too.
	* test_is.c: tests for  isalnum, isalpha, isascii, iscntrl,
	isdigit, isgraph, islower, isprint, ispunct, isspace, isupper,
	isxdigit, toascii, tolower, toupper, _tolower, _toupper in macro
	and function form.
	* math2.c: test for frexp, frexpf, ldexp, ldexpf, modf modff, pow,
	powf

	In the library:
	* libc/stdlib/div.c, libc/stdlib/ldiv.c, libc/stdlib/strtod.c,
	libc/stdlib/strtol.c, libc/stdlib/stroul.c, libc/stdlib/abs.c,
	libc/stdlib/bsearch.c, libc/stdlib/calloc.c, libc/stdlib/getenv.c,
	libc/stdlib/labs.c, libc/stdlib/malloc.c: new documentation
	* libc/stdlib/efgcvt.c: rewritten to use new _dcvt routines rather
	than sprintf.
	* libc/stdio/dcvt.c: rewritten to make more useful elsewhere. 
	* Method of producting float versions of double functions has
	changed, functions will be modified gradually. So far:
	libm/math/exp.c, libm/math/pow.c, libm/math/modf.c,
	libm/math/sincos.c, libm/math/fmod.c, libm/math/tan.c have been
	altered
	* libc/string/memcmp.c: now uses unsigned chars
	* libc/string/bcmp.c, libc/string/strcpy.c,
	libc/stsring/strxfrm.c: fixed doc
	* libc/sys/sysvnecv70.tex: fix example of sbrk code

Local Variables:
version-control: never
End:
