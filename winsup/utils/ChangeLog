2002-01-29  Christopher Faylor  <cgf@redhat.com>

	* dump_setup.cc (parse_filename): Don't consider '_' part of the
	version.

2002-01-28  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc: Fix typo.  Remove uid_t kludge.  Rely on kludge in
	sys/cygwin.h instead.
	* getfacl.c: Add include to remove warning.
	* mkgroup.c (main): Assign variables outside of parameter passing.
	This seems to eliminate some compiler warnings.

2002-01-28  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc: Use specific cygwin includes, as required.

2002-01-28  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in (MINGW_INCLUDES): Change cygwin include.
	* strace.cc: Use specific cygwin includes, as required.
	(load_cygwin): New function.  Loads cygwin DLL, if necessary.
	(attach_process): Attaches strace to a running process.
	(dostrace): Accept pid argument.  Attach to pid if supplied.
	(usage): Describe -p option.  Correct system description.
	(longopts): Alphabetize.
	(opts): Ditto.
	(main): Ditto.  Handle -p option.

2002-01-21  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in (CXXFLAGS): Ensure that important settings are preserved
	even when overriden by command line.

2002-01-21  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in: Build intermediate cygcheck.o to force use of MINGW_CXXFLAGS.
	* cygcheck.cc (cygwin_info): Intitialize variable to quiet g++ warning.
	(dump_sysinfo): Make variables unsigned to quiet g++ warnings.
	* strace.cc (version_string): Rename from SCCSid.
	(add_child): Remove unused variable.
	(version): Use version_string.  Avoid use of fprintf.

2002-01-21  DJ Delorie  <dj@redhat.com>

	* Makefile.in: Use CXX instead of CC to compile C++ sources.

2002-01-17  DJ Delorie  <dj@redhat.com>

	* cygcheck.cc (already_did): Avoid default constructors, which may
	require exception support.

2001-01-16  Joshua Daniel Franklin  <joshuadfranklin@yahoo.com>

	* cygpath.cc (main): Add options to show Desktop and Start
	Menu's Programs directory for current user or all users.
	Move bulk of DPWS options outside the getopt case statement.
	* utils.sgml: Update cygpath section for ADPWS options.

2002-01-15  Joerg Schaible <joerg.schaible@gmx.de>

	* cygpath.cc (doit): Empty file ignored using option -i.

2002-01-15  Mark Bradshaw  <bradshaw@crosswalk.com>

	* mkpasswd.c (print_win_error): Add a new function.
	(enum_users): Use print_win_error.
	(enum_local_groups): Ditto.
	(main): Ditto.

2001-12-26  Jonathan Kamens  <jik@curl.com>

	* cygpath.cc (doit): Detect and warn about an empty path.  Detect and
	warn about errors converting a path.
	(main): Set prog_name correctly -- don't leave an extra slash or
	backslash at the beginning of it.

Fri Dec 14 14:04:37 2001  Jason Tishler <jason@tishler.net>

	* mkpasswd.c (enum_users): Change to unconditionally use
	the --path-to-home option, if supplied by the user.  Use default
	--path-to-home option value, if appropriate.
	(usage): Change usage statement to reflect new semantics.
	(main): Remove defaulting of the --path-to-home option.

Fri Dec 14 12:10:39 2001  Jason Tishler <jason@tishler.net>

	* mkpasswd.c (opts): Add indication that '-p' option requires an
	argument.

2001-12-11  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in: Add define to CXXFLAGS.

2001-12-03  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc (usage): Add -c description.
	* cygpath.cc (usage): Alphabetize options.
	* strace.cc (usage): Ditto.

2001-11-21  Christopher Faylor  <cgf@redhat.com>

	* path.cc (cygpath): Don't consider cygdrive stuff when trying to derive
	native paths.

2001-11-20  Mark Bradshaw  <bradshaw@staff.crosswalk.com>

	* mkpasswd.c: include lmerr.h
	(main): New -u option to allow specifying a
	specific user.  If specified, groups aren't displayed and
	output is limited to only the specified user.
	(enum_users): If specific user is specified, via -u option,
	display only that user's record.  With -u use NetUserGetInfo
	instead of NetUserEnum.
	(load_netapi): Added netusergetinfo.

2001-11-15  Gary R. Van Sickle  <g.r.vansickle@worldnet.att.net>

	* strace.cc (main): Change getopt() to getopt_long().
	Add support for help and version info.
	Use new parse_mask() function for -m/--mask option.
	(longopts): Add long options structure.
	(opts): Move options string from getopts call to static var.
	(usage): Print usage information.
	(SCCSid): Version info.
	(version): New function for displaying version info.
	(parse_mask): New function supporting parsing of mnemonics,
	hex, and basic expressions in masks.
	(mnemonic2ul): New mnemonic parsing function.
	(tag_mask_mnemonic): New type.
	(mnemonic_table): New table of mnemonics for mnemonic2ul() to
	search through.

2001-11-12  Corinna Vinschen  <corinna@vinschen.de>

	* cygcheck.cc (dump_sysinfo): Redefine output format slightly.
	Print correct build number on 9x/ME systems.

2001-11-12  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc (main): Slight formatting tweak.

2001-11-12  Corinna Vinschen  <corinna@vinschen.de>

	* cygcheck.cc (dump_sysinfo): Add some more details.

2001-11-12  Corinna Vinschen  <corinna@vinschen.de>

	* cygcheck.cc (dump_sysinfo): Print more detailed OS information string
	using OSVERSIONINFOEX information.

2001-11-11  Christopher Faylor  <cgf@redhat.com>

	* path.h: New file.

2001-11-11  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc (scan_registry): Open registry with read-only access.
	(main): Reflect argument change for dump_setup.
	* dump_setup.cc (dump_setup): Add preliminary extra argument for future
	use.
	* path.cc (read_mounts): Open registry with read-only access.

2001-11-11  Christopher Faylor  <cgf@redhat.com>

	* cygcheck.cc (main): Display package info when '-s' is specified.
	* dump_setup.cc (dump_setup): Change header.  Remove typo.  Always sort
	packages output.

2001-11-11  Christopher Faylor  <cgf@redhat.com>

	* dump_setup.cc: New file.
	* Makefile.in: Add info for dump_setup.o.
	* cygcheck.cc (main): Recognize '-c' option for checking setup
	installed base.
	* path.cc (cygpath): Read mount table if not loaded.

2001-11-10  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in (cygcheck.exe): Compile as -mno-cygwin executable.
	* path.cc: New file.
	* cygcheck.cc (init_paths): Use MS-DOS path syntax.
	(cygwin_info): Properly display cygwin version numbers.  Prettify some
	output.
	(dump_sysinfo): Calculate max names of posix and ms-dos paths for
	prettier output.

2001-11-09  Corinna Vinschen  <corinna@vinschen.de>

	* cygcheck.cc (dump_sysinfo): Print more detailed OS information string.

2001-11-04  Corinna Vinschen  <corinna@vinschen.de>

	* getfacl.c (username): New function.
	(groupname): Ditto.
	(usage): Ditto.  Add more user friendly help text.
	(main): Add -n and --help option.  Print names instead of IDs
	unless -n option is given.
	* setfacl.c (getperm): Tolerate whitespace and comment chars in input.
	(getaclentry): Fix several input string misdetections.
	(getaclentries): Allow - as input file name to read from stdin.
	Tolerate whitespace and comment chars in input.
	(usage): Add more user friendly help text.
	(main): Add --help option.
	
2001-11-04  Egor Duda  <deo@logos-m.ru>

	* strace.cc (main): New option '-w'. Start traced process in separate
	window. New option '-S x'. Flush buffered output every x seconds.
	(create_child): Start child process in new window, when requested.
	When requested, periodically flush debugging output.

2001-10-24  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in: Remove EXEEXT consideration.  We always need .exe
	extensions.

2001-10-20  Corinna Vinschen  <corinna@vinschen.de>

	* mkgroup.c: Avoid compiler warnings.
	(print_special): New function.
	(main): Print special accounts by calling print_special().
	* mkpasswd.c: Avoid compiler warnings.
	(enum_users): Print additional U-domain\username info in gecos
	field when SIDs are printed.
	(print_special): New function.
	(main): Print special accounts by calling print_special().

2001-10-15  Christopher Faylor  <cgf@redhat.com>

	* mkpasswd.cc (enum_users): Shorten "unused" passwd field.

2001-10-13  Christopher Faylor  <cgf@redhat.com>

	* Makefile.in: Allow stdinc searching for dumper.

Tue Oct  9 21:59:00 2001  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in (MINGW_INCLUDES): Accomodate changes in Makefile.common.

Sun Oct  7 23:06:39 2001  Christopher Faylor <cgf@cygnus.com>

	* kill.cc (main): Set exit value to 1 on invalid pid.  Perform minor
	cleanup.

Fri Sep 21 20:40:30 2001  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in (mingw_getopt.o): Ensure that newlib include directories
	are not searched.

Thu Sep 20 21:00:20 2001  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in (MINGW_INCLUDES): Still need cygwin/include directory.

Wed Sep 19 12:22:08 2001  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in: Filter newlib includes from mingw compilation.

2001-09-14  Egor Duda  <deo@logos-m.ru>

	* dumper.cc (dumper::dumper): Print error code in case of error.
	(dumper::add_thread): Ditto.
	(dumper::collect_memory_sections): Ditto.
	(dumper::dump_memory_region): Ditto.
	(dumper::collect_process_information): Ditto.
	(print_section_name): Fix formatting.

2001-09-13  Egor Duda  <deo@logos-m.ru>

	* dumper.cc (main): Properly recognize negative pids (used by w9x).

2001-09-09  Egor Duda  <deo@logos-m.ru>

	* dumper.cc (main): Change command-line arguments format to be
	similar to gdb. Allow adding error_start=x:\path\to\dumper.exe to
	CYGWIN environment variable to perform core dumping in case of
	program crash.
	(usage): Ditto.

Wed Sep  5 22:37:21 2001  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in (dumper): Change logic for libbfd and libintl so that
	they will be found either in the build tree or the installed directory.
	* mkpasswd.c (enum_users): Add a comment as a password for NT.

2001-09-03  Michael A Chase <mchase@ix.netcom.com>

	* mount.cc (mount_commands): Don't write /cygdrive/u mount points.

2001-09-03  Michael A Chase <mchase@ix.netcom.com>

	* mount.cc (longopts): Add mount-commands to options list.
	(usage): Add mount-commands option.
	(mount_commands): New function.  Write commands to recreate current
	mounts.

Sat Sep  1 15:58:11 2001  Christopher Faylor <cgf@cygnus.com>

	* mount.cc (main): Eliminate excess arguments in printf.

2001-08-30  Egor Duda  <deo@logos-m.ru>

	* dumper.h: Update copyright notice.
	* dumper.cc: Ditto.
	* dumper.cc: (dumper::print_core_section_list): New function.
	* dumper.h: (dumper::print_core_section_list): Declare it.
	* dumper.cc (print_section_name): New function.
	(dumper::collect_process_information): Augment debugging output.
	Stop debugee processing if it posts double exception.
	(usage): Fix typo in option name.

Tue Aug 28 14:45:02 2001  Christopher Faylor <cgf@cygnus.com>

	* mount.cc (main): Issue correct warning for 'not enough arguments'.

2001-08-14  Joerg Schaible <joerg.schaible@gmx.de>

	* cygpath.cc (main): Support -w for Windows (System) directories and
	return physical correct orthography for the Windows System dir.

2001-07-14   Chris Genly  <chgenly@alum.mit.edu>

	* regtool.cc (find_key): Handle keys with only one subkey.

Wed Jun 27 22:46:10 2001  Christopher Faylor <cgf@cygnus.com>

	* regtool.cc (find_key): Revert previous change.

Wed Jun 27 13:37:41 2001  Keith Starsmeare" <keith_starsmeare@yahoo.co.uk>

	* regtool.cc (find_key): Allow '/' as a synonym for '\\'.

Fri Jun 15 00:49:21 2001  Christopher Faylor <cgf@cygnus.com>

	* mkpasswd.c (main): Output passwd file in binary mode so that there
	are no CRs in the file.
	* umount.cc (remove_all_user_mounts): Don't try to remove /cygdrive
	mounts.

Tue May  1 10:50:48 2001  Christopher Faylor <cgf@cygnus.com>

	* mkpasswd.c (enum_users): Use /bin/bash as the default shell.
	(main): Ditto.

Sat Apr 28 22:32:01 2001  Christopher Faylor <cgf@cygnus.com>

	* passwd.cc (ttymnam): New function.
	(main): Use ttynam() to report name of tty.

2001-04-19  Egor Duda  <deo@logos-m.ru>

	* dumper.cc (dumper::init_core_dump): Set architecture field in dump
	header.

Mon Apr 16 15:08:00 2001  Corinna Vinschen <vinschen@redhat.com>

	* mkgroup.c: Add function pointers `netlocalgroupgetmembers' and
	`netgroupgetusers'.
	(load_netapi): Load function pointers `netlocalgroupgetmembers'
	and `netgroupgetusers'.
	(enum_local_users): New function.
	(enum_local_groups): Call `enum_local_users' for each group if
	`print_users' is set.
	(enum_users): New function.
	(enum_groups): Call `enum_users' for each group if `print_users' is set.
	(usage): Add usage text for `-u/--users'.
	(longopts): Add option `--users'.
	(opts): Add option character `u'.
	(main): Set `print_users' according to option `-u/--users'.
	Call `enum_local_groups' and `enum_groups' with additional parameter
	`print_users'.

2001-04-15  Michael A Chase <mchase@ix.netcom.com>

	* mount.cc (longopts): Add help to options list.
	(opts): Add 'h' to options string.
	* umount.cc (longopts): Add help to options list.
	(opts): Add 'h' to options string and change 'R' to 'A'.

2001-04-13  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* mkgroup.c (enum_groups): Use RID + offset specified an additional
	argument as ID.
	(usage): Add description of -o option.
	(longopts, opts): Add specifications of -o/--id-offset option.
	(main): Add -o option.  Invoke enum_groups with specified offset.
	* mkpasswd.c (enum_users): Just like mkgroup.c.
	(usage, longopts, opts): Ditto.
	(main): Add -o option.  Invoke enum_users with specified offset only
	against domain accounts.

2001-04-11  Egor Duda  <deo@logos-m.ru>

	* mkgroup.c (uni2ansi): Use native method to convert from Unicode
	to multi-byte strings.
	* mkpasswd.c (uni2ansi): Ditto.
	(enum_users): Pass buffer size when converting string.
	(enum_local_groups): Ditto.
	* mkgroup.c (enum_groups): Ditto.
	(enum_local_groups): Ditto.

Mon Apr  2 22:41:33 2001  Christopher Faylor <cgf@cygnus.com>

	* mount.cc (main): Use getopt_long for parsing arguments.
	(usage): Reformat, show long and short options.
	* umount.cc (main): Ditto, all of the above.

Mon Apr  2 10:58:26 2001  Christopher Faylor <cgf@cygnus.com>

	* mount.cc (show_mounts): Change format string to more closely resemble
	UNIX when displaying mount table.

Sat Mar 17 21:46:06 2001  Christopher Faylor <cgf@cygnus.com>

	* kill.cc (forcekill): Use dwProcessId when opening a process, not the
	Cygwin pid.

Mon Mar  5 18:50:00 2001  Corinna Vinschen <vinschen@redhat.com>

	* getfacl.c: Add copyright hint.
	* setfacl.c: Ditto.
	* strace.cc: Ditto.

Tue Jan 09 10:26:23 2001  Tony Sideris  <tonys1110@home.com>

	* regtool.cc (cmd_list): Add new registry display options.
	(cmd_list): Add code to implement -p, -k, and -l options.

	* regtool.cc (Fail): Add call to LocalFree to free memory allocated by
	FormatMessage.

Wed Jan 10 09:16:57 2001  Christopher Faylor <cgf@cygnus.com>

	* regtool.cc (translate): Ensure that 'c' is initialized.
	(cmd_set): Ditto for rv.
